System.register("chunks:///_virtual/aboutCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(t){"use strict";var e,n,o,i,r,s,a,c,l,u,p,h,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Button,c=t.Sprite,l=t.color,u=t.find,p=t.director,h=t.Component},function(t){m=t.stateManager}],execute:function(){var d,f,_,g,y;r._RF.push({},"3068aBQ9wFGN5JR2iRYV/Ot","aboutCtrlr",void 0);var b=s.ccclass,v=s.property;t("aboutCtrlr",(d=b("aboutCtrlr"),f=v({type:[a]}),d((y=e((g=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).m_sectionIndex=0,e.m_sections=void 0,o(e,"m_btns",y,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.m_sections=this.node.getChildByPath("panelBg/sectionsContainer").children,this.setUI()},r.setUI=function(){for(var t=0;t<this.m_btns.length;t++){this.m_btns[t].node.getComponent(c).color=l(255,255,255,this.m_sectionIndex==t?200:255)}},r.selectCompany=function(t,e){u("stateManager").getComponent(m).playBtnSound(),this.m_sectionIndex=e,this.m_sections[1-this.m_sectionIndex].active=!1,this.m_sections[this.m_sectionIndex].active=!0,this.setUI()},r.goBack=function(){u("stateManager").getComponent(m).playBtnSound(),p.loadScene("homeScene")},e}(h)).prototype,"m_btns",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=g))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/dataLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./xlsx.mjs"],(function(e){"use strict";var t,a,r,n,o,i,s,c,l,u,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.game,c=e.director,l=e.resources,u=e.Component},function(e){d=e.read,m=e.utils}],execute:function(){var h,f,g,p,_;o._RF.push({},"13510mATT1K+69a0ShzccVC","dataLoader",void 0);var S=i.ccclass,v=i.property;e("dataLoader",(h=S("dataLoader"),f=v({type:Object}),h((_=t((p=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).m_baseUrl="https://app-cf6d19ba-6849-4172-ad9e-0423ded407d4.cleverapps.io",r(t,"m_gameStruct",_,n(t)),t.m_quizData=null,t.m_fiowData=null,t.m_saveWcData=null,t.m_sanitizeData=null,t.m_quiz_excel_url="https://docs.google.com/spreadsheets/d/e/2PACX-1vRSAQaTABwKtg-UXX8VOpsa80R5Re8d1dNF2glniiY1SQ3y7NzN7CLS19nSGDjeMxEzhhr7P6zYhAbI/pubhtml",t.m_savewc_excel_url="https://docs.google.com/spreadsheets/d/e/2PACX-1vSICo7dgg828X8HuaFjRZ9T2w_0E9p_9DGEFUVV-TNgsKta2hFtRwlYmj6OkNppI4XOiA37FvW946ZL/pubhtml",t}a(t,e);var o=t.prototype;return o.onLoad=function(){this.node._persistNode||s.addPersistRootNode(this.node)},o.start=function(){"true"!=localStorage.getItem("_dataLoaded")&&(this.getQuizData(),this.getFiowData(),this.getSaveWcData(),this.getSanitizeData(),this.loadGameStruct(),localStorage.setItem("_dataLoaded","true")),"null"!=localStorage.getItem("m_persistentGameLang")&&localStorage.getItem("m_persistentGameLang")?setTimeout((function(){c.loadScene("homeScene")}),1500):setTimeout((function(){c.loadScene("onboardScene")}),1500)},o.getExcelData=function(e,t){var a=this;fetch(t).then((function(e){if(!e.ok)throw new Error("fetch failed");return e.arrayBuffer()})).then((function(t){var r=new Uint8Array(t),n=d(r,{type:"array"}),o=n.SheetNames[0],i=n.Sheets[o],s=m.sheet_to_json(i,{raw:!0});switch(s.forEach((function(e,t){var a=s[t].questions,r=s[t].answers;s[t].questions={fr:"",en:""},s[t].answers={fr:[],en:[]},s[t].questions.fr=a.replaceAll("&#39;","'");var n=r.split("\n").filter((function(e){return e}));n.forEach((function(e,t){var a={answer:e.replaceAll("&#39;","'"),isCorrect:0==t};n[t]=a})),s[t].answers.fr=n})),e){case 0:a.m_quizData=s;break;case 1:a.m_fiowData=s;break;case 2:a.m_saveWcData=s}}))},o.getQuizData=function(){this.getExcelData(0,this.m_quiz_excel_url)},o.getFiowData=function(){},o.getSaveWcData=function(){this.getExcelData(2,this.m_savewc_excel_url)},o.getSanitizeData=function(){this.m_sanitizeData={env:[],bio:[],building:[]}},o.loadGameStruct=function(){var e=this;l.load("gameStruct",(function(t,a){e.m_gameStruct=a.json,console.log(e.m_gameStruct)}))},t}(u)).prototype,"m_gameStruct",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=p))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/dataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,a,r,s;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){a=n.cclegacy,r=n._decorator,s=n.Component}],execute:function(){var c,i;a._RF.push({},"136a3owNEVHJJHiafn/3eIl","dataManager",void 0);var o=r.ccclass;r.property,n("DataManager",o(((i=function(n){function a(){return n.apply(this,arguments)||this}return t(a,n),a.prototype.setLog=function(){},e(a,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new a),this._instance}}]),a}(s))._instance=new i,c=i))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/finalCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,n,o,c;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.director,c=t.Component}],execute:function(){var i;e._RF.push({},"414b9uc2K5BlaDW4tTsjqy9","finalCtrlr",void 0);var l=n.ccclass;n.property,t("finalCtrlr",l("finalCtrlr")(i=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.start=function(){},n.replay=function(){localStorage.clear(),setTimeout((function(){o.loadScene("splashScene")}),200)},e}(c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/fortuneWcCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./transitionBoxCtrlr.ts","./stateManager.ts","./transitions.ts"],(function(t){"use strict";var e,n,a,r,o,i,l,s,u,c,p,g,m,h,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,i=t._decorator,l=t.Node,s=t.Button,u=t.find,c=t.tween,p=t.Label,g=t.director,m=t.Component},function(t){h=t.transitionBoxCtrlr},function(t){f=t.stateManager},function(t){y=t.TRANSITIONS}],execute:function(){var v,_,d,w,b,M,C,B,S,q,x;o._RF.push({},"819c9SAtElJc7v7pww+pQO9","fortuneWcCtrlr",void 0);var T=i.ccclass,z=i.property;t("fortuneWcCtrlr",(v=T("fortuneWcCtrlr"),_=z({type:l}),d=z({type:s}),w=z({type:l}),b=z({type:l}),v((B=e((C=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,a(e,"m_wheel",B,r(e)),a(e,"m_launchBtn",S,r(e)),e.m_lang="fr",e.m_tween=void 0,a(e,"m_transitionBox",q,r(e)),a(e,"m_preloader",x,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){this.m_lang=u("stateManager").getComponent(f).m_gameLang.get(),this.displayTransition()},o.displayTransition=function(){var t=y[this.m_lang].wc,e=t[Math.floor(Math.random()*t.length)];this.m_transitionBox.getComponent(h).setItem("Small",e,"happy",!0,2e3)},o.launch=function(){var t=this;u("stateManager").getComponent(f).playBtnSound();var e=[{type:"coin",value:100,angle:0},{type:"pq",value:2,angle:45},{type:"coin",value:200,angle:90},{type:"pq",value:3,angle:135},{type:"coin",value:300,angle:180},{type:"pq",value:4,angle:225},{type:"coin",value:400,angle:270},{type:"pq",value:1,angle:315}],n=e[Math.floor(Math.random()*e.length)],a=Math.floor(4*Math.random())+2,r=n.angle+360*a;this.m_tween=c().target(this.m_wheel).to(1.5,{angle:r},{easing:function(t){return 1-Math.pow(Math.min(1,Math.max(0,t))-1,2)}}),this.m_tween.start(),this.m_launchBtn.enabled=!1,setTimeout((function(){console.log(n);var e=JSON.parse(u("stateManager").getComponent(f).m_playerData.get());switch(n.type){case"coin":e.coins+=n.value,e.stats.poop_coins=n.value;break;case"pq":e.pq+=n.value,e.stats.pq=n.value}var a="Canvas/"+n.type+"View";u(a).getComponentInChildren(p).string=n.value.toString(),u(a).active=!0,u("stateManager").getComponent(f).m_playerData.set(JSON.stringify(e)),setTimeout((function(){t.m_preloader.active=!0,g.loadScene("recapScene")}),1e3)}),1550)},e}(m)).prototype,"m_wheel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(C.prototype,"m_launchBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(C.prototype,"m_transitionBox",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(C.prototype,"m_preloader",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=C))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/gameHeaderCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(t){"use strict";var e,n,r,a,i,o,s,u,p,l,c,m,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,s=t.Label,u=t.Node,p=t.Sprite,l=t.SpriteFrame,c=t.find,m=t.Component},function(t){g=t.stateManager}],execute:function(){var f,y,_,h,b,d,P,v,C,T,x,B,M;i._RF.push({},"4e05dIhImFOuZV9uQqlybwu","gameHeaderCtrlr",void 0);var S=o.ccclass,q=o.property;t("gameHeaderCtrlr",(f=S("gameHeaderCtrlr"),y=q({type:s}),_=q({type:s}),h=q({type:u}),b=q({type:p}),d=q({type:[l]}),f((C=e((v=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"m_pqPointsText",C,a(e)),r(e,"m_coinsPointsText",T,a(e)),r(e,"m_optsCanvas",x,a(e)),r(e,"m_pauseBtn",B,a(e)),r(e,"m_pauseBtnTextures",M,a(e)),e}n(e,t);var i=e.prototype;return i.start=function(){this.setPqPoints(),this.setCoinsPoints()},i.setPqPoints=function(){if(""!=c("stateManager").getComponent(g).m_playerData.get()){var t=JSON.parse(c("stateManager").getComponent(g).m_playerData.get());this.m_pqPointsText.string=this.padWithZeroes(t.pq,3)}},i.setCoinsPoints=function(){if(""!=c("stateManager").getComponent(g).m_playerData.get()){var t=JSON.parse(c("stateManager").getComponent(g).m_playerData.get());this.m_coinsPointsText.string=this.padWithZeroes(t.coins,3)}},i.padWithZeroes=function(t,e){for(var n=""+t;n.length<e;)n="0"+n;return n},i.updatePauseBtn=function(t){this.m_pauseBtn.spriteFrame=this.m_pauseBtnTextures[t]},i.gotoOpts=function(){var t=this;c("stateManager").getComponent(g).playBtnSound(),this.updatePauseBtn(1),localStorage.setItem("screenType","PAUSE"),setTimeout((function(){t.m_optsCanvas.active=!0}),50)},e}(m)).prototype,"m_pqPointsText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(v.prototype,"m_coinsPointsText",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(v.prototype,"m_optsCanvas",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(v.prototype,"m_pauseBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(v.prototype,"m_pauseBtnTextures",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=v))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/global.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({definePlayers:function(e,n,r){var t=[e],a=[].concat(n).sort((function(e,n){return.5-Math.random()})),i=a.indexOf(r);a.splice(i,1);for(var o=0;o<4;o++){var s=a[o],c={index:0,podiumIndex:o+1,name:"",avatar:"",score:0,globalScore:0,coins:0,pq:0,progression:{levelIndex:0,roundIndex:0,gameIndex:0,bestScore:0},stats:{pq:0,wrong_answers:0,right_answers:0,poop_coins:0},eliminated:!1};c.index=n.indexOf(s),c.name=s.m_name.toString(),t.push(c)}return t},getRandomWithWeight:function(e){for(var n=e[0].point,r=Math.floor(101*Math.random()),t=0;t<e.length;t++){var a=e[t].power;if(r>0&&r<=a){n=e[t].point;break}r-=a}return n},padWithX:function(e,n,r){void 0===r&&(r=null);return r=r||"0",(e+="").length>=n?e:new Array(n-e.length+1).join(r)+e},qualifyPlayers:function(e,n){var r=e.sort((function(e,n){return n.score-e.score})),t=r.findIndex((function(e){return 1==e.eliminated}));-1==t&&(t=0);for(var a=r.filter((function(e){return 1==e.eliminated})).length+n,i=r.length-a;i<r.length;i++)r[i].eliminated=!0;return r}}),n._RF.push({},"99e3efStQJJ0Kxx/1vyJZ0R","global",void 0);e("OPPONENTS_ANSWERS_PROBS",[{name:"EASY",baseProbaRightAnswer:50,marginProbaRightAnswer:20},{name:"MEDIUM",baseProbaRightAnswer:60,marginProbaRightAnswer:20},{name:"HARD",baseProbaRightAnswer:70,marginProbaRightAnswer:20}]),e("TROPHIES_ACCESS",[{id:0,name:"NONE",scoreMin:0,scoreMax:199},{id:1,name:"BRONZE",scoreMin:200,scoreMax:450},{id:2,name:"SILVER",scoreMin:451,scoreMax:600},{id:3,name:"GOLD",scoreMin:601,scoreMax:1e7}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/homeCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,n,a,o,r,i,s,l,c,p,u,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,s=e.Button,l=e.Node,c=e.find,p=e.director,u=e.Component},function(e){g=e.stateManager}],execute:function(){var m,d,f,S,y,v,_,C,h;r._RF.push({},"4a9967+diFFJYlWPph1xB4S","homeCtrlr",void 0);var M=i.ccclass,B=i.property;e("homeCtrlr",(m=M("homeCtrlr"),d=B({type:s}),f=B({type:l}),S=B({type:l}),m((_=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,a(t,"m_investBtn",_,o(t)),a(t,"m_optsCanvas",C,o(t)),a(t,"m_preloader",h,o(t)),t}n(t,e);var r=t.prototype;return r.start=function(){this.setInvestBtn()},r.setInvestBtn=function(){""!=c("stateManager").getComponent(g).m_playerData.get()?JSON.parse(c("stateManager").getComponent(g).m_playerData.get()).coins>0?this.m_investBtn.node.active=!0:this.m_investBtn.node.active=!1:this.m_investBtn.node.active=!1},r.play=function(){if(c("stateManager").getComponent(g).playBtnSound(),this.m_preloader.active=!0,""!=c("stateManager").getComponent(g).m_playerData.get()){var e=JSON.parse(c("stateManager").getComponent(g).m_playerData.get()),t=JSON.parse(c("stateManager").getComponent(g).m_gameStruct.get()).levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;c("stateManager").getComponent(g).m_selectedDifficulty.set(e.progression.levelIndex),setTimeout((function(){var e=t+"Scene";p.loadScene(e)}),200)}else"false"==c("stateManager").getComponent(g).m_didSeeTutorial.get()?(c("stateManager").getComponent(g).m_didSeeTutorial.set("true"),p.loadScene("tutorialScene")):p.loadScene("difficultyScene")},r.gotoSanitize=function(){c("stateManager").getComponent(g).playBtnSound(),""!=c("stateManager").getComponent(g).m_playerData.get()?p.loadScene("sanitizeScene"):alert("Choisissez un personnage d'abord !")},r.gotoAbout=function(){c("stateManager").getComponent(g).playBtnSound(),this.m_preloader.active=!0,p.loadScene("aboutScene")},r.gotoOpts=function(){var e=this;c("stateManager").getComponent(g).playBtnSound(),localStorage.setItem("screenType","SETTINGS"),setTimeout((function(){e.m_optsCanvas.active=!0}),50)},r.gotoTutorial=function(){c("stateManager").getComponent(g).playBtnSound(),this.m_preloader.active=!0,p.loadScene("tutorialScene")},r.reset=function(){c("stateManager").getComponent(g).playBtnSound(),localStorage.clear(),c("dataLoader").destroy(),c("stateManager").destroy(),setTimeout((function(){p.loadScene("splashScene")}),10)},t}(u)).prototype,"m_investBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(v.prototype,"m_optsCanvas",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(v.prototype,"m_preloader",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/imageWordsCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameHeaderCtrlr.ts","./transitionBoxCtrlr.ts","./global.ts","./stateManager.ts","./transitions.ts"],(function(e){"use strict";var t,n,r,a,i,s,o,m,l,g,u,p,_,c,h,d,f,C,v,w,S,b,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,o=e.Label,m=e.Sprite,l=e.Node,g=e.SpriteFrame,u=e.find,p=e.director,_=e.assetManager,c=e.Texture2D,h=e.Button,d=e.Color,f=e.Component},function(e){C=e.gameHeaderCtrlr},function(e){v=e.transitionBoxCtrlr},function(e){w=e.OPPONENTS_ANSWERS_PROBS,S=e.getRandomWithWeight},function(e){b=e.stateManager},function(e){y=e.TRANSITIONS}],execute:function(){var M,B,I,x,N,q,O,z,E,R,A,D,T,J,L;i._RF.push({},"8d09ekhLntDLLsprhwUa7Gc","imageWordsCtrlr",void 0);var P=s.ccclass,W=s.property;e("imageWords",(M=P("imageWords"),B=W({type:o}),I=W({type:m}),x=W({type:[l]}),N=W({type:[g]}),q=W({type:l}),O=W({type:l}),M((R=t((E=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).m_GAME_NAME="imageWords",t.m_MISTAKES=3,t.m_BASE_SCORE=50,t.m_base_score=void 0,t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,t.m_correctBtnIndex=0,r(t,"m_questionHeader",R,a(t)),r(t,"m_questionImage",A,a(t)),r(t,"m_answerBtns",D,a(t)),r(t,"m_btnTextures",T,a(t)),r(t,"m_transitionBox",J,a(t)),r(t,"m_preloader",L,a(t)),t}n(t,e);var i=t.prototype;return i.start=function(){this.m_lang=u("stateManager").getComponent(b).m_gameLang.get(),this.nextSet()},i.nextSet=function(){if(this.m_didClearRound)p.loadScene("fortuneWcScene");else if(this.m_didClearLevel);else{var e=JSON.parse(u("stateManager").getComponent(b).m_playerData.get()),t=JSON.parse(u("stateManager").getComponent(b).m_fiowData.get()),n=JSON.parse(u("stateManager").getComponent(b).m_fiowDataInit.get());0==t.length&&(t=n,u("stateManager").getComponent(b).m_fiowData.set(JSON.stringify(t)));var r=JSON.parse(u("stateManager").getComponent(b).m_gameStruct.get()),a=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var i=r.levels[a].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(i==this.m_GAME_NAME){var s=t.filter((function(e){return e.level==a+1}));0==s.length&&(s=t);var o=Math.floor(Math.random()*s.length);this.m_quiz=s[o],t.splice(t.indexOf(this.m_quiz),1),u("stateManager").getComponent(b).m_fiowData.set(JSON.stringify(t)),this.initView(),this.m_base_score=this.m_BASE_SCORE,this.m_mistakes=this.m_MISTAKES}else{this.m_preloader.active=!0;var m=i+"Scene";p.loadScene(m)}}},i.initView=function(){var e=this;this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/5";var t=JSON.parse(this.m_quiz.questions)[this.m_lang];this.m_questionImage.node.getChildByName("spinnerItem").active=!0,_.loadRemote(t,(function(t,n){if(!t){var r=new c;r.image=n;var a=new g;a.texture=r,e.m_questionImage.spriteFrame=a,e.m_questionImage.node.getChildByName("spinnerItem").active=!1}}));var n=JSON.parse(this.m_quiz.answers)[this.m_lang].sort((function(){return Math.random()-.5}));this.m_quiz.answers=n;for(var r=0;r<this.m_answerBtns.length;r++){var a=this.m_answerBtns[r];a.getComponent(h).interactable=!0,a.getComponent(h).enabled=!0,a.getComponent(m).color=d.WHITE,a.getChildByName("spinnerItem").active=!1,a.getComponentInChildren(o).string=this.m_quiz.answers[r].answer,this.m_quiz.answers[r].isCorrect&&(this.m_correctBtnIndex=r)}},i.usePqHint=function(){var e=JSON.parse(u("stateManager").getComponent(b).m_playerData.get());if(0!=e.pq){e.pq-=1;for(var t=0,n=0;n<this.m_answerBtns.length;n++){0==this.m_answerBtns[n].getComponent(h).enabled&&t++}if(!(t>=2)){for(var r=0,a=0;a<this.m_quiz.answers.length;a++){if(!this.m_quiz.answers[a].isCorrect){var i=this.m_answerBtns[a];i.getComponent(h).interactable=!1,i.getComponent(h).enabled=!1,i.getComponent(m).color=d.RED,r++}if(2==r)break}u("stateManager").getComponent(b).m_playerData.set(JSON.stringify(e)),this.node.getChildByName("gameHeader").getComponent(C).setPqPoints()}}},i.checkAnswer=function(e,t){var n=this;u("stateManager").getComponent(b).playBtnSound();var r=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,r),r){var a=(o=y[this.m_lang].answers.correct)[Math.floor(Math.random()*o.length)];this.m_transitionBox.getComponent(v).setItem("Small",a,"happy",!0);var i=u("stateManager").getComponent(b).updateProgress(this.m_base_score);this.m_didClearRound=i[0],this.m_didClearLevel=i[1],setTimeout((function(){n.nextSet()}),1e3);for(var s=0;s<this.m_answerBtns.length;s++)this.m_answerBtns[s].getComponent(h).enabled=!1,this.m_answerBtns[s].getChildByName("spinnerItem").active=!1}else{var o;a=(o=y[this.m_lang].answers.wrong)[Math.floor(Math.random()*o.length)];if(this.m_transitionBox.getComponent(v).setItem("Small",a,"sad",!0),this.m_mistakes>1)this.m_mistakes--,this.m_base_score-=10;else{setTimeout((function(){n.setAnswerBtnColor(n.m_correctBtnIndex,!0)}),300);var m=u("stateManager").getComponent(b).updateProgress(this.m_base_score,!1);this.m_didClearRound=m[0],this.m_didClearLevel=m[1],setTimeout((function(){n.nextSet()}),1e3)}}this.simulateOpponentsScores(this.m_base_score)},i.simulateOpponentsScores=function(e){var t=JSON.parse(u("stateManager").getComponent(b).m_playerData.get()),n=JSON.parse(u("stateManager").getComponent(b).m_playersListData.get()),r=[].concat(n),a=t.progression.levelIndex,i=w[a].baseProbaRightAnswer,s=w[a].marginProbaRightAnswer/5+1,o=r.findIndex((function(e){return e.index==t.index}));r[o].score+=e;for(var m=0;m<r.length;m++)if(m!=o&&!r[m].eliminated){var l=[1,-1][Math.floor(2*Math.random())],g=5*Math.floor(Math.random()*s),p=i+(g*=l),_=[{point:1,power:p},{point:0,power:100-p}];_=_.sort((function(e,t){return.5-Math.random()}));var c=S(_);r[m].score=r[m].score+10*c}u("stateManager").getComponent(b).m_playersListData.set(JSON.stringify(r))},i.setAnswerBtnColor=function(e,t){var n=t?d.GREEN:d.RED,r=this.m_answerBtns[e];r.getComponent(h).enabled=!1,setTimeout((function(){r.getComponent(m).color=n}),50)},t}(f)).prototype,"m_questionHeader",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"m_questionImage",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(E.prototype,"m_answerBtns",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(E.prototype,"m_btnTextures",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(E.prototype,"m_transitionBox",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(E.prototype,"m_preloader",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=E))||z));i._RF.pop()}}}));

System.register("chunks:///_virtual/letterBtnCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./saveWcCtrlr.ts"],(function(t){"use strict";var e,r,n,o,c,i,l,s,a,u;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Label,c=t.find,i=t.Color,l=t.Button,s=t.Sprite,a=t.Component},function(t){u=t.saveWcCtrlr}],execute:function(){var p;r._RF.push({},"8cd7ewmqL5K3qyQXOr7ggwb","letterBtnCtrlr",void 0);var C=n.ccclass;n.property,t("letterBtnCtrlr",C("letterBtnCtrlr")(p=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_clicked=void 0,e}e(r,t);var n=r.prototype;return n.start=function(){this.m_clicked=!1},n.onClickLetter=function(t){if(!this.m_clicked){var e=this.getComponentInChildren(o).string,r=c("Canvas").getComponent(u).onClickLetter(e),n=r[0],a=r[1],p=n||a?i.GREEN:i.RED;this.node.getComponent(l).enabled=!1,this.node.getComponent(s).color=p,this.m_clicked=!0}},r}(a))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/loaderCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,o,a,n,i,l,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,o=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){n=r.cclegacy,i=r._decorator,l=r.Node,c=r.Component}],execute:function(){var s,u,p,d,f;n._RF.push({},"fa1daXeCoNOj4eETPKpxsIW","loaderCtrlr",void 0);var y=i.ccclass,h=i.property;r("loaderCtrlr",(s=y("loaderCtrlr"),u=h({type:l}),s((f=e((d=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n))||this,o(e,"dataLoader",f,a(e)),e}return t(e,r),e.prototype.start=function(){},e}(c)).prototype,"dataLoader",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./index.mjs_cjs=&original=2.js","./aboutCtrlr.ts","./gameHeaderCtrlr.ts","./letterBtnCtrlr.ts","./playerAvatarCtrlr.ts","./playerItemsCtrlr.ts","./playerPupitreListCtrlr.ts","./playerRecapListCtrlr.ts","./transitionBoxCtrlr.ts","./finalCtrlr.ts","./fortuneWcCtrlr.ts","./global.ts","./homeCtrlr.ts","./imageWordsCtrlr.ts","./loaderCtrlr.ts","./dataLoader.ts","./stateManager.ts","./uiManager.ts","./onboardCtrlr.ts","./optionsCtrlr.ts","./quizCtrlr.ts","./recapCtrlr.ts","./sanitizeCtrlr.ts","./saveWcCtrlr.ts","./selectDifficultyCtrlr.ts","./selectPlayerCtrlr.ts","./tutorialCtrlr.ts","./dataManager.ts","./persistentMember.ts","./scrobs.ts","./singleton.ts","./transitions.ts","./types.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/onboardCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,n,r,o,a,i,l,u,c,s,p,g,m,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.Label,u=e.Button,c=e.Node,s=e.find,p=e.Sprite,g=e.Color,m=e.director,d=e.Component},function(e){f=e.stateManager}],execute:function(){var h,_,b,C,y,F,v,B,A,L,w;a._RF.push({},"e54b1fD/i1MhpwScq6iOs5a","onboardCtrlr",void 0);var M=i.ccclass,S=i.property;e("onboardCtrlr",(h=M("onboardCtrlr"),_=S({type:l}),b=S({type:u}),C=S({type:[c]}),y=S({type:c}),h((B=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"m_header",B,o(t)),r(t,"m_continueBtn",A,o(t)),r(t,"m_langBtns",L,o(t)),r(t,"m_preloader",w,o(t)),t.m_selectedLang=void 0,t}n(t,e);var a=t.prototype;return a.start=function(){this.m_selectedLang=s("stateManager").getComponent(f).m_gameLang.get()},a.selectLang=function(e,t){s("stateManager").getComponent(f).playBtnSound();var n={fr:[0,"Choisir votre langue pour continuer","CONTINUER"],en:[1,"Choose your language to continue","CONTINUE"]},r=n[t][0],o=n[t][1],a=n[t][2];this.m_selectedLang=t;for(var i=0;i<this.m_langBtns.length;i++){var c=this.m_langBtns[i];c.getComponent(u).enabled=!(i==r),c.getComponent(p).color=new g(i==r?"#FFFFFF":"#AAA4A4"),c.getComponent(u).normalColor=new g(i==r?"#FFFFFF":"#AAA4A4")}this.m_header.string=o,this.m_continueBtn.getComponentInChildren(l).string=a,s("stateManager").getComponent(f).m_gameLang.set(t)},a.continue=function(){s("stateManager").getComponent(f).playBtnSound(),this.m_preloader.active=!0,m.loadScene("homeScene")},t}(d)).prototype,"m_header",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(v.prototype,"m_continueBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(v.prototype,"m_langBtns",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(v.prototype,"m_preloader",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=v))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/optionsCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameHeaderCtrlr.ts","./stateManager.ts"],(function(e){"use strict";var t,n,r,a,o,i,s,u,p,m,l,c,g,f,_,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.Label,u=e.Node,p=e.Button,m=e.SpriteFrame,l=e.find,c=e.Sprite,g=e.director,f=e.Component},function(e){_=e.gameHeaderCtrlr},function(e){d=e.stateManager}],execute:function(){var b,y,h,C,S,T,M,v,B,z,E,I,w;o._RF.push({},"09b8a6d6CJHSo9zGd2KVCMt","optionsCtrlr",void 0);var x=i.ccclass,F=i.property;e("optionsCtrlr",(b=x("optionsCtrlr"),y=F({type:s}),h=F({type:u}),C=F({type:[p]}),S=F({type:[m]}),T=F({type:u}),b((B=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"m_title",B,a(t)),r(t,"m_ctaBtn",z,a(t)),r(t,"m_btns",E,a(t)),r(t,"m_btnsTextures",I,a(t)),r(t,"m_preloader",w,a(t)),t.m_screenType="SETTINGS",t}n(t,e);var o=t.prototype;return o.start=function(){this.m_screenType=localStorage.getItem("screenType")||"SETTINGS","SETTINGS"==this.m_screenType&&(this.m_title.string="PARAMETRES",this.m_ctaBtn.active=!1),this.setUI()},o.setUI=function(){var e=l("stateManager").getComponent(d).m_gameSoundEffects.get(),t=l("stateManager").getComponent(d).m_gameMusic.get();this.m_btns[0].node.getComponent(c).spriteFrame="true"==e?this.m_btnsTextures[0]:this.m_btnsTextures[1],this.m_btns[1].node.getComponent(c).spriteFrame="true"==t?this.m_btnsTextures[0]:this.m_btnsTextures[1]},o.switchOpt=function(e,t){var n=this;if(l("stateManager").getComponent(d).playBtnSound(),0==t){var r=l("stateManager").getComponent(d).m_gameSoundEffects.get();l("stateManager").getComponent(d).m_gameSoundEffects.set("true"==r?"false":"true")}if(1==t){var a=l("stateManager").getComponent(d).m_gameMusic.get();l("stateManager").getComponent(d).m_gameMusic.set("true"==a?"false":"true"),"true"!=a?l("stateManager").getComponent(d).m_bgSound.play():l("stateManager").getComponent(d).m_bgSound.pause()}setTimeout((function(){n.setUI()}),100)},o.leaveRound=function(){l("stateManager").getComponent(d).playBtnSound(),this.m_preloader.active=!0,g.loadScene("homeScene")},o.goBack=function(){var e=this;l("stateManager").getComponent(d).playBtnSound(),null!=this.node.parent.getComponent(_)&&this.node.parent.getComponent(_).updatePauseBtn(0),setTimeout((function(){e.node.active=!1}),10)},t}(f)).prototype,"m_title",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(v.prototype,"m_ctaBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(v.prototype,"m_btns",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(v.prototype,"m_btnsTextures",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=t(v.prototype,"m_preloader",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=v))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/persistentMember.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy}],execute:function(){var r;t("Kayfo",void 0),n._RF.push({},"cd885xdxDNIMZY/2AVMF67T","persistentMember",void 0),function(t){var n=function(){function t(t,e){this.m_defaultValue=void 0,this.m_value=void 0,this.m_key=void 0,this.loadedOnce=!1,this.m_key=t,this.m_defaultValue=e}var e=t.prototype;return e.get=function(){return this.loadedOnce||(null!=localStorage.getItem(this.m_key)?this.m_value=this.GetInternal():this.m_value=this.m_defaultValue,this.loadedOnce=!0),this.m_value},e.set=function(t){this.m_value=t,this.SetInternal(t)},e.GetInternal=function(){},e.SetInternal=function(t){},t}(),r=function(t){function n(e,n){return t.call(this,e,n)||this}e(n,t);var r=n.prototype;return r.GetInternal=function(){return"true"==localStorage.getItem(this.m_key)},r.SetInternal=function(t){localStorage.setItem(this.m_key,t?"true":"false")},n}(n);t.PersistentBool=r;var i=function(t){function n(e,n){return t.call(this,e,n)||this}e(n,t);var r=n.prototype;return r.GetInternal=function(){return parseFloat(localStorage.getItem(this.m_key))},r.SetInternal=function(t){localStorage.setItem(this.m_key,t.toString())},n}(n);t.PersistentNum=i;var o=function(t){function n(e,n){return t.call(this,e,n)||this}e(n,t);var r=n.prototype;return r.GetInternal=function(){return localStorage.getItem(this.m_key)},r.SetInternal=function(t){localStorage.setItem(this.m_key,t)},n}(n);t.PersistentString=o}(r||(r=t("Kayfo",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/playerAvatarCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./selectPlayerCtrlr.ts","./scrobs.ts"],(function(t){"use strict";var e,r,a,n,i,o,l,c,s,p,u,y,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,l=t.Sprite,c=t.find,s=t.Button,p=t.Color,u=t.Component},function(t){y=t.selectPlayerCtrlr},function(t){m=t.playerItemSCROB}],execute:function(){var v,C,f,h,d;i._RF.push({},"59219xlRtRDfaXhtyWvvcj3","playerAvatarCtrlr",void 0);var _=o.ccclass,g=o.property;t("playerAvatarCtrlr",(v=_("playerAvatarCtrlr"),C=g({type:m}),v((d=e((h=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_clicked=void 0,a(e,"m_playerData",d,n(e)),e}r(e,t);var i=e.prototype;return i.start=function(){this.m_clicked=!1},i.setItem=function(t){this.m_playerData=t,this.node.getComponentInChildren(l).spriteFrame=t.m_avatar},i.onClickPlayerAvatar=function(t){this.m_clicked||(c("Canvas").getComponent(y).onClickPlayerAvatar(this.m_playerData),this.node.getComponent(s).enabled=!1,this.node.getComponent(l).color=new p("#FAC800"),this.m_clicked=!0)},e}(u)).prototype,"m_playerData",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/playerItemsCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scrobs.ts"],(function(e){"use strict";var a,r,t,i,s,n,l,o;return{setters:[function(e){a=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,n=e._decorator,l=e.Component},function(e){o=e.playerItemSCROB}],execute:function(){var c,m,p,u,y;s._RF.push({},"ce3611EcONFxZryb8REr9Lt","playerItemsCtrlr",void 0);var h=n.ccclass,f=n.property;e("playerItemsCtrlr",(c=h("playerItemsCtrlr"),m=f({type:[o]}),c((y=a((u=function(e){function a(){for(var a,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return a=e.call.apply(e,[this].concat(s))||this,t(a,"playerItems",y,i(a)),a.playersNames=[["Lucas","Juma","Cedric","Kevin","Habibe","Peter","Caleb","Lamine","Abdou","Amos","Tichona","Tidiane","Musa","Cheikh","Omar","Franck","Thomas","Uche","Eyasu","Sam","Daniel","Malick","Jean","Koffi","Dieudonne","Vicente","Adama","Djamal"],["Emma","Binta","Pamela","Fatou","Sandra","Aicha","Astou","Yemi","Isabelle","Valerie","Isa","Sofia","Amina","Eva","Kadi","Faty","Nafi","Bané","Njeri","Marie","Rose","Aida","Nancy","Rose","Aya","Maria","Hasnaa","Nneka"]],a}r(a,e);var s=a.prototype;return s.start=function(){},s.updatePlayersData=function(){for(var e=0;e<this.playerItems.length;e++){var a=this.playerItems[e],r=Math.floor(Math.random()*this.playersNames[a.m_sex].length),t=this.playersNames[a.m_sex].splice(r,1)[0];this.playerItems[e].m_name=t}},a}(l)).prototype,"playerItems",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=u))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/playerPupitreListCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts","./playerItemsCtrlr.ts"],(function(e){"use strict";var t,r,a,n,i,o,l,s,p,c,y,m,u,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Prefab,s=e.instantiate,p=e.find,c=e.Component,y=e.Color,m=e.Sprite,u=e.Label},function(e){g=e.stateManager},function(e){f=e.playerItemsCtrlr}],execute:function(){var d,h,C,P,_;i._RF.push({},"499dfdPzu9MfZJCqL9j8fZp","playerPupitreListCtrlr",void 0);var v=o.ccclass,I=o.property;e("playerPupitreListCtrlr",(d=v("playerPupitreListCtrlr"),h=I({type:l}),d((_=t((P=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"m_playerItemsPrefab",_,n(t)),t.m_playerItemSCROBs=void 0,t}r(t,e);var i=t.prototype;return i.start=function(){this.initView()},i.initView=function(){var e=this,t=s(this.m_playerItemsPrefab);if(this.m_playerItemSCROBs=t.getComponent(f).playerItems,""!=p("stateManager").getComponent(g).m_playersListData.get())for(var r=JSON.parse(p("stateManager").getComponent(g).m_playerData.get()),a=JSON.parse(p("stateManager").getComponent(g).m_playersListData.get()),n=[].concat(a).sort((function(e,t){return t.score-e.score})),i=function(t){var i=a.find((function(e){return e.podiumIndex==t})),o=e.m_playerItemSCROBs[i.index],l=e.node.children[t],s=n.findIndex((function(e){return e.index==i.index}));s>2&&(s=3);var p=i.eliminated?y.BLACK:y.WHITE,c=n.filter((function(e){return 0==e.eliminated})).length;(r.eliminated||1==c)&&(l.getChildByPath("trophies").children[s].active=!0),l.getChildByPath("playerMask/player").getComponent(m).spriteFrame=o.m_avatar,l.getChildByPath("playerMask/player").getComponent(m).color=p,l.getChildByPath("playerMask/playerName").getComponent(u).string=o.m_name.toString(),l.getChildByPath("playerMask/playerScore").getComponent(u).string=i.score.toString(),l.getChildByPath("playerMask/playerScore").getComponent(u).color=i.eliminated?y.RED:y.WHITE},o=0;o<a.length;o++)i(o)},t}(c)).prototype,"m_playerItemsPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=P))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/playerRecapListCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts","./playerItemsCtrlr.ts"],(function(t){"use strict";var e,r,a,n,i,o,l,s,p,c,y,g,m,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,l=t.Prefab,s=t.instantiate,p=t.find,c=t.Component,y=t.Color,g=t.Label,m=t.Sprite},function(t){u=t.stateManager},function(t){h=t.playerItemsCtrlr}],execute:function(){var C,f,d,P,v;i._RF.push({},"15c38DG21pD+rPgfd2yyFMS","playerRecapListCtrlr",void 0);var _=o.ccclass,B=o.property;t("playerRecapListCtrlr",(C=_("playerRecapListCtrlr"),f=B({type:l}),C((v=e((P=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"m_playerItemsPrefab",v,n(e)),e.m_playerItemSCROBs=void 0,e}r(e,t);var i=e.prototype;return i.start=function(){this.initView()},i.initView=function(){var t=this,e=s(this.m_playerItemsPrefab);if(this.m_playerItemSCROBs=e.getComponent(h).playerItems,""!=p("stateManager").getComponent(u).m_playersListData.get())for(var r=JSON.parse(p("stateManager").getComponent(u).m_playerData.get()),a=JSON.parse(p("stateManager").getComponent(u).m_playersListData.get()),n=[].concat(a).sort((function(t,e){return e.score-t.score})),i=function(e){var a=n[e],i=t.m_playerItemSCROBs[a.index],o=t.node.children[e],l=n.findIndex((function(t){return t.index==a.index}));l>2&&(l=3);var s=a.eliminated?y.BLACK:y.WHITE,p=n.filter((function(t){return 0==t.eliminated})).length;(r.eliminated||1==p)&&(o.getChildByPath("trophies").children[l].active=!0,o.getChildByPath("playerRank").active=!0,o.getChildByPath("playerRank").getComponent(g).string=(e+1).toString()),o.getChildByPath("playerMask/player").getComponent(m).spriteFrame=i.m_avatar,o.getChildByPath("playerMask/player").getComponent(m).color=s,o.getChildByPath("playerPoints").getComponent(g).string=a.score.toString()+" pts",o.getChildByPath("playerPoints").getComponent(g).color=a.eliminated?y.RED:y.BLACK},o=0;o<n.length;o++)i(o)},e}(c)).prototype,"m_playerItemsPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=P))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/quizCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameHeaderCtrlr.ts","./playerItemsCtrlr.ts","./transitionBoxCtrlr.ts","./global.ts","./stateManager.ts","./transitions.ts"],(function(e){"use strict";var t,n,r,a,i,o,s,m,l,p,u,g,_,c,h,d,f,C,y,b,S,v,w,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Prefab,m=e.Sprite,l=e.Label,p=e.Node,u=e.SpriteFrame,g=e.find,_=e.instantiate,c=e.director,h=e.Button,d=e.Color,f=e.Component},function(e){C=e.gameHeaderCtrlr},function(e){y=e.playerItemsCtrlr},function(e){b=e.transitionBoxCtrlr},function(e){S=e.OPPONENTS_ANSWERS_PROBS,v=e.getRandomWithWeight},function(e){w=e.stateManager},function(e){M=e.TRANSITIONS}],execute:function(){var B,z,q,x,I,N,O,A,R,E,P,D,T,J,L,H,k,U,W,F,G,V,K;i._RF.push({},"b7381Amf3pGYYibaJeBCvw2","quizCtrlr",void 0);var Y=o.ccclass,j=o.property;e("quizCtrlr",(B=Y("quizCtrlr"),z=j({type:s}),q=j({type:m}),x=j({type:l}),I=j({type:l}),N=j({type:l}),O=j({type:l}),A=j({type:[p]}),R=j({type:[u]}),E=j({type:p}),P=j({type:p}),B((J=t((T=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).m_GAME_NAME="quiz",t.m_MISTAKES=3,t.m_BASE_SCORE=50,t.m_base_score=void 0,t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,t.m_correctBtnIndex=0,r(t,"m_playerItemsPrefab",J,a(t)),t.m_playerItemSCROBs=void 0,r(t,"m_playerAvatar",L,a(t)),r(t,"m_playerName",H,a(t)),r(t,"m_playerScore",k,a(t)),r(t,"m_questionHeader",U,a(t)),r(t,"m_questionText",W,a(t)),r(t,"m_answerBtns",F,a(t)),r(t,"m_btnTextures",G,a(t)),r(t,"m_transitionBox",V,a(t)),r(t,"m_preloader",K,a(t)),t}n(t,e);var i=t.prototype;return i.start=function(){this.m_lang=g("stateManager").getComponent(w).m_gameLang.get(),this.setPlayerView(),this.nextSet()},i.setPlayerView=function(){var e=_(this.m_playerItemsPrefab);this.m_playerItemSCROBs=e.getComponent(y).playerItems;var t=JSON.parse(g("stateManager").getComponent(w).m_playerData.get()),n=this.m_playerItemSCROBs[t.index];this.m_playerAvatar.spriteFrame=n.m_avatar,this.m_playerName.string=t.name.toUpperCase(),this.m_playerScore.string=t.score.toString()},i.nextSet=function(){if(this.m_didClearRound)c.loadScene("fortuneWcScene");else if(this.m_didClearLevel);else{var e=JSON.parse(g("stateManager").getComponent(w).m_playerData.get()),t=JSON.parse(g("stateManager").getComponent(w).m_quizData.get()),n=JSON.parse(g("stateManager").getComponent(w).m_quizDataInit.get());0==t.length&&(t=n,g("stateManager").getComponent(w).m_quizData.set(JSON.stringify(t)));var r=JSON.parse(g("stateManager").getComponent(w).m_gameStruct.get()),a=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var i=r.levels[a].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(this.updateUiScore(),i==this.m_GAME_NAME){var o=t.filter((function(e){return e.level==a+1}));0==o.length&&(o=t);var s=Math.floor(Math.random()*o.length);this.m_quiz=o[s],t.splice(t.indexOf(this.m_quiz),1),g("stateManager").getComponent(w).m_quizData.set(JSON.stringify(t)),this.initView(),this.m_base_score=this.m_BASE_SCORE,this.m_mistakes=this.m_MISTAKES}else{this.m_preloader.active=!0;var m=i+"Scene";c.loadScene(m)}}},i.initView=function(){this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/5",this.m_questionText.string=this.m_quiz.questions[this.m_lang];var e=this.m_quiz.answers[this.m_lang].sort((function(){return Math.random()-.5}));this.m_quiz.answers=e;for(var t=0;t<this.m_answerBtns.length;t++){var n=this.m_answerBtns[t];n.getComponent(h).interactable=!0,n.getComponent(h).enabled=!0,n.getComponent(m).color=d.WHITE,n.getComponentInChildren(l).string=this.m_quiz.answers[t].answer,this.m_quiz.answers[t].isCorrect&&(this.m_correctBtnIndex=t)}},i.usePqHint=function(){var e=JSON.parse(g("stateManager").getComponent(w).m_playerData.get());if(0!=e.pq){e.pq-=1;for(var t=0,n=0;n<this.m_answerBtns.length;n++){0==this.m_answerBtns[n].getComponent(h).enabled&&t++}if(!(t>=2)){for(var r=0,a=0;a<this.m_quiz.answers.length;a++){if(!this.m_quiz.answers[a].isCorrect){var i=this.m_answerBtns[a];i.getComponent(h).interactable=!1,i.getComponent(h).enabled=!1,i.getComponent(m).color=d.RED,r++}if(2==r)break}g("stateManager").getComponent(w).m_playerData.set(JSON.stringify(e)),this.node.getChildByName("gameHeader").getComponent(C).setPqPoints()}}},i.checkAnswer=function(e,t){var n=this;g("stateManager").getComponent(w).playBtnSound();var r=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,r),r){var a=(s=M[this.m_lang].answers.correct)[Math.floor(Math.random()*s.length)];this.m_transitionBox.getComponent(b).setItem("Small",a,"happy",!0);var i=g("stateManager").getComponent(w).updateProgress(this.m_base_score);this.m_didClearRound=i[0],this.m_didClearLevel=i[1],this.updateUiScore(),setTimeout((function(){n.nextSet()}),1e3);for(var o=0;o<this.m_answerBtns.length;o++)this.m_answerBtns[o].getComponent(h).enabled=!1}else{var s;a=(s=M[this.m_lang].answers.wrong)[Math.floor(Math.random()*s.length)];if(this.m_transitionBox.getComponent(b).setItem("Small",a,"sad",!0),this.m_mistakes>1)this.m_mistakes--,this.m_base_score-=10;else{setTimeout((function(){n.setAnswerBtnColor(n.m_correctBtnIndex,!0)}),300);var m=g("stateManager").getComponent(w).updateProgress(this.m_base_score,!1);this.m_didClearRound=m[0],this.m_didClearLevel=m[1],this.updateUiScore(),setTimeout((function(){n.nextSet()}),1e3)}}this.simulateOpponentsScores(this.m_base_score)},i.simulateOpponentsScores=function(e){var t=JSON.parse(g("stateManager").getComponent(w).m_playerData.get()),n=JSON.parse(g("stateManager").getComponent(w).m_playersListData.get()),r=[].concat(n),a=t.progression.levelIndex,i=S[a].baseProbaRightAnswer,o=S[a].marginProbaRightAnswer/5+1,s=r.findIndex((function(e){return e.index==t.index}));r[s].score+=e;for(var m=0;m<r.length;m++)if(m!=s&&!r[m].eliminated){var l=[1,-1][Math.floor(2*Math.random())],p=5*Math.floor(Math.random()*o),u=i+(p*=l),_=[{point:1,power:u},{point:0,power:100-u}];_=_.sort((function(e,t){return.5-Math.random()}));var c=v(_);r[m].score=r[m].score+10*c}g("stateManager").getComponent(w).m_playersListData.set(JSON.stringify(r))},i.updateUiScore=function(){var e=JSON.parse(g("stateManager").getComponent(w).m_playerData.get());this.m_playerScore.string=e.score.toString()},i.setAnswerBtnColor=function(e,t){var n=t?d.GREEN:d.RED,r=this.m_answerBtns[e];r.getComponent(h).enabled=!1,setTimeout((function(){r.getComponent(m).color=n}),50)},t}(f)).prototype,"m_playerItemsPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"m_playerAvatar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"m_playerName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"m_playerScore",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"m_questionHeader",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(T.prototype,"m_questionText",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"m_answerBtns",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(T.prototype,"m_btnTextures",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(T.prototype,"m_transitionBox",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(T.prototype,"m_preloader",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=T))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/recapCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playerItemsCtrlr.ts","./global.ts","./stateManager.ts"],(function(e){"use strict";var t,n,a,r,i,s,o,l,p,u,c,m,g,_,f,d,y,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,o=e.Prefab,l=e.Node,p=e.Label,u=e.find,c=e.instantiate,m=e.director,g=e.Component},function(e){_=e.playerItemsCtrlr},function(e){f=e.qualifyPlayers,d=e.padWithX,y=e.definePlayers,C=e.TROPHIES_ACCESS},function(e){b=e.stateManager}],execute:function(){var v,h,S,w,L,I,M,P,x,O,z,J,D,N,R,B,q,A,E;i._RF.push({},"1b666GzmrJA5roFqjajIZqh","recapCtrlr",void 0);var T=s.ccclass,j=s.property;e("recapCtrlr",(v=T("recapCtrlr"),h=j({type:o}),S=j({type:l}),w=j({type:p}),L=j({type:p}),I=j({type:p}),M=j({type:p}),P=j({type:p}),x=j({type:l}),v((J=t((z=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,a(t,"m_playerItemsPrefab",J,r(t)),t.m_playerItemSCROBs=void 0,a(t,"m_podiumPlayersContainer",D,r(t)),a(t,"m_continuBtnLabel",N,r(t)),t.m_isEliminated=!1,t.m_clearedLevel=!1,t.m_levelCoins=0,a(t,"m_pqCountLabel",R,r(t)),a(t,"m_rightAnswersCountLabel",B,r(t)),a(t,"m_wrongAnswersCountLabel",q,r(t)),a(t,"m_coinsCountLabel",A,r(t)),a(t,"m_preloader",E,r(t)),t}n(t,e);var i=t.prototype;return i.start=function(){var e=this;this.initPlayers(),setTimeout((function(){e.setupPlayers()}),1e3)},i.initPlayers=function(){var e=JSON.parse(u("stateManager").getComponent(b).m_playerData.get()),t=JSON.parse(u("stateManager").getComponent(b).m_playersListData.get()),n=[].concat(t),a=n.findIndex((function(t){return t.index==e.index}));n[a]=e;var r=c(this.m_playerItemsPrefab);this.m_playerItemSCROBs=r.getComponent(_).playerItems;var i=0;switch(e.progression.roundIndex-1){case 0:i=2;break;case-1:case 1:case 2:i=1}this.setPlayerStats(e);var s=f(n,i);if(u("stateManager").getComponent(b).m_playersListData.set(JSON.stringify(s)),-1!=s.findIndex((function(t){return t.index==e.index&&0==t.eliminated}))||(this.m_isEliminated=!0,this.m_continuBtnLabel.string="REJOUER"),"true"==u("stateManager").getComponent(b).m_didClearRound.get()){this.m_levelCoins=e.stats.poop_coins;var o=e.progression.levelIndex-1;e.level_coins[o]+=this.m_levelCoins,e.eliminated=!1,e.stats={pq:0,wrong_answers:0,right_answers:0,poop_coins:0},u("stateManager").getComponent(b).m_playerData.set(JSON.stringify(e)),u("stateManager").getComponent(b).m_didClearRound.set("false")}},i.setPlayerStats=function(e){this.m_pqCountLabel.string=d(e.stats.pq,3),this.m_rightAnswersCountLabel.string=d(e.stats.right_answers,3),this.m_wrongAnswersCountLabel.string=d(e.stats.wrong_answers,3),this.m_coinsCountLabel.string=d(e.stats.poop_coins,3)},i.setPlayersView=function(e){},i.gotoSanitize=function(){u("stateManager").getComponent(b).playBtnSound(),this.m_preloader.active=!0,m.loadScene("sanitizeScene")},i.setupPlayers=function(){if("true"==u("stateManager").getComponent(b).m_didClearLevel.get()){var e=JSON.parse(u("stateManager").getComponent(b).m_playerData.get());this.m_clearedLevel=!0;var t=e.score;e.eliminated=!1;var n=e.progression.levelIndex-1;e.level_coins[n]=e.level_coins[n]>e.stats.poop_coins?e.level_coins[n]:e.stats.poop_coins,e.level_coins[n]+=t,e.stats={pq:0,wrong_answers:0,right_answers:0,poop_coins:0},e.score=0,u("stateManager").getComponent(b).m_playerData.set(JSON.stringify(e));var a=e,r=this.m_playerItemSCROBs,i=this.m_playerItemSCROBs[e.index],s=y(a,r,i);u("stateManager").getComponent(b).setPlayersListData(s),u("stateManager").getComponent(b).m_didClearLevel.set("false");var o=C.find((function(e){return t>=e.scoreMin&&t<=e.scoreMax}));if(o){var l=JSON.parse(u("stateManager").getComponent(b).m_gameStruct.get()),p=e.progression.levelIndex-1,c=C.findIndex((function(e){return e.name==l.levels[p].trophy}));o.id>c&&(l.levels[p].trophy=o.name),u("stateManager").getComponent(b).m_gameStruct.set(JSON.stringify(l))}}},i.continue=function(){this.m_preloader.active=!0,u("stateManager").getComponent(b).playBtnSound();var e=JSON.parse(u("stateManager").getComponent(b).m_playerData.get()),t=JSON.parse(u("stateManager").getComponent(b).m_gameStruct.get()).levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played}));if(this.m_isEliminated)localStorage.clear(),setTimeout((function(){m.loadScene("splashScene")}),200);else if(t){var n=t.name;this.m_clearedLevel?setTimeout((function(){m.loadScene("difficultyScene")}),200):setTimeout((function(){var e=n+"Scene";m.loadScene(e)}),200)}else setTimeout((function(){m.loadScene("finalScene")}),200)},t}(g)).prototype,"m_playerItemsPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(z.prototype,"m_podiumPlayersContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(z.prototype,"m_continuBtnLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(z.prototype,"m_pqCountLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(z.prototype,"m_rightAnswersCountLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(z.prototype,"m_wrongAnswersCountLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(z.prototype,"m_coinsCountLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(z.prototype,"m_preloader",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=z))||O));i._RF.pop()}}}));

System.register("chunks:///_virtual/sanitizeCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameHeaderCtrlr.ts","./stateManager.ts"],(function(e){"use strict";var t,n,i,r,a,o,s,l,u,m,p,c,g,h,_,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.extends},function(e){o=e.cclegacy,s=e._decorator,l=e.Node,u=e.Sprite,m=e.Label,p=e.find,c=e.director,g=e.Button,h=e.Component},function(e){_=e.gameHeaderCtrlr},function(e){b=e.stateManager}],execute:function(){var y,f,d,v,S,C,z,B,D,I,w,R,M,N,J,x,P,O,T,H,k,F,V,L,Z,j,A,E,q;o._RF.push({},"c915fxZwENF5JyJZ+Fku4h8","sanitizeCtrlr",void 0);var G=s.ccclass,K=s.property;e("sanitizeCtrlr",(y=G("sanitizeCtrlr"),f=K({type:l}),d=K({type:l}),v=K({type:l}),S=K({type:[l]}),C=K({type:[l]}),z=K({type:[l]}),B=K({type:l}),D=K({type:l}),I=K({type:l}),w=K({type:u}),R=K({type:m}),M=K({type:Boolean}),N=K({type:l}),y((P=t((x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"m_gameHeader",P,r(t)),i(t,"m_menuBox",O,r(t)),i(t,"m_plusBtn",T,r(t)),i(t,"m_envSets",H,r(t)),i(t,"m_bioSets",k,r(t)),i(t,"m_buildingSets",F,r(t)),i(t,"m_envResourceItem",V,r(t)),i(t,"m_bioResourceItem",L,r(t)),i(t,"m_buildingResourceItem",Z,r(t)),i(t,"m_progressSlider",j,r(t)),i(t,"m_progressText",A,r(t)),t.m_playerData=null,i(t,"m_onTest",E,r(t)),i(t,"m_preloader",q,r(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){if(this.m_onTest){var e=JSON.parse(p("stateManager").getComponent(b).m_playerData.get());e.coins=3e3,p("stateManager").getComponent(b).m_playerData.set(JSON.stringify(e))}},o.start=function(){this.m_playerData=JSON.parse(p("stateManager").getComponent(b).m_playerData.get()),this.setupVisuals()},o.goBack=function(){this.m_preloader.active=!0,p("stateManager").getComponent(b).playBtnSound(),c.loadScene("homeScene")},o.setupVisuals=function(){var e=JSON.parse(p("stateManager").getComponent(b).m_sanitizeData.get()),t=e.env;this.setScenery(this.m_envSets,this.m_envResourceItem,t);var n=e.bio;this.setScenery(this.m_bioSets,this.m_bioResourceItem,n);var i=e.building;this.setScenery(this.m_buildingSets,this.m_buildingResourceItem,i),this.setPercentage([this.m_envSets,this.m_bioSets,this.m_buildingSets],[t,n,i])},o.setPercentage=function(e,t){for(var n=0,i=0;i<e.length;i++)for(var r=e[i],a=0;a<r.length;a++)n++;for(var o=0,s=0;s<t.length;s++)o+=t[s].length;var l=o/n;this.m_progressSlider.fillRange=l,this.m_progressText.string=Math.round(100*l)+"%"},o.toggleMenu=function(e,t){p("stateManager").getComponent(b).playBtnSound();var n="true"==t;this.m_menuBox.active=n,this.m_plusBtn.active=!n},o.refreshView=function(){this.setupVisuals(),this.m_gameHeader.getComponent(_).setCoinsPoints()},o.setScenery=function(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];e[r].getChildByName("dirty").active=!1,e[r].getChildByName("clean").active=!0}var a=t.getChildByPath("action/investBtn").getComponent(g),o=parseInt(t.getChildByPath("action/coins/cost").getComponent(m).string),s=n.length/e.length;t.getChildByPath("spotsSlider/spotsFill").getComponent(u).fillRange=s,(this.m_playerData.coins<o||n.length==e.length)&&(a.interactable=!1)},o.investIn=function(e,t){p("stateManager").getComponent(b).playBtnSound();var n=JSON.parse(p("stateManager").getComponent(b).m_sanitizeData.get()),i=a({},n),r=(this.m_envSets,this.m_envResourceItem);switch(t){case"env":this.m_envSets,r=this.m_envResourceItem;break;case"bio":this.m_bioSets,r=this.m_bioResourceItem;break;case"building":this.m_buildingSets,r=this.m_buildingResourceItem}var o=parseInt(r.getChildByPath("action/coins/cost").getComponent(m).string);this.investInDomain(t,i,o)},o.investInDomain=function(e,t,n){var i=this;this.m_playerData=JSON.parse(p("stateManager").getComponent(b).m_playerData.get()),this.m_playerData.coins-=n;var r=t[e].length;t[e].push(r),p("stateManager").getComponent(b).m_playerData.set(JSON.stringify(this.m_playerData)),p("stateManager").getComponent(b).m_sanitizeData.set(JSON.stringify(t)),setTimeout((function(){i.refreshView()}),1e3)},t}(h)).prototype,"m_gameHeader",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(x.prototype,"m_menuBox",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(x.prototype,"m_plusBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(x.prototype,"m_envSets",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(x.prototype,"m_bioSets",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(x.prototype,"m_buildingSets",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(x.prototype,"m_envResourceItem",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(x.prototype,"m_bioResourceItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(x.prototype,"m_buildingResourceItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(x.prototype,"m_progressSlider",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(x.prototype,"m_progressText",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(x.prototype,"m_onTest",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=t(x.prototype,"m_preloader",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=x))||J));o._RF.pop()}}}));

System.register("chunks:///_virtual/saveWcCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameHeaderCtrlr.ts","./transitionBoxCtrlr.ts","./global.ts","./stateManager.ts","./transitions.ts"],(function(e){"use strict";var t,n,i,r,s,a,o,l,m,h,_,u,c,d,p,g,f,C,v,S,b,y,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,o=e.Label,l=e.Node,m=e.Prefab,h=e.Sprite,_=e.SpriteFrame,u=e.find,c=e.instantiate,d=e.director,p=e.Button,g=e.Color,f=e.Component},function(e){C=e.gameHeaderCtrlr},function(e){v=e.transitionBoxCtrlr},function(e){S=e.OPPONENTS_ANSWERS_PROBS,b=e.getRandomWithWeight},function(e){y=e.stateManager},function(e){w=e.TRANSITIONS}],execute:function(){var M,T,x,A,E,O,I,B,N,R,F,L,z,P,k,W,q,D,H,J,K,G,U,V,Q;s._RF.push({},"9c06eIaSWFM8ZFeNrliu+JW","saveWcCtrlr",void 0);var X=a.ccclass,Y=a.property;e("saveWcCtrlr",(M=X("saveWcCtrlr"),T=Y({type:o}),x=Y({type:o}),A=Y({type:l}),E=Y({type:l}),O=Y({type:m}),I=Y({type:m}),B=Y({type:[l]}),N=Y({type:h}),R=Y({type:[_]}),F=Y({type:l}),L=Y({type:l}),M((k=t((P=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).m_GAME_NAME="saveWc",t.m_MISTAKES=3,t.m_BASE_SCORE=50,t.m_base_score=void 0,t.m_ALPHABET=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,t.m_word=void 0,t.m_letters=void 0,t.m_lettersToFind=void 0,i(t,"m_questionHeader",k,r(t)),i(t,"m_questionText",W,r(t)),i(t,"m_keyboard",q,r(t)),i(t,"m_slotsContainer",D,r(t)),i(t,"m_letterBtn",H,r(t)),i(t,"m_letterSlot",J,r(t)),i(t,"m_answerBtns",K,r(t)),i(t,"m_wcSprite",G,r(t)),i(t,"m_wcTextures",U,r(t)),i(t,"m_transitionBox",V,r(t)),i(t,"m_preloader",Q,r(t)),t}n(t,e);var s=t.prototype;return s.start=function(){this.m_lang=u("stateManager").getComponent(y).m_gameLang.get(),this.nextSet()},s.initKeyboard=function(){this.m_keyboard.destroyAllChildren();for(var e=0;e<this.m_ALPHABET.length;e++){var t=this.m_ALPHABET[e],n=c(this.m_letterBtn);n.getComponentInChildren(o).string=t,this.m_keyboard.addChild(n)}},s.initAnswer=function(e,t){void 0===t&&(t=1),this.m_word=e,this.m_letters=this.m_word.split(""),this.m_lettersToFind=[];var n=this.getHiddenLength(e.length,t);this.m_MISTAKES=n,this.m_mistakes=n;var i=this.getRandomIndexes(e.length,n);this.m_slotsContainer.destroyAllChildren();for(var r=0;r<this.m_letters.length;r++){var s=this.m_letters[r],a=c(this.m_letterSlot);a.getComponentInChildren(o).string=s,-1!=i.indexOf(r)&&(a.getComponentInChildren(o).enabled=!1,this.m_lettersToFind.push(s));var l=[].concat(new Set(this.m_lettersToFind));this.m_lettersToFind=l,this.m_slotsContainer.addChild(a)}},s.getHiddenLength=function(e,t){return e/(4-t)+1},s.getRandomIndexes=function(e,t){for(var n=[],i=0;i<t;i++){var r=Math.floor(Math.random()*e);-1==n.indexOf(r)&&n.push(r)}return n},s.nextSet=function(){if(this.m_didClearRound)this.m_preloader.active=!0,d.loadScene("fortuneWcScene");else if(this.m_didClearLevel);else{var e=JSON.parse(u("stateManager").getComponent(y).m_playerData.get()),t=JSON.parse(u("stateManager").getComponent(y).m_saveWcData.get()),n=JSON.parse(u("stateManager").getComponent(y).m_saveWcDataInit.get());0==t.length&&(t=n,u("stateManager").getComponent(y).m_saveWcData.set(JSON.stringify(t)));var i=JSON.parse(u("stateManager").getComponent(y).m_gameStruct.get()),r=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var s=i.levels[r].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(s==this.m_GAME_NAME){var a=t.filter((function(e){return e.level==r+1}));0==a.length&&(a=t);var o=Math.floor(Math.random()*a.length);this.m_quiz=a[o],t.splice(t.indexOf(this.m_quiz),1),u("stateManager").getComponent(y).m_saveWcData.set(JSON.stringify(t)),this.initView(),this.m_base_score=this.m_BASE_SCORE,this.m_mistakes=this.m_MISTAKES}else{this.m_preloader.active=!0,console.log("WE ARE LOADING THE NEXT TYPE OF GAME(any)");var l=s+"Scene";d.loadScene(l)}}},s.initView=function(){this.m_wcSprite.spriteFrame=this.m_wcTextures[0],this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/5",this.initKeyboard(),this.m_questionText.string=this.m_quiz.questions[this.m_lang];var e=this.m_quiz.answers[this.m_lang][0].answer.toUpperCase();console.log(e),this.initAnswer(e,this.m_quiz.level)},s.onClickLetter=function(e){var t=this;u("stateManager").getComponent(y).playBtnSound();for(var n=-1!=this.m_lettersToFind.indexOf(e),i=-1!=this.m_letters.indexOf(e),r=0;r<this.m_slotsContainer.children.length;r++){var s=this.m_slotsContainer.children[r];s.getComponentInChildren(o).string==e&&(s.getComponentInChildren(o).enabled=!0)}if(console.log(this.m_lettersToFind),n){if(this.m_lettersToFind.splice(this.m_lettersToFind.indexOf(e),1),0==this.m_lettersToFind.length){var a=(h=w[this.m_lang].answers.correct)[Math.floor(Math.random()*h.length)];this.m_transitionBox.getComponent(v).setItem("Small",a,"happy",!0),console.log("COMPLETED");var l=u("stateManager").getComponent(y).updateProgress(this.m_base_score);this.m_didClearRound=l[0],this.m_didClearLevel=l[1],this.simulateOpponentsScores(this.m_base_score),setTimeout((function(){t.nextSet()}),2e3)}}else if(console.log("UNC"),!i)if(this.m_mistakes>1){this.m_mistakes--;var m=Math.floor(this.m_BASE_SCORE/this.m_MISTAKES);this.m_base_score-=m*this.m_mistakes,this.setupWc()}else{this.m_wcSprite.spriteFrame=this.m_wcTextures[2];var h;a=(h=w[this.m_lang].answers.wrong)[Math.floor(Math.random()*h.length)];this.m_transitionBox.getComponent(v).setItem("Small",a,"sad",!0);var _=u("stateManager").getComponent(y).updateProgress(this.m_base_score,!1);this.m_didClearRound=_[0],this.m_didClearLevel=_[1],this.simulateOpponentsScores(this.m_base_score),setTimeout((function(){t.nextSet()}),2e3)}return[n,i]},s.usePqHint=function(){var e=JSON.parse(u("stateManager").getComponent(y).m_playerData.get());if(0!=e.pq){e.pq-=1;var t=this.m_lettersToFind[0];this.onClickLetter(t),u("stateManager").getComponent(y).m_playerData.set(JSON.stringify(e)),this.node.getChildByName("gameHeader").getComponent(C).setPqPoints()}},s.setupWc=function(){var e=0;this.m_mistakes<=this.m_MISTAKES/2?e=1:0==this.m_mistakes&&(e=2),this.m_wcSprite.spriteFrame=this.m_wcTextures[e]},s.simulateOpponentsScores=function(e){var t=JSON.parse(u("stateManager").getComponent(y).m_playerData.get()),n=JSON.parse(u("stateManager").getComponent(y).m_playersListData.get()),i=[].concat(n),r=t.progression.levelIndex,s=S[r].baseProbaRightAnswer,a=S[r].marginProbaRightAnswer/5+1,o=i.findIndex((function(e){return e.index==t.index}));i[o].score+=e;for(var l=0;l<i.length;l++)if(l!=o&&!i[l].eliminated){var m=[1,-1][Math.floor(2*Math.random())],h=5*Math.floor(Math.random()*a),_=s+(h*=m),c=[{point:1,power:_},{point:0,power:100-_}];c=c.sort((function(e,t){return.5-Math.random()}));var d=b(c);i[l].score=i[l].score+10*d}u("stateManager").getComponent(y).m_playersListData.set(JSON.stringify(i))},s.checkAnswer=function(e,t){var n=this,i=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,i),i){var r=u("stateManager").getComponent(y).updateProgress(this.m_base_score);this.m_didClearRound=r[0],this.m_didClearLevel=r[1],setTimeout((function(){n.nextSet()}),1e3);for(var s=0;s<this.m_answerBtns.length;s++)this.m_answerBtns[s].getComponent(p).enabled=!1}else if(this.m_mistakes>1){this.m_mistakes--;Math.floor(this.m_BASE_SCORE/this.m_MISTAKES);this.m_base_score-=5*this.m_mistakes}else setTimeout((function(){n.nextSet()}),1e3)},s.setAnswerBtnColor=function(e,t){var n=t?g.GREEN:g.RED,i=this.m_answerBtns[e];i.getComponent(p).enabled=!1,setTimeout((function(){i.getComponent(h).color=n}),30)},t}(f)).prototype,"m_questionHeader",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(P.prototype,"m_questionText",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(P.prototype,"m_keyboard",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(P.prototype,"m_slotsContainer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(P.prototype,"m_letterBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(P.prototype,"m_letterSlot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(P.prototype,"m_answerBtns",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(P.prototype,"m_wcSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(P.prototype,"m_wcTextures",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(P.prototype,"m_transitionBox",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(P.prototype,"m_preloader",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=P))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/scrobs.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,a,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e._decorator,a=e.Enum,o=e.SpriteFrame}],execute:function(){var u,l,c,s,p,m,b,f,_,g,h,y,v;i._RF.push({},"f9dcaE3/shDiJEVDV6R85g5","scrobs",void 0);var z,S=n.ccclass,d=n.property;!function(e){e[e.M=0]="M",e[e.F=1]="F"}(z||(z={}));e("playerItemSCROB",(u=S("playerItemSCROB"),l=d({type:a(z)}),c=d(o),s=d(String),p=d(Number),m=d(String),u((_=t((f=function(){r(this,"m_sex",_,this),r(this,"m_avatar",g,this),r(this,"m_name",h,this),r(this,"m_age",y,this),r(this,"m_job",v,this)}).prototype,"m_sex",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.M}}),g=t(f.prototype,"m_avatar",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(f.prototype,"m_name",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=t(f.prototype,"m_age",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=t(f.prototype,"m_job",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"No Job"}}),b=f))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/selectDifficultyCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,r,n,a,i,o,s,l,p,u,c,m,g,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,l=e.SpriteFrame,p=e.find,u=e.Sprite,c=e.Button,m=e.Label,g=e.director,f=e.Component},function(e){y=e.stateManager}],execute:function(){var d,h,_,v,C,D,S,x,b,M,B;i._RF.push({},"b2e73D9aSlKz4HmBUM1Pmut","selectDifficultyCtrlr",void 0);var I=o.ccclass,N=o.property;e("selectDifficultyCtrlr",(d=I("selectDifficultyCtrlr"),h=N({type:[s]}),_=N({type:[l]}),v=N({type:[l]}),C=N({type:s}),d((x=t((S=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"m_difficultyItems",x,a(t)),n(t,"m_boxTextures",b,a(t)),n(t,"m_trophiesTextures",M,a(t)),n(t,"m_preloader",B,a(t)),t}r(t,e);var i=t.prototype;return i.start=function(){this.initDifficulties()},i.initDifficulties=function(){for(var e=JSON.parse(p("stateManager").getComponent(y).m_gameStruct.get()).levels,t=0;t<e.length;t++){var r=e[t],n=this.m_difficultyItems[t];this.setupDifficultyItem(r,n,t)}},i.setupDifficultyItem=function(e,t,r){var n=e.unlocked;t.getComponent(u).spriteFrame=this.m_boxTextures[n?1:0],t.getComponent(c).enabled=n,t.getChildByName("lock").active=!n;var a={NONE:this.m_trophiesTextures[0],BRONZE:this.m_trophiesTextures[1],SILVER:this.m_trophiesTextures[2],GOLD:this.m_trophiesTextures[3]}[e.trophy];if(t.getChildByName("trophy").getComponent(u).spriteFrame=a,t.getChildByPath("coinsBox/value").getComponent(m).string="0",""!=p("stateManager").getComponent(y).m_playerData.get()){var i=JSON.parse(p("stateManager").getComponent(y).m_playerData.get());t.getChildByPath("coinsBox/value").getComponent(m).string=i.level_coins[r].toString()}},i.selectDifficulty=function(e,t){if(this.m_preloader.active=!0,p("stateManager").getComponent(y).playBtnSound(),p("stateManager").getComponent(y).m_selectedDifficulty.set(t),""!=p("stateManager").getComponent(y).m_playerData.get()){var r=JSON.parse(p("stateManager").getComponent(y).m_playerData.get());r.progression.levelIndex=t,r.progression.roundIndex=0,r.progression.gameIndex=0,p("stateManager").getComponent(y).m_playerData.set(JSON.stringify(r))}setTimeout((function(){if(""!=p("stateManager").getComponent(y).m_playerData.get()){var e=JSON.parse(p("stateManager").getComponent(y).m_playerData.get()),t=JSON.parse(p("stateManager").getComponent(y).m_gameStruct.get()),r=e.progression.levelIndex;console.log(r);var n=t.levels[r].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;setTimeout((function(){var e=n+"Scene";g.loadScene(e)}),100)}else g.loadScene("selectPlayerScene")}),50)},i.goBack=function(){p("stateManager").getComponent(y).playBtnSound(),this.m_preloader.active=!0,g.loadScene("homeScene")},t}(f)).prototype,"m_difficultyItems",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=t(S.prototype,"m_boxTextures",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(S.prototype,"m_trophiesTextures",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(S.prototype,"m_preloader",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=S))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/selectPlayerCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playerAvatarCtrlr.ts","./playerItemsCtrlr.ts","./global.ts","./stateManager.ts"],(function(e){"use strict";var t,r,a,n,l,i,o,s,m,c,p,y,u,d,_,g,f,P,h,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,i=e._decorator,o=e.Sprite,s=e.Label,m=e.Prefab,c=e.Node,p=e.instantiate,y=e.find,u=e.director,d=e.Button,_=e.Color,g=e.Component},function(e){f=e.playerAvatarCtrlr},function(e){P=e.playerItemsCtrlr},function(e){h=e.definePlayers},function(e){v=e.stateManager}],execute:function(){var C,b,S,A,I,w,B,x,O,D,z,M,R,F,N,k,J,L,T;l._RF.push({},"79be0w1sUdEiZ+oWgUxxEH9","selectPlayerCtrlr",void 0);var j=i.ccclass,q=i.property;e("selectPlayerCtrlr",(C=j("selectPlayerCtrlr"),b=q({type:o}),S=q({type:s}),A=q({type:s}),I=q({type:s}),w=q({type:m}),B=q({type:m}),x=q({type:c}),O=q({type:c}),C((M=t((z=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return t=e.call.apply(e,[this].concat(l))||this,a(t,"m_selectedPlayerAvatar",M,n(t)),a(t,"m_selectedPlayerName",R,n(t)),a(t,"m_selectedPlayerAge",F,n(t)),a(t,"m_selectedPlayerJob",N,n(t)),a(t,"m_playerItemsPrefab",k,n(t)),a(t,"m_playerAvatarPrefab",J,n(t)),a(t,"m_playerAvatarsContainer",L,n(t)),t.m_selectedPlayer=void 0,t.m_selectedPlayerData=void 0,t.m_playerItemSCROBs=void 0,a(t,"m_preloader",T,n(t)),t}r(t,e);var l=t.prototype;return l.start=function(){this.initPlayers()},l.initPlayers=function(){var e=this,t=p(this.m_playerItemsPrefab);t.getComponent(P).updatePlayersData(),this.m_playerItemSCROBs=t.getComponent(P).playerItems,this.m_playerAvatarsContainer.destroyAllChildren();for(var r=0;r<this.m_playerItemSCROBs.length;r++){var a=this.m_playerItemSCROBs[r],n=p(this.m_playerAvatarPrefab);n.getComponent(f).setItem(a),this.m_playerAvatarsContainer.addChild(n)}setTimeout((function(){e.m_selectedPlayer=e.m_playerItemSCROBs[0],e.m_playerAvatarsContainer.children[0].getComponent(f).onClickPlayerAvatar(e.m_selectedPlayer)}),50)},l.goBack=function(){y("stateManager").getComponent(v).playBtnSound(),this.m_preloader.active=!0,u.loadScene("homeScene")},l.onClickPlayerAvatar=function(e){y("stateManager").getComponent(v).playBtnSound(),this.m_selectedPlayer=e;for(var t=this.m_playerItemSCROBs.indexOf(e),r=0;r<this.m_playerAvatarsContainer.children.length;r++){var a=this.m_playerAvatarsContainer.children[r];a.getComponent(d).enabled=r!=t,r!=t&&(a.getComponent(o).color=new _("#FFFFFF")),a.getComponent(f).m_clicked=r==t}this.setPlayerView()},l.setPlayerView=function(){this.m_selectedPlayerAvatar.spriteFrame=this.m_selectedPlayer.m_avatar,this.m_selectedPlayerName.string=this.m_selectedPlayer.m_name.toString(),this.m_selectedPlayerAge.string=this.m_selectedPlayer.m_age.toString()+" ans",this.m_selectedPlayerJob.string=this.m_selectedPlayer.m_job.toString()},l.play=function(){var e=this;y("stateManager").getComponent(v).playBtnSound();var t=this.m_playerItemSCROBs.indexOf(this.m_selectedPlayer);this.m_selectedPlayerData={index:t,podiumIndex:0,name:this.m_selectedPlayer.m_name.toString(),avatar:"",score:0,globalScore:0,coins:0,pq:0,progression:{levelIndex:0,roundIndex:0,gameIndex:0,bestScore:0},stats:{pq:0,wrong_answers:0,right_answers:0,poop_coins:0},level_coins:[0,0,0],eliminated:!1},y("stateManager").getComponent(v).setPlayerData(this.m_selectedPlayerData);var r=h(this.m_selectedPlayerData,this.m_playerItemSCROBs,this.m_selectedPlayer);y("stateManager").getComponent(v).setPlayersListData(r),setTimeout((function(){var t=JSON.parse(y("stateManager").getComponent(v).m_playerData.get()),r=JSON.parse(y("stateManager").getComponent(v).m_gameStruct.get()),a=t.progression.levelIndex,n=r.levels[a].rounds[t.progression.roundIndex].games.find((function(e){return 0==e.played})).name;setTimeout((function(){e.m_preloader.active=!0;var t=n+"Scene";u.loadScene(t)}),100)}),10)},t}(g)).prototype,"m_selectedPlayerAvatar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(z.prototype,"m_selectedPlayerName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"m_selectedPlayerAge",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(z.prototype,"m_selectedPlayerJob",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(z.prototype,"m_playerItemsPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(z.prototype,"m_playerAvatarPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(z.prototype,"m_playerAvatarsContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(z.prototype,"m_preloader",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=z))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n.Component}],execute:function(){e._RF.push({},"2c4e01NHj9CJ4KoEwz/dbBO","singleton",void 0);var o=n("Singleton",function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(i));o.instance=null,o.instance=new o,e._RF.pop()}}}));

System.register("chunks:///_virtual/stateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./persistentMember.ts","./dataLoader.ts"],(function(t){"use strict";var e,s,n,i,a,r,o,u,l,m,g,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,o=t.AudioSource,u=t.game,l=t.find,m=t.Component},function(t){g=t.Kayfo},function(t){d=t.dataLoader}],execute:function(){var _,c,p,f,S,y,D,h,w,v,P;a._RF.push({},"1b8fc8SNfpKbbo3t4aNfSWp","stateManager",void 0);var b=r.ccclass,I=r.property;t("stateManager",(_=b("stateManager"),c=I({type:o}),p=I({type:o}),f=I({type:o}),S=I({type:o}),_((h=e((D=function(t){function e(){for(var e,s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).m_gameLang=new g.PersistentString("m_persistentGameLang",null),e.m_gameSoundEffects=new g.PersistentString("m_persistentGameSoundEffects","true"),e.m_gameMusic=new g.PersistentString("m_persistentGameMusic",null),e.m_gameStruct=new g.PersistentString("m_persistentGameStruct",""),e.m_quizData=new g.PersistentString("m_persistentQuizData",""),e.m_fiowData=new g.PersistentString("m_persistentFiowData",""),e.m_saveWcData=new g.PersistentString("m_persistentSaveWcData",""),e.m_quizDataInit=new g.PersistentString("m_persistentQuizDataInit",""),e.m_fiowDataInit=new g.PersistentString("m_persistentFiowDataInit",""),e.m_saveWcDataInit=new g.PersistentString("m_persistentSaveWcDataInit",""),e.m_sanitizeData=new g.PersistentString("m_persistentSanitizeData",""),e.m_playerData=new g.PersistentString("m_persistentPlayerData",""),e.m_playersListData=new g.PersistentString("m_persistentPlayersListData",""),e.m_selectedDifficulty=new g.PersistentNum("m_persistentSelectedDifficulty",0),e.m_didClearRound=new g.PersistentString("m_persistentDidClearRound","false"),e.m_didClearLevel=new g.PersistentString("m_persistentDidClearLevel","false"),e.m_didSeeTutorial=new g.PersistentString("m_persistentDidSeeTutorial","false"),n(e,"m_bgSound",h,i(e)),n(e,"m_btnSound",w,i(e)),n(e,"m_errorSound",v,i(e)),n(e,"m_successSound",P,i(e)),e}s(e,t);var a=e.prototype;return a.onLoad=function(){this.m_gameLang.set(navigator.language.substring(0,2)),this.node._persistNode||u.addPersistRootNode(this.node)},a.start=function(){if(this.playBgSound(),null!=l("dataLoader")){var t=l("dataLoader").getComponent(d);""==this.m_gameStruct.get()&&this.m_gameStruct.set(JSON.stringify(t.m_gameStruct)),""==this.m_quizData.get()&&(this.m_quizData.set(JSON.stringify(t.m_quizData)),this.m_quizDataInit.set(JSON.stringify(t.m_quizData))),""==this.m_fiowData.get()&&(this.m_fiowData.set(JSON.stringify(t.m_fiowData)),this.m_fiowDataInit.set(JSON.stringify(t.m_fiowData))),""==this.m_saveWcData.get()&&(this.m_saveWcData.set(JSON.stringify(t.m_saveWcData)),this.m_saveWcDataInit.set(JSON.stringify(t.m_saveWcData))),""==this.m_sanitizeData.get()&&this.m_sanitizeData.set(JSON.stringify(t.m_sanitizeData))}else console.log("No dataLoader !")},a.setPlayerData=function(t){this.m_playerData.set(JSON.stringify(t))},a.setPlayersListData=function(t){this.m_playersListData.set(JSON.stringify(t))},a.updateProgress=function(t,e){void 0===e&&(e=!0);var s=!1,n=!1,i=JSON.parse(this.m_playerData.get()),a=JSON.parse(this.m_gameStruct.get()),r=i.progression.levelIndex;return a.levels[r].rounds[i.progression.roundIndex].games.find((function(t){return 0==t.played})).played=!0,i.progression.gameIndex+=1,i.score+=Math.round(t),i.stats.right_answers=e?i.stats.right_answers+1:i.stats.right_answers,i.stats.wrong_answers=e?i.stats.wrong_answers:i.stats.wrong_answers+1,i.progression.gameIndex==a.levels[r].rounds[i.progression.roundIndex].games.length&&(i.progression.gameIndex=0,i.progression.roundIndex+=1,n=!0,i.progression.roundIndex==a.levels[r].rounds.length&&(i.progression.roundIndex=0,i.progression.levelIndex+=1,i.progression.levelIndex==a.levels.length?(i.progression.levelIndex-=1,i.progression.roundIndex=2):(a.levels[i.progression.levelIndex].unlocked=!0,s=!0))),s&&console.log(a),this.m_playerData.set(JSON.stringify(i)),this.m_gameStruct.set(JSON.stringify(a)),this.m_didClearRound.set(n),this.m_didClearLevel.set(s),[n,s]},a.playErrorSound=function(){"true"==this.m_gameSoundEffects.get()&&this.m_errorSound.play()},a.playSuccessSound=function(){"true"==this.m_gameSoundEffects.get()&&this.m_successSound.play()},a.playBtnSound=function(){"true"==this.m_gameSoundEffects.get()&&this.m_btnSound.play()},a.playBgSound=function(){"true"==this.m_gameMusic.get()&&this.m_bgSound.play()},e}(m)).prototype,"m_bgSound",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(D.prototype,"m_btnSound",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(D.prototype,"m_errorSound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(D.prototype,"m_successSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=D))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/transitionBoxCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,o,i,n,a,s,p,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.SpriteFrame,p=t.Label,c=t.Sprite,l=t.Component}],execute:function(){var u,h,d,v,m;n._RF.push({},"b132bP0ZVpP4pPRmhNa+VFR","transitionBoxCtrlr",void 0);var y=a.ccclass,f=a.property;t("transitionBoxCtrlr",(u=y("transitionBoxCtrlr"),h=f({type:[s]}),u((m=e((v=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"m_poopTextures",m,i(e)),e}r(e,t);var n=e.prototype;return n.start=function(){},n.setItem=function(t,e,r,o,i){var n=this;void 0===r&&(r="happy"),void 0===o&&(o=!0),void 0===i&&(i=1300);var a="overlay/bubble"+t;this.node.getChildByPath(a).getComponentInChildren(p).string=e;var s=this.m_poopTextures[0];switch(r){case"happy":var l=Math.floor(Math.random());s=this.m_poopTextures[l];break;case"sad":l=Math.floor(Math.random())+2;s=this.m_poopTextures[l]}this.node.getChildByPath("overlay/poopCharacter").getComponent(c).spriteFrame=s,this.node.active=!0,o&&setTimeout((function(){n.node&&(n.node.active=!1)}),i)},e}(l)).prototype,"m_poopTextures",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=v))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/transitions.ts",["cc"],(function(e){"use strict";var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"f3163m5MJZA87WffNqXozwx","transitions",void 0);e("TRANSITIONS",{fr:{answers:{correct:["Bravo ! C'était la bonne réponse.","Excellent. Tu es le meilleur !","Pas mal ! Boss."],wrong:["Oh non !","Tu l'as manqué de peu !","Oh ! mauvaise réponse."]},rounds:["Tu es un bon joueur… On y va pour la suite, remportes cette partie et sois le champion","Félicitations, prêt pour la partie suivante ?","Champion, prêt pour le quizz?","J’aimerais bien tester tes connaissances en assainissement avec la manche 1 image 4 mots. On y va !!!","Penses-tu pouvoir gagner la prochaine manche contre ton adversaire ?"],levels:["Bravooooo, tu viens de débloquer le second niveau. Es-tu prêt pour le niveau intermédiaire?","Super, tu as d’excellentes notions en assainissement. Next step","Les questions liées à l’assainissement semblent ne pas avoir de secrets pour toi. Voyons si le niveau moyen nous le confirme","Niveau difficile !!! tu es à quelques pas d’être l’ultra champion de l’assainissement. C’est parti"],wc:["Tu es vraiment chanceux!!! Des bonus te sont accordés. Récupère les en jouant au WC de la fortune"],sanitize:["Le savais-tu? Les poop coins que tu as collecté tout au long du jeu peuvent te permettre d’investir dans l’assainissement et le développement durable de ta ville.\n            Tu es curieux de savoir à quoi peut ressembler ta ville s’il y avait moins de pollution?C’est très simple, investis tes gains soit dans le biocarburant, ou dans l’agriculture bio ou encore dans le bio énergie. Tu peux investir dans tous les 3 secteurs si bien sûr tu as assez de pièces.\n            Alors n’attends plus car le sort de ta ville ne dépend que de toi."],sanitize_no_coins:["Tu n'as pas pu améliorer l’assainissement de ta ville par manque de pièces? Pas d’inquiétude! Tu as la possibilité de repartir jouer et de collecter plus de pièces pour achever le nettoyage de ta ville. A toi de jouer champion."],failed:["Tout n’est pas perdu. Tu peux encore gagner en rejouant la partie"]}});s._RF.pop()}}}));

System.register("chunks:///_virtual/tutorialCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,c,l,u,h,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Button,c=t.Node,l=t.find,u=t.Label,h=t.director,p=t.Component},function(t){m=t.stateManager}],execute:function(){var d,_,g,f,y,x,C;r._RF.push({},"c2fb2RH5A9BfbIkiKlR8Xu8","tutorialCtrlr",void 0);var I=s.ccclass,v=s.property;t("tutorialCtrlr",(d=I("tutorialCtrlr"),_=v({type:a}),g=v({type:c}),d((x=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).m_sectionIndex=0,e.m_sections=void 0,i(e,"m_nextBtn",x,o(e)),i(e,"m_preloader",C,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.m_sections=this.node.getChildByPath("panelBg/sectionsContainer").children},r.gotoNext=function(){l("stateManager").getComponent(m).playBtnSound(),this.m_sectionIndex++,this.m_sectionIndex<this.m_sections.length?(this.m_sections[this.m_sectionIndex-1].active=!1,this.m_sections[this.m_sectionIndex].active=!0,this.m_sectionIndex==this.m_sections.length-1&&(this.m_nextBtn.getComponentInChildren(u).string="TERMINER")):this.m_sectionIndex==this.m_sections.length-1?this.m_nextBtn.getComponentInChildren(u).string="TERMINER":(this.m_preloader.active=!0,h.loadScene("difficultyScene"))},r.goBack=function(){l("stateManager").getComponent(m).playBtnSound(),this.m_preloader.active=!0,h.loadScene("homeScene")},e}(p)).prototype,"m_nextBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(y.prototype,"m_preloader",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/types.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9d049FpaVhPO7StEBeTLr4t","types",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/uiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./persistentMember.ts","./stateManager.ts"],(function(e){"use strict";var t,r,n,a,i,o,s,u,l,c,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,u=e.Label,l=e.find,c=e.Component},function(e){p=e.Kayfo},function(e){f=e.stateManager}],execute:function(){var y,g,m,b,M,d,h;i._RF.push({},"864b2OH88FDd4crwf1faTu7","uiManager",void 0);var v=o.ccclass,_=o.property;e("uiManager",(y=v("uiManager"),g=_({type:s}),m=_({type:u}),y((d=t((M=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"questionBox",d,a(t)),n(t,"playerName",h,a(t)),t.m_persistentPlayer=new p.PersistentString("m_persistentPlayer",""),t}r(t,e);var i=t.prototype;return i.start=function(){if(l("stateManager")){var e=l("stateManager").getComponent(f).m_playerData.get();this.playerName.string=JSON.parse(e).name}},i.update=function(e){},t}(c)).prototype,"questionBox",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(M.prototype,"playerName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=M))||b));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});