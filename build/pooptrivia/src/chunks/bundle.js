System.register([], function(_export, _context) { return { execute: function () {
System.register("chunks:///_virtual/cjs-loader.mjs",[],(function(r){"use strict";return{execute:function(){r("default",new(function(){function r(){this._registry={},this._moduleCache={}}var e=r.prototype;return e.define=function(r,e,t){this._registry[r]={factory:e,resolveMap:t}},e.require=function(r){return this._require(r)},e.throwInvalidWrapper=function(r,e){throw new Error("Module '"+r+"' imported from '"+e+"' is expected be an ESM-wrapped CommonJS module but it doesn't.")},e._require=function(r,e){var t=this._moduleCache[r];if(t)return t.exports;var o={id:r,exports:{}};return this._moduleCache[r]=o,this._tryModuleLoad(o,r),o.exports},e._resolve=function(r,e){return this._resolveFromInfos(r,e)||this._throwUnresolved(r,e)},e._resolveFromInfos=function(r,e){var t,o;return r in cjsInfos?r:e&&null!=(t=null==(o=cjsInfos[e])?void 0:o.resolveCache[r])?t:void 0},e._tryModuleLoad=function(r,e){var t=!0;try{this._load(r,e),t=!1}finally{t&&delete this._moduleCache[e]}},e._load=function(r,e){var t=this._loadWrapper(e),o=t.factory,n=t.resolveMap,i=this._createRequire(r),u=n?this._createRequireWithResolveMap("function"==typeof n?n():n,i):i;o(r.exports,u,r)},e._loadWrapper=function(r){return r in this._registry?this._registry[r]:this._loadExternalWrapper(r)},e._loadExternalWrapper=function(r){return{factory:function(e){var t;try{t=URL.fileURLToPath(r)}catch(e){throw new Error(r+" is not a valid file URL")}var o=require(t);Object.assign(e,o)}}},e._createRequire=function(r){var e=this;return function(t){return e._require(t,r)}},e._createRequireWithResolveMap=function(r,e){return function(t){var o=r[t];if(o)return e(o);throw new Error("Unresolved specifier "+t)}},e._throwUnresolved=function(r,e){throw new Error("Unable to resolve "+r+" from "+parent+".")},r}()))}}}));

System.register("chunks:///_virtual/index.js",["./cjs-loader.mjs"],(function(e,t){"use strict";var n;return{setters:[function(e){n=e.default}],execute:function(){e("default",void 0);var r=e("__cjsMetaURL",t.meta.url);n.define(r,(function(t,n,r,i,a){var o,s;System.register("chunks:///_virtual/dataLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,a,o,s,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.game,l=e.director,u=e.resources,c=e.Component}],execute:function(){var m,p,d,g,f;a._RF.push({},"13510mATT1K+69a0ShzccVC","dataLoader",void 0);var h=o.ccclass,_=o.property;e("dataLoader",(m=h("dataLoader"),p=_({type:Object}),m((f=t((g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).m_baseUrl="https://app-cf6d19ba-6849-4172-ad9e-0423ded407d4.cleverapps.io",r(t,"m_gameStruct",f,i(t)),t.m_quizData=null,t.m_fiowData=null,t.m_saveWcData=null,t}n(t,e);var a=t.prototype;return a.onLoad=function(){this.node._persistNode||s.addPersistRootNode(this.node)},a.start=function(){"true"!=localStorage.getItem("_dataLoaded")&&(this.getQuizData(),this.getFiowData(),this.getSaveWcData(),this.loadGameStruct(),localStorage.setItem("_dataLoaded","true")),setTimeout((function(){l.loadScene("homeScene")}),500)},a.getQuizData=function(){var e=this;fetch(this.m_baseUrl+"/quizzes").then((function(e){return e.json()})).then((function(t){e.m_quizData=t})).catch((function(e){return console.error(e)}))},a.getFiowData=function(){var e=this;fetch(this.m_baseUrl+"/fiows").then((function(e){return e.json()})).then((function(t){e.m_fiowData=t})).catch((function(e){return console.error(e)}))},a.getSaveWcData=function(){this.m_saveWcData=[{id:1,questions:{en:"Word to find : CAR",fr:"Mot à trouver : VOITURE"},answers:{en:"CAR",fr:"VOITURE"},level:1,active:!0},{id:2,questions:{en:"Word to find : HOME",fr:"Mot à trouver : MAISON"},answers:{en:"HOME",fr:"MAISON"},level:1,active:!0},{id:3,questions:{en:"Word to find : NECK",fr:"Mot à trouver : COU"},answers:{en:"NECK",fr:"COU"},level:1,active:!0},{id:4,questions:{en:"Word to find : BEE",fr:"Mot à trouver : ABEILLE"},answers:{en:"BEE",fr:"ABEILLE"},level:2,active:!0},{id:5,questions:{en:"Word to find : WORDUS",fr:"Mot à trouver : MOTUS"},answers:{en:"WORDUS",fr:"MOTUS"},level:3,active:!0},{id:6,questions:{en:"Word to find : TITLE",fr:"Mot à trouver : TITRE"},answers:{en:"TITLE",fr:"TITRE"},level:3,active:!0},{id:7,questions:{en:"Word to find : LONDON",fr:"Mot à trouver : LONDRES"},answers:{en:"LONDON",fr:"LONDRES"},level:1,active:!0},{id:8,questions:{en:"Word to find : BIRD",fr:"Mot à trouver : OISEAU"},answers:{en:"BIRD",fr:"OISEAU"},level:3,active:!0},{id:9,questions:{en:"Word to find : YELLOW",fr:"Mot à trouver : JAUNE"},answers:{en:"YELLOW",fr:"JAUNE"},level:3,active:!0},{id:10,questions:{en:"Word to find : GREEN",fr:"Mot à trouver : VERT"},answers:{en:"GREEN",fr:"VERT"},level:2,active:!0},{id:11,questions:{en:"Word to find : RED",fr:"Mot à trouver : ROUGE"},answers:{en:"RED",fr:"ROUGE"},level:2,active:!0}]},a.loadGameStruct=function(){var e=this;u.load("gameStruct",(function(t,n){e.m_gameStruct=n.json}))},t}(c)).prototype,"m_gameStruct",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d)),a._RF.pop()}}})),System.register("chunks:///_virtual/dataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,a;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,i=e._decorator,a=e.Component}],execute:function(){var o,s;r._RF.push({},"136a3owNEVHJJHiafn/3eIl","dataManager",void 0);var l=i.ccclass;i.property,e("DataManager",l(((s=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.setLog=function(){},n(r,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new r),this._instance}}]),r}(a))._instance=new s,o=s))||o),r._RF.pop()}}})),System.register("chunks:///_virtual/gameHeaderCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){var t,n,r,i,a,o,s,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.find,u=e.Component},function(e){c=e.stateManager}],execute:function(){var m,p,d,g,f;a._RF.push({},"4e05dIhImFOuZV9uQqlybwu","gameHeaderCtrlr",void 0);var h=o.ccclass,_=o.property;e("gameHeaderCtrlr",(m=h("gameHeaderCtrlr"),p=_({type:s}),m((f=t((g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"m_pqPointsText",f,i(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.setPqPoints()},a.setPqPoints=function(){if(""!=l("stateManager").getComponent(c).m_playerData.get()){var e=JSON.parse(l("stateManager").getComponent(c).m_playerData.get());this.m_pqPointsText.string=this.padWithZeroes(e.pq,3)}},a.padWithZeroes=function(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n},t}(u)).prototype,"m_pqPointsText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d)),a._RF.pop()}}})),System.register("chunks:///_virtual/homeCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){var t,n,r,i,a,o,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,i=e.find,a=e.director,o=e.Component},function(e){s=e.stateManager}],execute:function(){var l;n._RF.push({},"4a9967+diFFJYlWPph1xB4S","homeCtrlr",void 0);var u=r.ccclass;r.property,e("homeCtrlr",u("homeCtrlr")(l=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){},r.play=function(){if(""!=i("stateManager").getComponent(s).m_playerData.get()){var e=JSON.parse(i("stateManager").getComponent(s).m_playerData.get()),t=JSON.parse(i("stateManager").getComponent(s).m_gameStruct.get()).levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;console.log(t),setTimeout((function(){var e=t+"Scene";a.loadScene(e)}),200)}else a.loadScene("selectPlayerScene")},n}(o))||l),n._RF.pop()}}})),System.register("chunks:///_virtual/imageWordsCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){var t,n,r,i,a,o,s,l,u,c,m,p,d,g,f,h,_,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.Sprite,u=e.Node,c=e.SpriteFrame,m=e.find,p=e.director,d=e.assetManager,g=e.Texture2D,f=e.Button,h=e.Color,_=e.Component},function(e){v=e.stateManager}],execute:function(){var y,C,S,M,b,I,w,x,L,E,D;a._RF.push({},"8d09ekhLntDLLsprhwUa7Gc","imageWordsCtrlr",void 0);var N=o.ccclass,T=o.property;e("imageWords",(y=N("imageWords"),C=T({type:s}),S=T({type:l}),M=T({type:[u]}),b=T({type:[c]}),y((x=t((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).m_GAME_NAME="imageWords",t.m_MISTAKES=3,t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,r(t,"m_questionHeader",x,i(t)),r(t,"m_questionImage",L,i(t)),r(t,"m_answerBtns",E,i(t)),r(t,"m_btnTextures",D,i(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.m_lang=m("stateManager").getComponent(v).m_gameLang.get(),this.nextSet()},a.nextSet=function(){if(this.m_didClearRound)p.loadScene("recapScene");else if(this.m_didClearLevel);else{var e=JSON.parse(m("stateManager").getComponent(v).m_playerData.get()),t=JSON.parse(m("stateManager").getComponent(v).m_fiowData.get()),n=JSON.parse(m("stateManager").getComponent(v).m_gameStruct.get()),r=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var i=n.levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(i==this.m_GAME_NAME){var a=t.filter((function(e){return e.level==r+1})),o=Math.floor(Math.random()*a.length);this.m_quiz=a[o],t.splice(t.indexOf(this.m_quiz),1),m("stateManager").getComponent(v).m_fiowData.set(JSON.stringify(t)),this.initView(),this.m_mistakes=this.m_MISTAKES}else{console.log("WE ARE LOADING THE NEXT TYPE OF GAME(QUIZ)");var s=i+"Scene";p.loadScene(s)}}},a.initView=function(){var e=this;this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/4";var t=JSON.parse(this.m_quiz.questions)[this.m_lang];this.m_questionImage.node.getChildByName("spinnerItem").active=!0,d.loadRemote(t,(function(t,n){if(!t){var r=new g;r.image=n;var i=new c;i.texture=r,e.m_questionImage.spriteFrame=i,e.m_questionImage.node.getChildByName("spinnerItem").active=!1}}));var n=JSON.parse(this.m_quiz.answers)[this.m_lang].sort((function(){return Math.random()-.5}));this.m_quiz.answers=n;for(var r=0;r<this.m_answerBtns.length;r++){var i=this.m_answerBtns[r];i.getComponent(f).interactable=!0,i.getComponent(f).enabled=!0,i.getComponent(l).color=h.WHITE,i.getChildByName("spinnerItem").active=!1,i.getComponentInChildren(s).string=this.m_quiz.answers[r].answer}},a.checkAnswer=function(e,t){var n=this,r=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,r),r){var i=m("stateManager").getComponent(v).updateProgress();this.m_didClearRound=i[0],this.m_didClearLevel=i[1],setTimeout((function(){n.nextSet()}),1e3);for(var a=0;a<this.m_answerBtns.length;a++)this.m_answerBtns[a].getComponent(f).enabled=!1,this.m_answerBtns[a].getChildByName("spinnerItem").active=!1}else if(this.m_mistakes>1)this.m_mistakes--;else{var o=m("stateManager").getComponent(v).updateProgress();this.m_didClearRound=o[0],this.m_didClearLevel=o[1],setTimeout((function(){n.nextSet()}),1e3)}},a.setAnswerBtnColor=function(e,t){var n=t?h.GREEN:h.RED,r=this.m_answerBtns[e];r.getComponent(f).enabled=!1,setTimeout((function(){r.getComponent(l).color=n}),30)},t}(_)).prototype,"m_questionHeader",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(w.prototype,"m_questionImage",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(w.prototype,"m_answerBtns",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(w.prototype,"m_btnTextures",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=w))||I)),a._RF.pop()}}})),System.register("chunks:///_virtual/letterBtnCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./saveWcCtrlr.ts"],(function(e){var t,n,r,i,a,o,s,l,u,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,i=e.Label,a=e.find,o=e.Color,s=e.Button,l=e.Sprite,u=e.Component},function(e){c=e.saveWcCtrlr}],execute:function(){var m;n._RF.push({},"8cd7ewmqL5K3qyQXOr7ggwb","letterBtnCtrlr",void 0);var p=r.ccclass;r.property,e("letterBtnCtrlr",p("letterBtnCtrlr")(m=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).m_clicked=void 0,t}t(n,e);var r=n.prototype;return r.start=function(){this.m_clicked=!1},r.onClickLetter=function(e){if(!this.m_clicked){var t=this.getComponentInChildren(i).string,n=a("Canvas").getComponent(c).onClickLetter(t)?o.GREEN:o.RED;this.node.getComponent(s).enabled=!1,this.node.getComponent(l).color=n,this.m_clicked=!0}},n}(u))||m),n._RF.pop()}}})),System.register("chunks:///_virtual/loaderCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,a,o,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.Component}],execute:function(){var u,c,m,p,d;a._RF.push({},"fa1daXeCoNOj4eETPKpxsIW","loaderCtrlr",void 0);var g=o.ccclass,f=o.property;e("loaderCtrlr",(u=g("loaderCtrlr"),c=f({type:s}),u((d=t((p=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"dataLoader",d,i(t)),t}return n(t,e),t.prototype.start=function(){},t}(l)).prototype,"dataLoader",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=p))||m)),a._RF.pop()}}})),System.register("chunks:///_virtual/main",["./gameHeaderCtrlr.ts","./letterBtnCtrlr.ts","./global.mjs_cjs=&original=.js","./homeCtrlr.ts","./imageWordsCtrlr.ts","./loaderCtrlr.ts","./dataLoader.ts","./stateManager.ts","./uiManager.ts","./quizCtrlr.ts","./recapCtrlr.ts","./saveWcCtrlr.ts","./selectPlayerCtrlr.ts","./dataManager.ts","./persistentMember.ts","./singleton.ts","./types.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}})),System.register("chunks:///_virtual/persistentMember.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy}],execute:function(){var r;e("Kayfo",void 0),n._RF.push({},"cd885xdxDNIMZY/2AVMF67T","persistentMember",void 0),function(e){var n=function(){function e(e,t){this.m_defaultValue=void 0,this.m_value=void 0,this.m_key=void 0,this.loadedOnce=!1,this.m_key=e,this.m_defaultValue=t}var t=e.prototype;return t.get=function(){return this.loadedOnce||(null!=localStorage.getItem(this.m_key)?this.m_value=this.GetInternal():this.m_value=this.m_defaultValue,this.loadedOnce=!0),this.m_value},t.set=function(e){this.m_value=e,this.SetInternal(e)},t.GetInternal=function(){},t.SetInternal=function(e){},e}(),r=function(e){function n(t,n){return e.call(this,t,n)||this}t(n,e);var r=n.prototype;return r.GetInternal=function(){return"true"==localStorage.getItem(this.m_key)},r.SetInternal=function(e){localStorage.setItem(this.m_key,e?"true":"false")},n}(n);e.PersistentBool=r;var i=function(e){function n(t,n){return e.call(this,t,n)||this}t(n,e);var r=n.prototype;return r.GetInternal=function(){return parseFloat(localStorage.getItem(this.m_key))},r.SetInternal=function(e){localStorage.setItem(this.m_key,e.toString())},n}(n);e.PersistentNum=i;var a=function(e){function n(t,n){return e.call(this,t,n)||this}t(n,e);var r=n.prototype;return r.GetInternal=function(){return localStorage.getItem(this.m_key)},r.SetInternal=function(e){localStorage.setItem(this.m_key,e)},n}(n);e.PersistentString=a}(r||(r=e("Kayfo",{}))),n._RF.pop()}}})),System.register("chunks:///_virtual/quizCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){var t,n,r,i,a,o,s,l,u,c,m,p,d,g,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.Node,u=e.SpriteFrame,c=e.find,m=e.director,p=e.Button,d=e.Sprite,g=e.Color,f=e.Component},function(e){h=e.stateManager}],execute:function(){var _,v,y,C,S,M,b,I,w,x,L;a._RF.push({},"b7381Amf3pGYYibaJeBCvw2","quizCtrlr",void 0);var E=o.ccclass,D=o.property;e("quizCtrlr",(_=E("quizCtrlr"),v=D({type:s}),y=D({type:s}),C=D({type:[l]}),S=D({type:[u]}),_((I=t((b=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).m_GAME_NAME="quiz",t.m_MISTAKES=3,t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,r(t,"m_questionHeader",I,i(t)),r(t,"m_questionText",w,i(t)),r(t,"m_answerBtns",x,i(t)),r(t,"m_btnTextures",L,i(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.m_lang=c("stateManager").getComponent(h).m_gameLang.get(),this.nextSet()},a.nextSet=function(){if(this.m_didClearRound)m.loadScene("recapScene");else if(this.m_didClearLevel);else{var e=JSON.parse(c("stateManager").getComponent(h).m_playerData.get()),t=JSON.parse(c("stateManager").getComponent(h).m_quizData.get()),n=JSON.parse(c("stateManager").getComponent(h).m_gameStruct.get()),r=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var i=n.levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(i==this.m_GAME_NAME){var a=t.filter((function(e){return e.level==r+1})),o=Math.floor(Math.random()*a.length);this.m_quiz=a[o],t.splice(t.indexOf(this.m_quiz),1),c("stateManager").getComponent(h).m_quizData.set(JSON.stringify(t)),this.initView(),this.m_mistakes=this.m_MISTAKES}else{console.log("WE ARE LOADING THE NEXT TYPE OF GAME(IMAGE-WORDS)");var s=i+"Scene";m.loadScene(s)}}},a.initView=function(){this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/4",this.m_questionText.string=JSON.parse(this.m_quiz.questions)[this.m_lang];var e=JSON.parse(this.m_quiz.answers)[this.m_lang].sort((function(){return Math.random()-.5}));this.m_quiz.answers=e;for(var t=0;t<this.m_answerBtns.length;t++){var n=this.m_answerBtns[t];n.getComponent(p).interactable=!0,n.getComponent(p).enabled=!0,n.getComponent(d).color=g.WHITE,n.getComponentInChildren(s).string=this.m_quiz.answers[t].answer}},a.checkAnswer=function(e,t){var n=this,r=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,r),r){var i=c("stateManager").getComponent(h).updateProgress();this.m_didClearRound=i[0],this.m_didClearLevel=i[1],setTimeout((function(){n.nextSet()}),1e3);for(var a=0;a<this.m_answerBtns.length;a++)this.m_answerBtns[a].getComponent(p).enabled=!1}else if(this.m_mistakes>1)this.m_mistakes--;else{var o=c("stateManager").getComponent(h).updateProgress();this.m_didClearRound=o[0],this.m_didClearLevel=o[1],setTimeout((function(){n.nextSet()}),1e3)}},a.setAnswerBtnColor=function(e,t){var n=t?g.GREEN:g.RED,r=this.m_answerBtns[e];r.getComponent(p).enabled=!1,setTimeout((function(){r.getComponent(d).color=n}),30)},t}(f)).prototype,"m_questionHeader",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(b.prototype,"m_questionText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(b.prototype,"m_answerBtns",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(b.prototype,"m_btnTextures",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=b))||M)),a._RF.pop()}}})),System.register("chunks:///_virtual/recapCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){var t,n,r,i,a,o,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,i=e.find,a=e.director,o=e.Component},function(e){s=e.stateManager}],execute:function(){var l;n._RF.push({},"1b666GzmrJA5roFqjajIZqh","recapCtrlr",void 0);var u=r.ccclass;r.property,e("recapCtrlr",u("recapCtrlr")(l=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){},r.continue=function(){var e=JSON.parse(i("stateManager").getComponent(s).m_playerData.get()),t=JSON.parse(i("stateManager").getComponent(s).m_gameStruct.get()).levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;console.log(t),setTimeout((function(){var e=t+"Scene";a.loadScene(e)}),200)},n}(o))||l),n._RF.pop()}}})),System.register("chunks:///_virtual/saveWcCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){var t,n,r,i,a,o,s,l,u,c,m,p,d,g,f,h,_,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.Node,u=e.Prefab,c=e.SpriteFrame,m=e.find,p=e.instantiate,d=e.director,g=e.Button,f=e.Color,h=e.Sprite,_=e.Component},function(e){v=e.stateManager}],execute:function(){var y,C,S,M,b,I,w,x,L,E,D,N,T,q,O,R,z,B,A;a._RF.push({},"9c06eIaSWFM8ZFeNrliu+JW","saveWcCtrlr",void 0);var P=o.ccclass,k=o.property;e("saveWcCtrlr",(y=P("saveWcCtrlr"),C=k({type:s}),S=k({type:s}),M=k({type:l}),b=k({type:l}),I=k({type:u}),w=k({type:u}),x=k({type:[l]}),L=k({type:[c]}),y((N=t((D=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).m_GAME_NAME="saveWc",t.m_MISTAKES=3,t.m_ALPHABET=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,t.m_word=void 0,t.m_letters=void 0,t.m_lettersToFind=void 0,r(t,"m_questionHeader",N,i(t)),r(t,"m_questionText",T,i(t)),r(t,"m_keyboard",q,i(t)),r(t,"m_slotsContainer",O,i(t)),r(t,"m_letterBtn",R,i(t)),r(t,"m_letterSlot",z,i(t)),r(t,"m_answerBtns",B,i(t)),r(t,"m_btnTextures",A,i(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.m_lang=m("stateManager").getComponent(v).m_gameLang.get(),this.nextSet()},a.initKeyboard=function(){this.m_keyboard.destroyAllChildren();for(var e=0;e<this.m_ALPHABET.length;e++){var t=this.m_ALPHABET[e],n=p(this.m_letterBtn);n.getComponentInChildren(s).string=t,this.m_keyboard.addChild(n)}},a.initAnswer=function(e,t){void 0===t&&(t=1),this.m_word=e,this.m_letters=this.m_word.split(""),this.m_lettersToFind=[];var n=this.getHiddenLength(e.length,t);this.m_MISTAKES=n,this.m_mistakes=n;var r=this.getRandomIndexes(e.length,n);this.m_slotsContainer.destroyAllChildren();for(var i=0;i<this.m_letters.length;i++){var a=this.m_letters[i],o=p(this.m_letterSlot);o.getComponentInChildren(s).string=a,-1!=r.indexOf(i)&&(o.getComponentInChildren(s).enabled=!1,this.m_lettersToFind.push(a)),this.m_slotsContainer.addChild(o)}},a.getHiddenLength=function(e,t){return e/(4-t)+1},a.getRandomIndexes=function(e,t){for(var n=[],r=0;r<t;r++){var i=Math.floor(Math.random()*e);-1==n.indexOf(i)&&n.push(i)}return n},a.nextSet=function(){if(this.m_didClearRound)d.loadScene("recapScene");else if(this.m_didClearLevel);else{var e=JSON.parse(m("stateManager").getComponent(v).m_playerData.get()),t=JSON.parse(m("stateManager").getComponent(v).m_saveWcData.get()),n=JSON.parse(m("stateManager").getComponent(v).m_gameStruct.get()),r=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var i=n.levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(i==this.m_GAME_NAME){console.log(t);var a=t.filter((function(e){return e.level==r+1})),o=Math.floor(Math.random()*a.length);this.m_quiz=a[o],t.splice(t.indexOf(this.m_quiz),1),m("stateManager").getComponent(v).m_saveWcData.set(JSON.stringify(t)),this.initView(),this.m_mistakes=this.m_MISTAKES}else{console.log("WE ARE LOADING THE NEXT TYPE OF GAME(any)");var s=i+"Scene";d.loadScene(s)}}},a.initView=function(){this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/4",this.initKeyboard(),this.m_questionText.string=this.m_quiz.questions[this.m_lang];var e=this.m_quiz.answers[this.m_lang];console.log(e),this.initAnswer(e,this.m_quiz.level)},a.onClickLetter=function(e){for(var t=this,n=-1!=this.m_letters.indexOf(e),r=0;r<this.m_slotsContainer.children.length;r++){var i=this.m_slotsContainer.children[r];i.getComponentInChildren(s).string==e&&(i.getComponentInChildren(s).enabled=!0)}if(n){if(this.m_lettersToFind.splice(this.m_lettersToFind.indexOf(e),1),0==this.m_lettersToFind.length){console.log("COMPLETED");var a=m("stateManager").getComponent(v).updateProgress();this.m_didClearRound=a[0],this.m_didClearLevel=a[1],setTimeout((function(){t.nextSet()}),1e3)}}else if(this.m_mistakes>1)this.m_mistakes--;else{var o=m("stateManager").getComponent(v).updateProgress();this.m_didClearRound=o[0],this.m_didClearLevel=o[1],setTimeout((function(){t.nextSet()}),1e3)}return n},a.checkAnswer=function(e,t){var n=this,r=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,r),r){var i=m("stateManager").getComponent(v).updateProgress();this.m_didClearRound=i[0],this.m_didClearLevel=i[1],setTimeout((function(){n.nextSet()}),1e3);for(var a=0;a<this.m_answerBtns.length;a++)this.m_answerBtns[a].getComponent(g).enabled=!1}else this.m_mistakes>1?this.m_mistakes--:setTimeout((function(){n.nextSet()}),1e3)},a.setAnswerBtnColor=function(e,t){var n=t?f.GREEN:f.RED,r=this.m_answerBtns[e];r.getComponent(g).enabled=!1,setTimeout((function(){r.getComponent(h).color=n}),30)},t}(_)).prototype,"m_questionHeader",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(D.prototype,"m_questionText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(D.prototype,"m_keyboard",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"m_slotsContainer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(D.prototype,"m_letterBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(D.prototype,"m_letterSlot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(D.prototype,"m_answerBtns",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(D.prototype,"m_btnTextures",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=D))||E)),a._RF.pop()}}})),System.register("chunks:///_virtual/selectPlayerCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){var t,n,r,i,a,o,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,i=e.director,a=e.find,o=e.Component},function(e){s=e.stateManager}],execute:function(){var l;n._RF.push({},"79be0w1sUdEiZ+oWgUxxEH9","selectPlayerCtrlr",void 0);var u=r.ccclass;r.property,e("selectPlayerCtrlr",u("selectPlayerCtrlr")(l=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).m_playersData=null,t}t(n,e);var r=n.prototype;return r.start=function(){},r.goBack=function(){i.loadScene("homeScene")},r.play=function(){""==a("stateManager").getComponent(s).m_playerData.get()&&a("stateManager").getComponent(s).setPlayerData({name:"Lamine",avatar:"",score:0,globalScore:0,coins:0,pq:0,progression:{levelIndex:0,roundIndex:0,gameIndex:0,bestScore:0}});var e=JSON.parse(a("stateManager").getComponent(s).m_playerData.get()),t=JSON.parse(a("stateManager").getComponent(s).m_gameStruct.get()).levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;console.log(t),setTimeout((function(){var e=t+"Scene";i.loadScene(e)}),200)},n}(o))||l),n._RF.pop()}}})),System.register("chunks:///_virtual/singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.Component}],execute:function(){n._RF.push({},"2c4e01NHj9CJ4KoEwz/dbBO","singleton",void 0);var i=e("Singleton",function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n}(r));i.instance=null,i.instance=new i,n._RF.pop()}}})),System.register("chunks:///_virtual/stateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./persistentMember.ts","./dataLoader.ts"],(function(e){var t,n,r,i,a,o,s,l,u;return{setters:[function(e){t=e.inheritsLoose,n=e.extends},function(e){r=e.cclegacy,i=e._decorator,a=e.game,o=e.find,s=e.Component},function(e){l=e.Kayfo},function(e){u=e.dataLoader}],execute:function(){var c;r._RF.push({},"1b8fc8SNfpKbbo3t4aNfSWp","stateManager",void 0);var m=i.ccclass;i.property,e("stateManager",m("stateManager")(c=function(e){function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).m_gameLang=new l.PersistentString("m_persistentGameLang","fr"),t.m_gameStruct=new l.PersistentString("m_persistentGameStruct",""),t.m_quizData=new l.PersistentString("m_persistentQuizData",""),t.m_fiowData=new l.PersistentString("m_persistentFiowData",""),t.m_saveWcData=new l.PersistentString("m_persistentSaveWcData",""),t.m_playerData=new l.PersistentString("m_persistentPlayerData",""),t}t(r,e);var i=r.prototype;return i.onLoad=function(){this.m_gameLang.set(navigator.language.substring(0,2)),this.node._persistNode||a.addPersistRootNode(this.node)},i.start=function(){if(null!=o("dataLoader")){var e=o("dataLoader").getComponent(u);""==this.m_gameStruct.get()&&this.m_gameStruct.set(JSON.stringify(e.m_gameStruct)),""==this.m_quizData.get()&&this.m_quizData.set(JSON.stringify(e.m_quizData)),""==this.m_fiowData.get()&&this.m_fiowData.set(JSON.stringify(e.m_fiowData)),""==this.m_saveWcData.get()&&this.m_saveWcData.set(JSON.stringify(e.m_saveWcData))}else console.log("No dataLoader !")},i.setPlayerData=function(e){""==e.name&&(e=n({},e,{name:"Moussa"})),this.m_playerData.set(JSON.stringify(e))},i.updateProgress=function(){var e=!1,t=!1,n=JSON.parse(this.m_playerData.get()),r=JSON.parse(this.m_gameStruct.get());return r.levels[n.progression.levelIndex].rounds[n.progression.roundIndex].games.find((function(e){return 0==e.played})).played=!0,n.progression.gameIndex+=1,n.progression.gameIndex==r.levels[n.progression.levelIndex].rounds[n.progression.roundIndex].games.length&&(n.progression.gameIndex=0,n.progression.roundIndex+=1,t=!0,n.progression.roundIndex==r.levels[n.progression.levelIndex].rounds.length&&(n.progression.roundIndex=0,n.progression.levelIndex+=1,n.progression.levelIndex==r.levels.length?(n.progression.levelIndex-=1,n.progression.roundIndex=3):(r.levels[n.progression.levelIndex+1].unlocked=!0,e=!0))),console.log("SM v"),console.log(n),console.log(r),this.m_playerData.set(JSON.stringify(n)),this.m_gameStruct.set(JSON.stringify(r)),[t,e]},r}(s))||c),r._RF.pop()}}})),System.register("chunks:///_virtual/types.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9d049FpaVhPO7StEBeTLr4t","types",void 0),e._RF.pop()}}})),System.register("chunks:///_virtual/uiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./persistentMember.ts","./stateManager.ts"],(function(e){var t,n,r,i,a,o,s,l,u,c,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.Label,u=e.find,c=e.Component},function(e){m=e.Kayfo},function(e){p=e.stateManager}],execute:function(){var d,g,f,h,_,v,y;a._RF.push({},"864b2OH88FDd4crwf1faTu7","uiManager",void 0);var C=o.ccclass,S=o.property;e("uiManager",(d=C("uiManager"),g=S({type:s}),f=S({type:l}),d((v=t((_=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"questionBox",v,i(t)),r(t,"playerName",y,i(t)),t.m_persistentPlayer=new m.PersistentString("m_persistentPlayer",""),t}n(t,e);var a=t.prototype;return a.start=function(){if(u("stateManager")){var e=u("stateManager").getComponent(p).m_playerData.get();this.playerName.string=JSON.parse(e).name}},a.update=function(e){},t}(c)).prototype,"questionBox",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(_.prototype,"playerName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=_))||h)),a._RF.pop()}}})),o="virtual:///prerequisite-imports/main",s="chunks:///_virtual/main",System.register(o,[s],(function(e,t){return{setters:[function(t){var n={};for(var r in t)"default"!==r&&"__esModule"!==r&&(n[r]=t[r]);e(n)}],execute:function(){}}})),e("default",r.exports)}),{})}}}));

System.register("chunks:///_virtual/index.mjs_cjs=&original=.js",["./index.js","./cjs-loader.mjs"],(function(e,t){"use strict";var r,s;return{setters:[function(t){r=t.__cjsMetaURL;var s={};s.__cjsMetaURL=t.__cjsMetaURL,s.default=t.default,e(s)},function(e){s=e.default}],execute:function(){r||s.throwInvalidWrapper("./index.js",t.meta.url),s.require(r)}}}));

System.register("chunks:///_virtual/index.mjs_cjs=&original=2.js",["./index2.js","./cjs-loader.mjs"],(function(e,t){"use strict";var r,s;return{setters:[function(t){r=t.__cjsMetaURL;var s={};s.__cjsMetaURL=t.__cjsMetaURL,s.default=t.default,e(s)},function(e){s=e.default}],execute:function(){r||s.throwInvalidWrapper("./index.js",t.meta.url),s.require(r)}}}));

System.register("chunks:///_virtual/index2.js",["./cjs-loader.mjs"],(function(e,t){"use strict";var r;return{setters:[function(e){r=e.default}],execute:function(){e("default",void 0);var u=e("__cjsMetaURL",t.meta.url);r.define(u,(function(t,r,u,s,n){var i,c;System.register("chunks:///_virtual/resources",[],(function(){return{execute:function(){}}})),i="virtual:///prerequisite-imports/resources",c="chunks:///_virtual/resources",System.register(i,[c],(function(e,t){return{setters:[function(t){var r={};for(var u in t)"default"!==u&&"__esModule"!==u&&(r[u]=t[u]);e(r)}],execute:function(){}}})),e("default",u.exports)}),{})}}}));

System.register("chunks:///_virtual/rollupPluginModLoBabelHelpers.js",[],(function(e){"use strict";return{execute:function(){function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){return(r=e("extends",Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e})).apply(this,arguments)}function i(t,r){return(i=e("setPrototypeOf",Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e}))(t,r)}e({applyDecoratedDescriptor:function(e,t,r,i,n){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0);o=r.slice().reverse().reduce((function(r,i){return i(e,t,r)||r}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0);void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null);return o},assertThisInitialized:function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},createClass:function(e,r,i){r&&t(e.prototype,r);i&&t(e,i);return Object.defineProperty(e,"prototype",{writable:!1}),e},extends:r,inheritsLoose:function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)},initializerDefineProperty:function(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})},setPrototypeOf:i})}}}));

} }; });