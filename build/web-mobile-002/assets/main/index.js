System.register("chunks:///_virtual/dataLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,o,n,a,i,s,c,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,s=e.game,c=e.director,u=e.resources,d=e.Component}],execute:function(){var f,l,v,E,h;a._RF.push({},"13510mATT1K+69a0ShzccVC","dataLoader",void 0);var m=i.ccclass,p=i.property;e("dataLoader",(f=m("dataLoader"),l=p({type:Object}),f((h=t((E=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).m_baseUrl="https://app-cf6d19ba-6849-4172-ad9e-0423ded407d4.cleverapps.io",o(t,"m_gameStruct",h,n(t)),t.m_quizData=null,t.m_fiowData=null,t.m_saveWcData=null,t}r(t,e);var a=t.prototype;return a.onLoad=function(){this.node._persistNode||s.addPersistRootNode(this.node)},a.start=function(){"true"!=localStorage.getItem("_dataLoaded")&&(this.getQuizData(),this.getFiowData(),this.getSaveWcData(),this.loadGameStruct(),localStorage.setItem("_dataLoaded","true")),setTimeout((function(){c.loadScene("homeScene")}),500)},a.getQuizData=function(){var e=this;fetch(this.m_baseUrl+"/quizzes").then((function(e){return e.json()})).then((function(t){e.m_quizData=t})).catch((function(e){return console.error(e)}))},a.getFiowData=function(){var e=this;fetch(this.m_baseUrl+"/fiows").then((function(e){return e.json()})).then((function(t){e.m_fiowData=t})).catch((function(e){return console.error(e)}))},a.getSaveWcData=function(){this.m_saveWcData=[{id:1,questions:{en:"Word to find : CAR",fr:"Mot à trouver : VOITURE"},answers:{en:"CAR",fr:"VOITURE"},level:1,active:!0},{id:2,questions:{en:"Word to find : HOME",fr:"Mot à trouver : MAISON"},answers:{en:"HOME",fr:"MAISON"},level:1,active:!0},{id:3,questions:{en:"Word to find : NECK",fr:"Mot à trouver : COU"},answers:{en:"NECK",fr:"COU"},level:1,active:!0},{id:4,questions:{en:"Word to find : BEE",fr:"Mot à trouver : ABEILLE"},answers:{en:"BEE",fr:"ABEILLE"},level:2,active:!0},{id:5,questions:{en:"Word to find : WORDUS",fr:"Mot à trouver : MOTUS"},answers:{en:"WORDUS",fr:"MOTUS"},level:2,active:!0},{id:6,questions:{en:"Word to find : TITLE",fr:"Mot à trouver : TITRE"},answers:{en:"TITLE",fr:"TITRE"},level:3,active:!0},{id:7,questions:{en:"Word to find : LONDON",fr:"Mot à trouver : LONDRES"},answers:{en:"LONDON",fr:"LONDRES"},level:1,active:!0},{id:8,questions:{en:"Word to find : BIRD",fr:"Mot à trouver : OISEAU"},answers:{en:"BIRD",fr:"OISEAU"},level:3,active:!0},{id:9,questions:{en:"Word to find : YELLOW",fr:"Mot à trouver : JAUNE"},answers:{en:"YELLOW",fr:"JAUNE"},level:3,active:!0},{id:10,questions:{en:"Word to find : GREEN",fr:"Mot à trouver : VERT"},answers:{en:"GREEN",fr:"VERT"},level:2,active:!0},{id:11,questions:{en:"Word to find : RED",fr:"Mot à trouver : ROUGE"},answers:{en:"RED",fr:"ROUGE"},level:2,active:!0}]},a.loadGameStruct=function(){var e=this;u.load("gameStruct",(function(t,r){e.m_gameStruct=r.json}))},t}(d)).prototype,"m_gameStruct",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=E))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/dataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,a,r,s;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){a=n.cclegacy,r=n._decorator,s=n.Component}],execute:function(){var c,i;a._RF.push({},"136a3owNEVHJJHiafn/3eIl","dataManager",void 0);var o=r.ccclass;r.property,n("DataManager",o(((i=function(n){function a(){return n.apply(this,arguments)||this}return t(a,n),a.prototype.setLog=function(){},e(a,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new a),this._instance}}]),a}(s))._instance=new i,c=i))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/gameHeaderCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(t){"use strict";var e,r,n,a,i,o,s,l,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,s=t.Label,l=t.find,p=t.Component},function(t){c=t.stateManager}],execute:function(){var u,g,f,m,h;i._RF.push({},"4e05dIhImFOuZV9uQqlybwu","gameHeaderCtrlr",void 0);var d=o.ccclass,y=o.property;t("gameHeaderCtrlr",(u=d("gameHeaderCtrlr"),g=y({type:s}),u((h=e((m=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,n(e,"m_pqPointsText",h,a(e)),e}r(e,t);var i=e.prototype;return i.start=function(){this.setPqPoints()},i.setPqPoints=function(){if(""!=l("stateManager").getComponent(c).m_playerData.get()){var t=JSON.parse(l("stateManager").getComponent(c).m_playerData.get());this.m_pqPointsText.string=this.padWithZeroes(t.pq,3)}},i.padWithZeroes=function(t,e){for(var r=""+t;r.length<e;)r="0"+r;return r},e}(p)).prototype,"m_pqPointsText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/homeCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,n,r,o,a,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.find,a=e.director,s=e.Component},function(e){c=e.stateManager}],execute:function(){var l;n._RF.push({},"4a9967+diFFJYlWPph1xB4S","homeCtrlr",void 0);var i=r.ccclass;r.property,e("homeCtrlr",i("homeCtrlr")(l=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){},r.play=function(){if(""!=o("stateManager").getComponent(c).m_playerData.get()){var e=JSON.parse(o("stateManager").getComponent(c).m_playerData.get()),t=JSON.parse(o("stateManager").getComponent(c).m_gameStruct.get()).levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;console.log(t),setTimeout((function(){var e=t+"Scene";a.loadScene(e)}),200)}else a.loadScene("selectPlayerScene")},n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/imageWordsCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,n,i,r,s,a,o,m,l,u,g,_,d,c,p,h,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,o=e.Label,m=e.Sprite,l=e.Node,u=e.SpriteFrame,g=e.find,_=e.director,d=e.assetManager,c=e.Texture2D,p=e.Button,h=e.Color,f=e.Component},function(e){v=e.stateManager}],execute:function(){var C,w,S,b,I,y,E,M,B,q,x;s._RF.push({},"8d09ekhLntDLLsprhwUa7Gc","imageWordsCtrlr",void 0);var N=a.ccclass,A=a.property;e("imageWords",(C=N("imageWords"),w=A({type:o}),S=A({type:m}),b=A({type:[l]}),I=A({type:[u]}),C((M=t((E=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).m_GAME_NAME="imageWords",t.m_MISTAKES=3,t.m_BASE_SCORE=20,t.m_base_score=void 0,t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,i(t,"m_questionHeader",M,r(t)),i(t,"m_questionImage",B,r(t)),i(t,"m_answerBtns",q,r(t)),i(t,"m_btnTextures",x,r(t)),t}n(t,e);var s=t.prototype;return s.start=function(){this.m_lang=g("stateManager").getComponent(v).m_gameLang.get(),this.nextSet()},s.nextSet=function(){if(this.m_didClearRound)_.loadScene("recapScene");else if(this.m_didClearLevel);else{var e=JSON.parse(g("stateManager").getComponent(v).m_playerData.get()),t=JSON.parse(g("stateManager").getComponent(v).m_fiowData.get()),n=JSON.parse(g("stateManager").getComponent(v).m_gameStruct.get()),i=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var r=n.levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(r==this.m_GAME_NAME){var s=t.filter((function(e){return e.level==i+1}));0==s.length&&(s=t);var a=Math.floor(Math.random()*s.length);this.m_quiz=s[a],t.splice(t.indexOf(this.m_quiz),1),g("stateManager").getComponent(v).m_fiowData.set(JSON.stringify(t)),this.initView(),this.m_base_score=this.m_BASE_SCORE,this.m_mistakes=this.m_MISTAKES}else{console.log("WE ARE LOADING THE NEXT TYPE OF GAME(QUIZ)");var o=r+"Scene";_.loadScene(o)}}},s.initView=function(){var e=this;this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/4";var t=JSON.parse(this.m_quiz.questions)[this.m_lang];this.m_questionImage.node.getChildByName("spinnerItem").active=!0,d.loadRemote(t,(function(t,n){if(!t){var i=new c;i.image=n;var r=new u;r.texture=i,e.m_questionImage.spriteFrame=r,e.m_questionImage.node.getChildByName("spinnerItem").active=!1}}));var n=JSON.parse(this.m_quiz.answers)[this.m_lang].sort((function(){return Math.random()-.5}));this.m_quiz.answers=n;for(var i=0;i<this.m_answerBtns.length;i++){var r=this.m_answerBtns[i];r.getComponent(p).interactable=!0,r.getComponent(p).enabled=!0,r.getComponent(m).color=h.WHITE,r.getChildByName("spinnerItem").active=!1,r.getComponentInChildren(o).string=this.m_quiz.answers[i].answer}},s.checkAnswer=function(e,t){var n=this,i=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,i),i){var r=g("stateManager").getComponent(v).updateProgress(this.m_base_score);this.m_didClearRound=r[0],this.m_didClearLevel=r[1],setTimeout((function(){n.nextSet()}),1e3);for(var s=0;s<this.m_answerBtns.length;s++)this.m_answerBtns[s].getComponent(p).enabled=!1,this.m_answerBtns[s].getChildByName("spinnerItem").active=!1}else if(this.m_mistakes>1)this.m_mistakes--,this.m_base_score-=5*this.m_mistakes;else{var a=g("stateManager").getComponent(v).updateProgress(this.m_base_score);this.m_didClearRound=a[0],this.m_didClearLevel=a[1],setTimeout((function(){n.nextSet()}),1e3)}},s.setAnswerBtnColor=function(e,t){var n=t?h.GREEN:h.RED,i=this.m_answerBtns[e];i.getComponent(p).enabled=!1,setTimeout((function(){i.getComponent(m).color=n}),30)},t}(f)).prototype,"m_questionHeader",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(E.prototype,"m_questionImage",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(E.prototype,"m_answerBtns",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(E.prototype,"m_btnTextures",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=E))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/letterBtnCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./saveWcCtrlr.ts"],(function(t){"use strict";var e,r,n,o,c,i,l,s,a,u;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Label,c=t.find,i=t.Color,l=t.Button,s=t.Sprite,a=t.Component},function(t){u=t.saveWcCtrlr}],execute:function(){var p;r._RF.push({},"8cd7ewmqL5K3qyQXOr7ggwb","letterBtnCtrlr",void 0);var C=n.ccclass;n.property,t("letterBtnCtrlr",C("letterBtnCtrlr")(p=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_clicked=void 0,e}e(r,t);var n=r.prototype;return n.start=function(){this.m_clicked=!1},n.onClickLetter=function(t){if(!this.m_clicked){var e=this.getComponentInChildren(o).string,r=c("Canvas").getComponent(u).onClickLetter(e),n=r[0],a=r[1],p=n||a?i.GREEN:i.RED;this.node.getComponent(l).enabled=!1,this.node.getComponent(s).color=p,this.m_clicked=!0}},r}(a))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/loaderCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,o,a,n,i,l,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,o=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){n=r.cclegacy,i=r._decorator,l=r.Node,c=r.Component}],execute:function(){var s,u,p,d,f;n._RF.push({},"fa1daXeCoNOj4eETPKpxsIW","loaderCtrlr",void 0);var y=i.ccclass,h=i.property;r("loaderCtrlr",(s=y("loaderCtrlr"),u=h({type:l}),s((f=e((d=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n))||this,o(e,"dataLoader",f,a(e)),e}return t(e,r),e.prototype.start=function(){},e}(c)).prototype,"dataLoader",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./index.mjs_cjs=&original=2.js","./gameHeaderCtrlr.ts","./letterBtnCtrlr.ts","./global.mjs_cjs=&original=.js","./homeCtrlr.ts","./imageWordsCtrlr.ts","./loaderCtrlr.ts","./dataLoader.ts","./stateManager.ts","./uiManager.ts","./quizCtrlr.ts","./recapCtrlr.ts","./saveWcCtrlr.ts","./selectPlayerCtrlr.ts","./dataManager.ts","./persistentMember.ts","./singleton.ts","./types.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/persistentMember.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy}],execute:function(){var r;t("Kayfo",void 0),n._RF.push({},"cd885xdxDNIMZY/2AVMF67T","persistentMember",void 0),function(t){var n=function(){function t(t,e){this.m_defaultValue=void 0,this.m_value=void 0,this.m_key=void 0,this.loadedOnce=!1,this.m_key=t,this.m_defaultValue=e}var e=t.prototype;return e.get=function(){return this.loadedOnce||(null!=localStorage.getItem(this.m_key)?this.m_value=this.GetInternal():this.m_value=this.m_defaultValue,this.loadedOnce=!0),this.m_value},e.set=function(t){this.m_value=t,this.SetInternal(t)},e.GetInternal=function(){},e.SetInternal=function(t){},t}(),r=function(t){function n(e,n){return t.call(this,e,n)||this}e(n,t);var r=n.prototype;return r.GetInternal=function(){return"true"==localStorage.getItem(this.m_key)},r.SetInternal=function(t){localStorage.setItem(this.m_key,t?"true":"false")},n}(n);t.PersistentBool=r;var i=function(t){function n(e,n){return t.call(this,e,n)||this}e(n,t);var r=n.prototype;return r.GetInternal=function(){return parseFloat(localStorage.getItem(this.m_key))},r.SetInternal=function(t){localStorage.setItem(this.m_key,t.toString())},n}(n);t.PersistentNum=i;var o=function(t){function n(e,n){return t.call(this,e,n)||this}e(n,t);var r=n.prototype;return r.GetInternal=function(){return localStorage.getItem(this.m_key)},r.SetInternal=function(t){localStorage.setItem(this.m_key,t)},n}(n);t.PersistentString=o}(r||(r=t("Kayfo",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/quizCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,n,r,i,s,a,o,m,l,u,p,_,c,g,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,o=e.Label,m=e.Node,l=e.SpriteFrame,u=e.find,p=e.director,_=e.Button,c=e.Sprite,g=e.Color,d=e.Component},function(e){h=e.stateManager}],execute:function(){var f,S,C,v,b,w,q,y,z,E,M,x,T;s._RF.push({},"b7381Amf3pGYYibaJeBCvw2","quizCtrlr",void 0);var A=a.ccclass,I=a.property;e("quizCtrlr",(f=A("quizCtrlr"),S=I({type:o}),C=I({type:o}),v=I({type:[m]}),b=I({type:[l]}),w=I({type:o}),f((z=t((y=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).m_GAME_NAME="quiz",t.m_MISTAKES=3,t.m_BASE_SCORE=20,t.m_base_score=void 0,t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,r(t,"m_questionHeader",z,i(t)),r(t,"m_questionText",E,i(t)),r(t,"m_answerBtns",M,i(t)),r(t,"m_btnTextures",x,i(t)),r(t,"m_pupitreScoreText",T,i(t)),t}n(t,e);var s=t.prototype;return s.start=function(){this.m_lang=u("stateManager").getComponent(h).m_gameLang.get(),this.nextSet()},s.nextSet=function(){if(this.m_didClearRound)p.loadScene("recapScene");else if(this.m_didClearLevel);else{var e=JSON.parse(u("stateManager").getComponent(h).m_playerData.get()),t=JSON.parse(u("stateManager").getComponent(h).m_quizData.get()),n=JSON.parse(u("stateManager").getComponent(h).m_gameStruct.get()),r=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var i=n.levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(this.updateUiScore(),i==this.m_GAME_NAME){var s=t.filter((function(e){return e.level==r+1}));0==s.length&&(s=t);var a=Math.floor(Math.random()*s.length);this.m_quiz=s[a],t.splice(t.indexOf(this.m_quiz),1),u("stateManager").getComponent(h).m_quizData.set(JSON.stringify(t)),this.initView(),this.m_base_score=this.m_BASE_SCORE,this.m_mistakes=this.m_MISTAKES}else{console.log("WE ARE LOADING THE NEXT TYPE OF GAME(IMAGE-WORDS)");var o=i+"Scene";p.loadScene(o)}}},s.initView=function(){this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/4",this.m_questionText.string=JSON.parse(this.m_quiz.questions)[this.m_lang];var e=JSON.parse(this.m_quiz.answers)[this.m_lang].sort((function(){return Math.random()-.5}));this.m_quiz.answers=e;for(var t=0;t<this.m_answerBtns.length;t++){var n=this.m_answerBtns[t];n.getComponent(_).interactable=!0,n.getComponent(_).enabled=!0,n.getComponent(c).color=g.WHITE,n.getComponentInChildren(o).string=this.m_quiz.answers[t].answer}},s.checkAnswer=function(e,t){var n=this,r=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,r),r){var i=u("stateManager").getComponent(h).updateProgress(this.m_base_score);this.m_didClearRound=i[0],this.m_didClearLevel=i[1],this.updateUiScore(),setTimeout((function(){n.nextSet()}),1e3);for(var s=0;s<this.m_answerBtns.length;s++)this.m_answerBtns[s].getComponent(_).enabled=!1}else if(this.m_mistakes>1)this.m_mistakes--,this.m_base_score-=5*this.m_mistakes;else{var a=u("stateManager").getComponent(h).updateProgress(this.m_base_score);this.m_didClearRound=a[0],this.m_didClearLevel=a[1],this.updateUiScore(),setTimeout((function(){n.nextSet()}),1e3)}},s.updateUiScore=function(){var e=JSON.parse(u("stateManager").getComponent(h).m_playerData.get());this.m_pupitreScoreText.string=e.score.toString()},s.setAnswerBtnColor=function(e,t){var n=t?g.GREEN:g.RED,r=this.m_answerBtns[e];r.getComponent(_).enabled=!1,setTimeout((function(){r.getComponent(c).color=n}),30)},t}(d)).prototype,"m_questionHeader",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(y.prototype,"m_questionText",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(y.prototype,"m_answerBtns",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(y.prototype,"m_btnTextures",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(y.prototype,"m_pupitreScoreText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=y))||q));s._RF.pop()}}}));

System.register("chunks:///_virtual/recapCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,r,n,o,a,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,o=e.find,a=e.director,s=e.Component},function(e){c=e.stateManager}],execute:function(){var i;r._RF.push({},"1b666GzmrJA5roFqjajIZqh","recapCtrlr",void 0);var u=n.ccclass;n.property,e("recapCtrlr",u("recapCtrlr")(i=function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var n=r.prototype;return n.start=function(){},n.continue=function(){var e=JSON.parse(o("stateManager").getComponent(c).m_playerData.get()),t=JSON.parse(o("stateManager").getComponent(c).m_gameStruct.get()).levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;console.log(t),setTimeout((function(){var e=t+"Scene";a.loadScene(e)}),200)},r}(s))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/saveWcCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,n,i,r,s,o,a,l,m,_,h,d,u,c,g,p,f,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,a=e.Label,l=e.Node,m=e.Prefab,_=e.SpriteFrame,h=e.find,d=e.instantiate,u=e.director,c=e.Button,g=e.Color,p=e.Sprite,f=e.Component},function(e){C=e.stateManager}],execute:function(){var v,b,S,y,E,T,A,M,x,w,I,B,O,L,z,R,k,F,q;s._RF.push({},"9c06eIaSWFM8ZFeNrliu+JW","saveWcCtrlr",void 0);var N=o.ccclass,P=o.property;e("saveWcCtrlr",(v=N("saveWcCtrlr"),b=P({type:a}),S=P({type:a}),y=P({type:l}),E=P({type:l}),T=P({type:m}),A=P({type:m}),M=P({type:[l]}),x=P({type:[_]}),v((B=t((I=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).m_GAME_NAME="saveWc",t.m_MISTAKES=3,t.m_BASE_SCORE=20,t.m_base_score=void 0,t.m_ALPHABET=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,t.m_word=void 0,t.m_letters=void 0,t.m_lettersToFind=void 0,i(t,"m_questionHeader",B,r(t)),i(t,"m_questionText",O,r(t)),i(t,"m_keyboard",L,r(t)),i(t,"m_slotsContainer",z,r(t)),i(t,"m_letterBtn",R,r(t)),i(t,"m_letterSlot",k,r(t)),i(t,"m_answerBtns",F,r(t)),i(t,"m_btnTextures",q,r(t)),t}n(t,e);var s=t.prototype;return s.start=function(){this.m_lang=h("stateManager").getComponent(C).m_gameLang.get(),this.nextSet()},s.initKeyboard=function(){this.m_keyboard.destroyAllChildren();for(var e=0;e<this.m_ALPHABET.length;e++){var t=this.m_ALPHABET[e],n=d(this.m_letterBtn);n.getComponentInChildren(a).string=t,this.m_keyboard.addChild(n)}},s.initAnswer=function(e,t){void 0===t&&(t=1),this.m_word=e,this.m_letters=this.m_word.split(""),this.m_lettersToFind=[];var n=this.getHiddenLength(e.length,t);this.m_MISTAKES=n,this.m_mistakes=n;var i=this.getRandomIndexes(e.length,n);this.m_slotsContainer.destroyAllChildren();for(var r=0;r<this.m_letters.length;r++){var s=this.m_letters[r],o=d(this.m_letterSlot);o.getComponentInChildren(a).string=s,-1!=i.indexOf(r)&&(o.getComponentInChildren(a).enabled=!1,this.m_lettersToFind.push(s)),this.m_slotsContainer.addChild(o)}},s.getHiddenLength=function(e,t){return e/(4-t)+1},s.getRandomIndexes=function(e,t){for(var n=[],i=0;i<t;i++){var r=Math.floor(Math.random()*e);-1==n.indexOf(r)&&n.push(r)}return n},s.nextSet=function(){if(this.m_didClearRound)u.loadScene("recapScene");else if(this.m_didClearLevel);else{var e=JSON.parse(h("stateManager").getComponent(C).m_playerData.get()),t=JSON.parse(h("stateManager").getComponent(C).m_saveWcData.get()),n=JSON.parse(h("stateManager").getComponent(C).m_gameStruct.get()),i=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var r=n.levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(r==this.m_GAME_NAME){console.log(t);var s=t.filter((function(e){return e.level==i+1})),o=Math.floor(Math.random()*s.length);this.m_quiz=s[o],t.splice(t.indexOf(this.m_quiz),1),h("stateManager").getComponent(C).m_saveWcData.set(JSON.stringify(t)),this.initView(),this.m_base_score=this.m_BASE_SCORE,this.m_mistakes=this.m_MISTAKES}else{console.log("WE ARE LOADING THE NEXT TYPE OF GAME(any)");var a=r+"Scene";u.loadScene(a)}}},s.initView=function(){this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/4",this.initKeyboard(),this.m_questionText.string=this.m_quiz.questions[this.m_lang];var e=this.m_quiz.answers[this.m_lang];console.log(e),this.initAnswer(e,this.m_quiz.level)},s.onClickLetter=function(e){for(var t=this,n=-1!=this.m_lettersToFind.indexOf(e),i=-1!=this.m_letters.indexOf(e),r=0;r<this.m_slotsContainer.children.length;r++){var s=this.m_slotsContainer.children[r];s.getComponentInChildren(a).string==e&&(s.getComponentInChildren(a).enabled=!0)}if(n){if(this.m_lettersToFind.splice(this.m_lettersToFind.indexOf(e),1),console.log(this.m_lettersToFind),0==this.m_lettersToFind.length){console.log("COMPLETED");var o=h("stateManager").getComponent(C).updateProgress(this.m_base_score);this.m_didClearRound=o[0],this.m_didClearLevel=o[1],setTimeout((function(){t.nextSet()}),1e3)}}else if(!i)if(this.m_mistakes>1){this.m_mistakes--;var l=Math.floor(this.m_BASE_SCORE/this.m_MISTAKES);this.m_base_score-=l*this.m_mistakes}else{var m=h("stateManager").getComponent(C).updateProgress(this.m_base_score);this.m_didClearRound=m[0],this.m_didClearLevel=m[1],setTimeout((function(){t.nextSet()}),1e3)}return[n,i]},s.checkAnswer=function(e,t){var n=this,i=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,i),i){var r=h("stateManager").getComponent(C).updateProgress(this.m_base_score);this.m_didClearRound=r[0],this.m_didClearLevel=r[1],setTimeout((function(){n.nextSet()}),1e3);for(var s=0;s<this.m_answerBtns.length;s++)this.m_answerBtns[s].getComponent(c).enabled=!1}else if(this.m_mistakes>1){this.m_mistakes--;Math.floor(this.m_BASE_SCORE/this.m_MISTAKES);this.m_base_score-=5*this.m_mistakes}else setTimeout((function(){n.nextSet()}),1e3)},s.setAnswerBtnColor=function(e,t){var n=t?g.GREEN:g.RED,i=this.m_answerBtns[e];i.getComponent(c).enabled=!1,setTimeout((function(){i.getComponent(p).color=n}),30)},t}(f)).prototype,"m_questionHeader",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(I.prototype,"m_questionText",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"m_keyboard",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(I.prototype,"m_slotsContainer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(I.prototype,"m_letterBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(I.prototype,"m_letterSlot",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(I.prototype,"m_answerBtns",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(I.prototype,"m_btnTextures",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=I))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/selectPlayerCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,n,r,a,o,s,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,a=e.director,o=e.find,s=e.Component},function(e){l=e.stateManager}],execute:function(){var c;n._RF.push({},"79be0w1sUdEiZ+oWgUxxEH9","selectPlayerCtrlr",void 0);var i=r.ccclass;r.property,e("selectPlayerCtrlr",i("selectPlayerCtrlr")(c=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).m_playersData=null,t}t(n,e);var r=n.prototype;return r.start=function(){},r.goBack=function(){a.loadScene("homeScene")},r.play=function(){if(""==o("stateManager").getComponent(l).m_playerData.get()){o("stateManager").getComponent(l).setPlayerData({name:"Lamine",avatar:"",score:0,globalScore:0,coins:0,pq:0,progression:{levelIndex:0,roundIndex:0,gameIndex:0,bestScore:0}})}var e=JSON.parse(o("stateManager").getComponent(l).m_playerData.get()),t=JSON.parse(o("stateManager").getComponent(l).m_gameStruct.get()).levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;console.log(t),setTimeout((function(){var e=t+"Scene";a.loadScene(e)}),200)},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n.Component}],execute:function(){e._RF.push({},"2c4e01NHj9CJ4KoEwz/dbBO","singleton",void 0);var o=n("Singleton",function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(i));o.instance=null,o.instance=new o,e._RF.pop()}}}));

System.register("chunks:///_virtual/stateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./persistentMember.ts","./dataLoader.ts"],(function(e){"use strict";var t,s,n,r,a,o,i,g,l;return{setters:[function(e){t=e.inheritsLoose,s=e.extends},function(e){n=e.cclegacy,r=e._decorator,a=e.game,o=e.find,i=e.Component},function(e){g=e.Kayfo},function(e){l=e.dataLoader}],execute:function(){var d;n._RF.push({},"1b8fc8SNfpKbbo3t4aNfSWp","stateManager",void 0);var m=r.ccclass;r.property,e("stateManager",m("stateManager")(d=function(e){function n(){for(var t,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).m_gameLang=new g.PersistentString("m_persistentGameLang","fr"),t.m_gameStruct=new g.PersistentString("m_persistentGameStruct",""),t.m_quizData=new g.PersistentString("m_persistentQuizData",""),t.m_fiowData=new g.PersistentString("m_persistentFiowData",""),t.m_saveWcData=new g.PersistentString("m_persistentSaveWcData",""),t.m_playerData=new g.PersistentString("m_persistentPlayerData",""),t}t(n,e);var r=n.prototype;return r.onLoad=function(){this.m_gameLang.set(navigator.language.substring(0,2)),this.node._persistNode||a.addPersistRootNode(this.node)},r.start=function(){if(null!=o("dataLoader")){var e=o("dataLoader").getComponent(l);""==this.m_gameStruct.get()&&this.m_gameStruct.set(JSON.stringify(e.m_gameStruct)),""==this.m_quizData.get()&&this.m_quizData.set(JSON.stringify(e.m_quizData)),""==this.m_fiowData.get()&&this.m_fiowData.set(JSON.stringify(e.m_fiowData)),""==this.m_saveWcData.get()&&this.m_saveWcData.set(JSON.stringify(e.m_saveWcData))}else console.log("No dataLoader !")},r.setPlayerData=function(e){""==e.name&&(e=s({},e,{name:"Moussa"})),this.m_playerData.set(JSON.stringify(e))},r.updateProgress=function(e){var t=!1,s=!1,n=JSON.parse(this.m_playerData.get()),r=JSON.parse(this.m_gameStruct.get());return r.levels[n.progression.levelIndex].rounds[n.progression.roundIndex].games.find((function(e){return 0==e.played})).played=!0,n.progression.gameIndex+=1,n.score+=e,n.progression.gameIndex==r.levels[n.progression.levelIndex].rounds[n.progression.roundIndex].games.length&&(n.progression.gameIndex=0,n.progression.roundIndex+=1,s=!0,n.progression.roundIndex==r.levels[n.progression.levelIndex].rounds.length&&(n.progression.roundIndex=0,n.progression.levelIndex+=1,n.progression.levelIndex==r.levels.length?(n.progression.levelIndex-=1,n.progression.roundIndex=2):(r.levels[n.progression.levelIndex+1].unlocked=!0,t=!0,n.score=0))),console.log("SM v"),console.log(n),console.log(r),this.m_playerData.set(JSON.stringify(n)),this.m_gameStruct.set(JSON.stringify(r)),[s,t]},n}(i))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/types.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9d049FpaVhPO7StEBeTLr4t","types",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/uiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./persistentMember.ts","./stateManager.ts"],(function(e){"use strict";var t,r,n,a,i,o,s,u,l,c,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,u=e.Label,l=e.find,c=e.Component},function(e){p=e.Kayfo},function(e){f=e.stateManager}],execute:function(){var y,g,m,b,M,d,h;i._RF.push({},"864b2OH88FDd4crwf1faTu7","uiManager",void 0);var v=o.ccclass,_=o.property;e("uiManager",(y=v("uiManager"),g=_({type:s}),m=_({type:u}),y((d=t((M=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"questionBox",d,a(t)),n(t,"playerName",h,a(t)),t.m_persistentPlayer=new p.PersistentString("m_persistentPlayer",""),t}r(t,e);var i=t.prototype;return i.start=function(){if(l("stateManager")){var e=l("stateManager").getComponent(f).m_playerData.get();this.playerName.string=JSON.parse(e).name}},i.update=function(e){},t}(c)).prototype,"questionBox",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(M.prototype,"playerName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=M))||b));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});