System.register("chunks:///_virtual/dataLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./xlsx.mjs"],(function(e){"use strict";var t,r,n,o,a,i,s,u,c,l,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,s=e.game,u=e.director,c=e.resources,l=e.Component},function(e){d=e.read,f=e.utils}],execute:function(){var v,E,m,h,D;a._RF.push({},"13510mATT1K+69a0ShzccVC","dataLoader",void 0);var L=i.ccclass,g=i.property;e("dataLoader",(v=L("dataLoader"),E=g({type:Object}),v((D=t((h=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).m_baseUrl="https://app-cf6d19ba-6849-4172-ad9e-0423ded407d4.cleverapps.io",n(t,"m_gameStruct",D,o(t)),t.m_quizData=null,t.m_fiowData=null,t.m_saveWcData=null,t.m_sanitizeData=null,t.m_excel_url_1="https://docs.google.com/spreadsheets/d/e/2PACX-1vTDC7mWqUY2L3N4Yma9L-6RULzdKHs8RhJvsDbnfYHNXeiB4qgpQxqdyHy8CojJRd-88ZwrR2fjJC1A/pubhtml",t}r(t,e);var a=t.prototype;return a.onLoad=function(){this.node._persistNode||s.addPersistRootNode(this.node)},a.start=function(){"true"!=localStorage.getItem("_dataLoaded")&&(this.getQuizData(),this.getFiowData(),this.getSaveWcData(),this.getSanitizeData(),this.loadGameStruct(),localStorage.setItem("_dataLoaded","true")),"null"!=localStorage.getItem("m_persistentGameLang")&&localStorage.getItem("m_persistentGameLang")?setTimeout((function(){u.loadScene("homeScene")}),1500):setTimeout((function(){u.loadScene("onboardScene")}),1500)},a.getExcelData=function(){fetch(this.m_excel_url_1).then((function(e){if(!e.ok)throw new Error("fetch failed");return e.arrayBuffer()})).then((function(e){var t=new Uint8Array(e),r=d(t,{type:"array"}),n=r.SheetNames[0],o=r.Sheets[n],a=f.sheet_to_json(o,{raw:!0});console.log(a)}))},a.getQuizData=function(){var e=this;fetch(this.m_baseUrl+"/quizzes").then((function(e){return e.json()})).then((function(t){e.m_quizData=t})).catch((function(e){return console.error(e)}))},a.getFiowData=function(){var e=this;fetch(this.m_baseUrl+"/fiows").then((function(e){return e.json()})).then((function(t){e.m_fiowData=t})).catch((function(e){return console.error(e)}))},a.getSaveWcData=function(){this.m_saveWcData=[{id:1,questions:{en:"Word to find : CAR",fr:"Mot à trouver : VOITURE"},answers:{en:"CAR",fr:"VOITURE"},level:1,active:!0},{id:2,questions:{en:"Word to find : HOME",fr:"Mot à trouver : MAISON"},answers:{en:"HOME",fr:"MAISON"},level:1,active:!0},{id:3,questions:{en:"Word to find : NECK",fr:"Mot à trouver : COU"},answers:{en:"NECK",fr:"COU"},level:1,active:!0},{id:4,questions:{en:"Word to find : BEE",fr:"Mot à trouver : ABEILLE"},answers:{en:"BEE",fr:"ABEILLE"},level:2,active:!0},{id:5,questions:{en:"Word to find : WORDUS",fr:"Mot à trouver : MOTUS"},answers:{en:"WORDUS",fr:"MOTUS"},level:2,active:!0},{id:6,questions:{en:"Word to find : TITLE",fr:"Mot à trouver : TITRE"},answers:{en:"TITLE",fr:"TITRE"},level:3,active:!0},{id:7,questions:{en:"Word to find : LONDON",fr:"Mot à trouver : LONDRES"},answers:{en:"LONDON",fr:"LONDRES"},level:1,active:!0},{id:8,questions:{en:"Word to find : BIRD",fr:"Mot à trouver : OISEAU"},answers:{en:"BIRD",fr:"OISEAU"},level:3,active:!0},{id:9,questions:{en:"Word to find : YELLOW",fr:"Mot à trouver : JAUNE"},answers:{en:"YELLOW",fr:"JAUNE"},level:3,active:!0},{id:10,questions:{en:"Word to find : GREEN",fr:"Mot à trouver : VERT"},answers:{en:"GREEN",fr:"VERT"},level:2,active:!0},{id:11,questions:{en:"Word to find : RED",fr:"Mot à trouver : ROUGE"},answers:{en:"RED",fr:"ROUGE"},level:2,active:!0},{id:12,questions:{en:"Word to find : BLUE",fr:"Mot à trouver : BLEU"},answers:{en:"BLUE",fr:"BLEU"},level:2,active:!0},{id:13,questions:{en:"Word to find : YELLOW",fr:"Mot à trouver : JAUNE"},answers:{en:"YELLOW",fr:"JAUNE"},level:2,active:!0},{id:14,questions:{en:"Word to find : ORANGE",fr:"Mot à trouver : ORANGE"},answers:{en:"ORANGE",fr:"ORANGE"},level:2,active:!0},{id:15,questions:{en:"Word to find : ROUND",fr:"Mot à trouver : ROND"},answers:{en:"ROUND",fr:"ROND"},level:2,active:!0}]},a.getSanitizeData=function(){this.m_sanitizeData={env:[],bio:[],building:[]}},a.loadGameStruct=function(){var e=this;c.load("gameStruct",(function(t,r){e.m_gameStruct=r.json,console.log(e.m_gameStruct)}))},t}(l)).prototype,"m_gameStruct",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/dataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,a,r,s;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){a=n.cclegacy,r=n._decorator,s=n.Component}],execute:function(){var c,i;a._RF.push({},"136a3owNEVHJJHiafn/3eIl","dataManager",void 0);var o=r.ccclass;r.property,n("DataManager",o(((i=function(n){function a(){return n.apply(this,arguments)||this}return t(a,n),a.prototype.setLog=function(){},e(a,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new a),this._instance}}]),a}(s))._instance=new i,c=i))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/finalCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,n,o,c;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.director,c=t.Component}],execute:function(){var i;e._RF.push({},"414b9uc2K5BlaDW4tTsjqy9","finalCtrlr",void 0);var l=n.ccclass;n.property,t("finalCtrlr",l("finalCtrlr")(i=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.start=function(){},n.replay=function(){localStorage.clear(),setTimeout((function(){o.loadScene("splashScene")}),200)},e}(c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/fortuneWcCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./transitionBoxCtrlr.ts","./stateManager.ts","./transitions.ts"],(function(t){"use strict";var e,n,a,r,o,i,l,s,u,c,p,g,m,h,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,i=t._decorator,l=t.Node,s=t.Button,u=t.find,c=t.tween,p=t.Label,g=t.director,m=t.Component},function(t){h=t.transitionBoxCtrlr},function(t){f=t.stateManager},function(t){y=t.TRANSITIONS}],execute:function(){var v,_,d,w,M,C,b,B,S;o._RF.push({},"819c9SAtElJc7v7pww+pQO9","fortuneWcCtrlr",void 0);var q=i.ccclass,x=i.property;t("fortuneWcCtrlr",(v=q("fortuneWcCtrlr"),_=x({type:l}),d=x({type:s}),w=x({type:l}),v((b=e((C=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,a(e,"m_wheel",b,r(e)),a(e,"m_launchBtn",B,r(e)),e.m_lang="fr",e.m_tween=void 0,a(e,"m_transitionBox",S,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){this.m_lang=u("stateManager").getComponent(f).m_gameLang.get(),this.displayTransition()},o.displayTransition=function(){var t=y[this.m_lang].wc,e=t[Math.floor(Math.random()*t.length)];this.m_transitionBox.getComponent(h).setItem("Small",e,"happy",!0,2e3)},o.launch=function(){var t=[{type:"coin",value:100,angle:0},{type:"pq",value:2,angle:45},{type:"coin",value:200,angle:90},{type:"pq",value:3,angle:135},{type:"coin",value:300,angle:180},{type:"pq",value:4,angle:225},{type:"coin",value:400,angle:270},{type:"pq",value:1,angle:315}],e=t[Math.floor(Math.random()*t.length)],n=Math.floor(4*Math.random())+2,a=e.angle+360*n;this.m_tween=c().target(this.m_wheel).to(1.5,{angle:a},{easing:function(t){return 1-Math.pow(Math.min(1,Math.max(0,t))-1,2)}}),this.m_tween.start(),this.m_launchBtn.enabled=!1,setTimeout((function(){console.log(e);var t=JSON.parse(u("stateManager").getComponent(f).m_playerData.get());switch(e.type){case"coin":t.coins+=e.value,t.stats.poop_coins=e.value;break;case"pq":t.pq+=e.value,t.stats.pq=e.value}var n="Canvas/"+e.type+"View";u(n).getComponentInChildren(p).string=e.value.toString(),u(n).active=!0,u("stateManager").getComponent(f).m_playerData.set(JSON.stringify(t)),setTimeout((function(){g.loadScene("recapScene")}),1e3)}),1550)},o.update=function(t){},e}(m)).prototype,"m_wheel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(C.prototype,"m_launchBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(C.prototype,"m_transitionBox",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=C))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/gameHeaderCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(t){"use strict";var e,n,r,a,i,o,s,p,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,s=t.Label,p=t.find,l=t.Component},function(t){c=t.stateManager}],execute:function(){var u,g,m,f,h,y,d;i._RF.push({},"4e05dIhImFOuZV9uQqlybwu","gameHeaderCtrlr",void 0);var P=o.ccclass,_=o.property;t("gameHeaderCtrlr",(u=P("gameHeaderCtrlr"),g=_({type:s}),m=_({type:s}),u((y=e((h=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,r(e,"m_pqPointsText",y,a(e)),r(e,"m_coinsPointsText",d,a(e)),e}n(e,t);var i=e.prototype;return i.start=function(){this.setPqPoints(),this.setCoinsPoints()},i.setPqPoints=function(){if(""!=p("stateManager").getComponent(c).m_playerData.get()){var t=JSON.parse(p("stateManager").getComponent(c).m_playerData.get());this.m_pqPointsText.string=this.padWithZeroes(t.pq,3)}},i.setCoinsPoints=function(){if(""!=p("stateManager").getComponent(c).m_playerData.get()){var t=JSON.parse(p("stateManager").getComponent(c).m_playerData.get());this.m_coinsPointsText.string=this.padWithZeroes(t.coins,3)}},i.padWithZeroes=function(t,e){for(var n=""+t;n.length<e;)n="0"+n;return n},e}(l)).prototype,"m_pqPointsText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(h.prototype,"m_coinsPointsText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/global.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({definePlayers:function(e,n,r){var t=[e],a=[].concat(n).sort((function(e,n){return.5-Math.random()})),i=a.indexOf(r);a.splice(i,1);for(var o=0;o<4;o++){var s=a[o],c={index:0,podiumIndex:o+1,name:"",avatar:"",score:0,globalScore:0,coins:0,pq:0,progression:{levelIndex:0,roundIndex:0,gameIndex:0,bestScore:0},stats:{pq:0,wrong_answers:0,right_answers:0,poop_coins:0},eliminated:!1};c.index=n.indexOf(s),c.name=s.m_name.toString(),t.push(c)}return t},getRandomWithWeight:function(e){for(var n=e[0].point,r=Math.floor(101*Math.random()),t=0;t<e.length;t++){var a=e[t].power;if(r>0&&r<=a){n=e[t].point;break}r-=a}return n},padWithX:function(e,n,r){void 0===r&&(r=null);return r=r||"0",(e+="").length>=n?e:new Array(n-e.length+1).join(r)+e},qualifyPlayers:function(e,n){var r=e.sort((function(e,n){return n.score-e.score})),t=r.findIndex((function(e){return 1==e.eliminated}));-1==t&&(t=0);for(var a=r.filter((function(e){return 1==e.eliminated})).length+n,i=r.length-a;i<r.length;i++)r[i].eliminated=!0;return r}}),n._RF.push({},"99e3efStQJJ0Kxx/1vyJZ0R","global",void 0);e("OPPONENTS_ANSWERS_PROBS",[{name:"EASY",baseProbaRightAnswer:50,marginProbaRightAnswer:20},{name:"MEDIUM",baseProbaRightAnswer:60,marginProbaRightAnswer:20},{name:"HARD",baseProbaRightAnswer:70,marginProbaRightAnswer:20}]),e("TROPHIES_ACCESS",[{id:0,name:"NONE",scoreMin:0,scoreMax:199},{id:1,name:"BRONZE",scoreMin:200,scoreMax:450},{id:2,name:"SILVER",scoreMin:451,scoreMax:600},{id:3,name:"GOLD",scoreMin:601,scoreMax:1e7}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/homeCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,n,a,r,o,i,s,l,c,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.Button,l=e.find,c=e.director,p=e.Component},function(e){u=e.stateManager}],execute:function(){var g,d,m,f,v;o._RF.push({},"4a9967+diFFJYlWPph1xB4S","homeCtrlr",void 0);var y=i.ccclass,S=i.property;e("homeCtrlr",(g=y("homeCtrlr"),d=S({type:s}),g((v=t((f=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,a(t,"m_investBtn",v,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){this.setInvestBtn()},o.setInvestBtn=function(){""!=l("stateManager").getComponent(u).m_playerData.get()?JSON.parse(l("stateManager").getComponent(u).m_playerData.get()).coins>0?this.m_investBtn.node.active=!0:this.m_investBtn.node.active=!1:this.m_investBtn.node.active=!1},o.play=function(){if(""!=l("stateManager").getComponent(u).m_playerData.get()){var e=JSON.parse(l("stateManager").getComponent(u).m_playerData.get()),t=JSON.parse(l("stateManager").getComponent(u).m_gameStruct.get()).levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;l("stateManager").getComponent(u).m_selectedDifficulty.set(e.progression.levelIndex),setTimeout((function(){var e=t+"Scene";c.loadScene(e)}),200)}else"false"==l("stateManager").getComponent(u).m_didSeeTutorial.get()?(l("stateManager").getComponent(u).m_didSeeTutorial.set("true"),c.loadScene("tutorialScene")):c.loadScene("difficultyScene")},o.gotoSanitize=function(){""!=l("stateManager").getComponent(u).m_playerData.get()?c.loadScene("sanitizeScene"):alert("Choisissez un personnage d'abord !")},o.reset=function(){localStorage.clear(),l("dataLoader").destroy(),l("stateManager").destroy(),setTimeout((function(){c.loadScene("splashScene")}),10)},t}(p)).prototype,"m_investBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=f))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/imageWordsCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./transitionBoxCtrlr.ts","./global.ts","./stateManager.ts","./transitions.ts"],(function(e){"use strict";var t,n,r,a,i,s,o,m,l,g,u,c,_,p,h,d,f,v,C,S,w,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,o=e.Label,m=e.Sprite,l=e.Node,g=e.SpriteFrame,u=e.find,c=e.director,_=e.assetManager,p=e.Texture2D,h=e.Button,d=e.Color,f=e.Component},function(e){v=e.transitionBoxCtrlr},function(e){C=e.OPPONENTS_ANSWERS_PROBS,S=e.getRandomWithWeight},function(e){w=e.stateManager},function(e){M=e.TRANSITIONS}],execute:function(){var b,y,I,x,B,N,O,q,A,E,R,z,T;i._RF.push({},"8d09ekhLntDLLsprhwUa7Gc","imageWordsCtrlr",void 0);var D=s.ccclass,L=s.property;e("imageWords",(b=D("imageWords"),y=L({type:o}),I=L({type:m}),x=L({type:[l]}),B=L({type:[g]}),N=L({type:l}),b((A=t((q=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).m_GAME_NAME="imageWords",t.m_MISTAKES=3,t.m_BASE_SCORE=50,t.m_base_score=void 0,t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,t.m_correctBtnIndex=0,r(t,"m_questionHeader",A,a(t)),r(t,"m_questionImage",E,a(t)),r(t,"m_answerBtns",R,a(t)),r(t,"m_btnTextures",z,a(t)),r(t,"m_transitionBox",T,a(t)),t}n(t,e);var i=t.prototype;return i.start=function(){this.m_lang=u("stateManager").getComponent(w).m_gameLang.get(),this.nextSet()},i.nextSet=function(){if(this.m_didClearRound)c.loadScene("fortuneWcScene");else if(this.m_didClearLevel);else{var e=JSON.parse(u("stateManager").getComponent(w).m_playerData.get()),t=JSON.parse(u("stateManager").getComponent(w).m_fiowData.get()),n=JSON.parse(u("stateManager").getComponent(w).m_fiowDataInit.get());0==t.length&&(t=n,u("stateManager").getComponent(w).m_fiowData.set(JSON.stringify(t)));var r=JSON.parse(u("stateManager").getComponent(w).m_gameStruct.get()),a=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var i=r.levels[a].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(i==this.m_GAME_NAME){var s=t.filter((function(e){return e.level==a+1}));0==s.length&&(s=t);var o=Math.floor(Math.random()*s.length);this.m_quiz=s[o],t.splice(t.indexOf(this.m_quiz),1),u("stateManager").getComponent(w).m_fiowData.set(JSON.stringify(t)),this.initView(),this.m_base_score=this.m_BASE_SCORE,this.m_mistakes=this.m_MISTAKES}else{var m=i+"Scene";c.loadScene(m)}}},i.initView=function(){var e=this;this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/5";var t=JSON.parse(this.m_quiz.questions)[this.m_lang];this.m_questionImage.node.getChildByName("spinnerItem").active=!0,_.loadRemote(t,(function(t,n){if(!t){var r=new p;r.image=n;var a=new g;a.texture=r,e.m_questionImage.spriteFrame=a,e.m_questionImage.node.getChildByName("spinnerItem").active=!1}}));var n=JSON.parse(this.m_quiz.answers)[this.m_lang].sort((function(){return Math.random()-.5}));this.m_quiz.answers=n;for(var r=0;r<this.m_answerBtns.length;r++){var a=this.m_answerBtns[r];a.getComponent(h).interactable=!0,a.getComponent(h).enabled=!0,a.getComponent(m).color=d.WHITE,a.getChildByName("spinnerItem").active=!1,a.getComponentInChildren(o).string=this.m_quiz.answers[r].answer,this.m_quiz.answers[r].isCorrect&&(this.m_correctBtnIndex=r)}},i.checkAnswer=function(e,t){var n=this,r=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,r),r){var a=(o=M[this.m_lang].answers.correct)[Math.floor(Math.random()*o.length)];this.m_transitionBox.getComponent(v).setItem("Small",a,"happy",!0);var i=u("stateManager").getComponent(w).updateProgress(this.m_base_score);this.m_didClearRound=i[0],this.m_didClearLevel=i[1],setTimeout((function(){n.nextSet()}),1e3);for(var s=0;s<this.m_answerBtns.length;s++)this.m_answerBtns[s].getComponent(h).enabled=!1,this.m_answerBtns[s].getChildByName("spinnerItem").active=!1}else{var o;a=(o=M[this.m_lang].answers.wrong)[Math.floor(Math.random()*o.length)];if(this.m_transitionBox.getComponent(v).setItem("Small",a,"sad",!0),this.m_mistakes>1)this.m_mistakes--,this.m_base_score-=10;else{setTimeout((function(){n.setAnswerBtnColor(n.m_correctBtnIndex,!0)}),50);var m=u("stateManager").getComponent(w).updateProgress(this.m_base_score,!1);this.m_didClearRound=m[0],this.m_didClearLevel=m[1],setTimeout((function(){n.nextSet()}),1e3)}}this.simulateOpponentsScores(this.m_base_score)},i.simulateOpponentsScores=function(e){var t=JSON.parse(u("stateManager").getComponent(w).m_playerData.get()),n=JSON.parse(u("stateManager").getComponent(w).m_playersListData.get()),r=[].concat(n),a=t.progression.levelIndex,i=C[a].baseProbaRightAnswer,s=C[a].marginProbaRightAnswer/5+1,o=r.findIndex((function(e){return e.index==t.index}));r[o].score+=e;for(var m=0;m<r.length;m++)if(m!=o&&!r[m].eliminated){var l=[1,-1][Math.floor(2*Math.random())],g=5*Math.floor(Math.random()*s),c=i+(g*=l),_=[{point:1,power:c},{point:0,power:100-c}];_=_.sort((function(e,t){return.5-Math.random()}));var p=S(_);r[m].score=r[m].score+10*p}u("stateManager").getComponent(w).m_playersListData.set(JSON.stringify(r))},i.setAnswerBtnColor=function(e,t){var n=t?d.GREEN:d.RED,r=this.m_answerBtns[e];r.getComponent(h).enabled=!1,setTimeout((function(){r.getComponent(m).color=n}),30)},t}(f)).prototype,"m_questionHeader",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(q.prototype,"m_questionImage",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(q.prototype,"m_answerBtns",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(q.prototype,"m_btnTextures",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(q.prototype,"m_transitionBox",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=q))||O));i._RF.pop()}}}));

System.register("chunks:///_virtual/letterBtnCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./saveWcCtrlr.ts"],(function(t){"use strict";var e,r,n,o,c,i,l,s,a,u;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Label,c=t.find,i=t.Color,l=t.Button,s=t.Sprite,a=t.Component},function(t){u=t.saveWcCtrlr}],execute:function(){var p;r._RF.push({},"8cd7ewmqL5K3qyQXOr7ggwb","letterBtnCtrlr",void 0);var C=n.ccclass;n.property,t("letterBtnCtrlr",C("letterBtnCtrlr")(p=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_clicked=void 0,e}e(r,t);var n=r.prototype;return n.start=function(){this.m_clicked=!1},n.onClickLetter=function(t){if(!this.m_clicked){var e=this.getComponentInChildren(o).string,r=c("Canvas").getComponent(u).onClickLetter(e),n=r[0],a=r[1],p=n||a?i.GREEN:i.RED;this.node.getComponent(l).enabled=!1,this.node.getComponent(s).color=p,this.m_clicked=!0}},r}(a))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/loaderCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,o,a,n,i,l,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,o=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){n=r.cclegacy,i=r._decorator,l=r.Node,c=r.Component}],execute:function(){var s,u,p,d,f;n._RF.push({},"fa1daXeCoNOj4eETPKpxsIW","loaderCtrlr",void 0);var y=i.ccclass,h=i.property;r("loaderCtrlr",(s=y("loaderCtrlr"),u=h({type:l}),s((f=e((d=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n))||this,o(e,"dataLoader",f,a(e)),e}return t(e,r),e.prototype.start=function(){},e}(c)).prototype,"dataLoader",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./index.mjs_cjs=&original=2.js","./gameHeaderCtrlr.ts","./letterBtnCtrlr.ts","./playerAvatarCtrlr.ts","./playerItemsCtrlr.ts","./playerPupitreListCtrlr.ts","./playerRecapListCtrlr.ts","./transitionBoxCtrlr.ts","./finalCtrlr.ts","./fortuneWcCtrlr.ts","./global.ts","./homeCtrlr.ts","./imageWordsCtrlr.ts","./loaderCtrlr.ts","./dataLoader.ts","./stateManager.ts","./uiManager.ts","./onboardCtrlr.ts","./quizCtrlr.ts","./recapCtrlr.ts","./sanitizeCtrlr.ts","./saveWcCtrlr.ts","./selectDifficultyCtrlr.ts","./selectPlayerCtrlr.ts","./tutorialCtrlr.ts","./dataManager.ts","./persistentMember.ts","./scrobs.ts","./singleton.ts","./transitions.ts","./types.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/onboardCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,n,r,o,a,i,l,c,s,u,g,p,m,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,i=e._decorator,l=e.Label,c=e.Button,s=e.Node,u=e.find,g=e.Sprite,p=e.Color,m=e.director,d=e.Component},function(e){f=e.stateManager}],execute:function(){var h,_,C,b,y,F,v,A,B;a._RF.push({},"e54b1fD/i1MhpwScq6iOs5a","onboardCtrlr",void 0);var L=i.ccclass,w=i.property;e("onboardCtrlr",(h=L("onboardCtrlr"),_=w({type:l}),C=w({type:c}),b=w({type:[s]}),h((v=t((F=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,r(t,"m_header",v,o(t)),r(t,"m_continueBtn",A,o(t)),r(t,"m_langBtns",B,o(t)),t.m_selectedLang=void 0,t}n(t,e);var a=t.prototype;return a.start=function(){this.m_selectedLang=u("stateManager").getComponent(f).m_gameLang.get()},a.selectLang=function(e,t){var n={fr:[0,"Choisir votre langue pour continuer","CONTINUER"],en:[1,"Choose your language to continue","CONTINUE"]},r=n[t][0],o=n[t][1],a=n[t][2];this.m_selectedLang=t;for(var i=0;i<this.m_langBtns.length;i++){var s=this.m_langBtns[i];s.getComponent(c).enabled=!(i==r),s.getComponent(g).color=new p(i==r?"#FFFFFF":"#AAA4A4"),s.getComponent(c).normalColor=new p(i==r?"#FFFFFF":"#AAA4A4")}this.m_header.string=o,this.m_continueBtn.getComponentInChildren(l).string=a,u("stateManager").getComponent(f).m_gameLang.set(t)},a.continue=function(){m.loadScene("homeScene")},t}(d)).prototype,"m_header",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(F.prototype,"m_continueBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(F.prototype,"m_langBtns",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=F))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/persistentMember.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy}],execute:function(){var r;t("Kayfo",void 0),n._RF.push({},"cd885xdxDNIMZY/2AVMF67T","persistentMember",void 0),function(t){var n=function(){function t(t,e){this.m_defaultValue=void 0,this.m_value=void 0,this.m_key=void 0,this.loadedOnce=!1,this.m_key=t,this.m_defaultValue=e}var e=t.prototype;return e.get=function(){return this.loadedOnce||(null!=localStorage.getItem(this.m_key)?this.m_value=this.GetInternal():this.m_value=this.m_defaultValue,this.loadedOnce=!0),this.m_value},e.set=function(t){this.m_value=t,this.SetInternal(t)},e.GetInternal=function(){},e.SetInternal=function(t){},t}(),r=function(t){function n(e,n){return t.call(this,e,n)||this}e(n,t);var r=n.prototype;return r.GetInternal=function(){return"true"==localStorage.getItem(this.m_key)},r.SetInternal=function(t){localStorage.setItem(this.m_key,t?"true":"false")},n}(n);t.PersistentBool=r;var i=function(t){function n(e,n){return t.call(this,e,n)||this}e(n,t);var r=n.prototype;return r.GetInternal=function(){return parseFloat(localStorage.getItem(this.m_key))},r.SetInternal=function(t){localStorage.setItem(this.m_key,t.toString())},n}(n);t.PersistentNum=i;var o=function(t){function n(e,n){return t.call(this,e,n)||this}e(n,t);var r=n.prototype;return r.GetInternal=function(){return localStorage.getItem(this.m_key)},r.SetInternal=function(t){localStorage.setItem(this.m_key,t)},n}(n);t.PersistentString=o}(r||(r=t("Kayfo",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/playerAvatarCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./selectPlayerCtrlr.ts","./scrobs.ts"],(function(t){"use strict";var e,r,a,n,i,o,l,c,s,p,u,y,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,l=t.Sprite,c=t.find,s=t.Button,p=t.Color,u=t.Component},function(t){y=t.selectPlayerCtrlr},function(t){m=t.playerItemSCROB}],execute:function(){var v,C,f,h,d;i._RF.push({},"59219xlRtRDfaXhtyWvvcj3","playerAvatarCtrlr",void 0);var _=o.ccclass,g=o.property;t("playerAvatarCtrlr",(v=_("playerAvatarCtrlr"),C=g({type:m}),v((d=e((h=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).m_clicked=void 0,a(e,"m_playerData",d,n(e)),e}r(e,t);var i=e.prototype;return i.start=function(){this.m_clicked=!1},i.setItem=function(t){this.m_playerData=t,this.node.getComponentInChildren(l).spriteFrame=t.m_avatar},i.onClickPlayerAvatar=function(t){this.m_clicked||(c("Canvas").getComponent(y).onClickPlayerAvatar(this.m_playerData),this.node.getComponent(s).enabled=!1,this.node.getComponent(l).color=new p("#FAC800"),this.m_clicked=!0)},e}(u)).prototype,"m_playerData",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/playerItemsCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./scrobs.ts"],(function(r){"use strict";var t,e,n,i,o,s,a,c;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,n=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){o=r.cclegacy,s=r._decorator,a=r.Component},function(r){c=r.playerItemSCROB}],execute:function(){var l,p,u,y,f;o._RF.push({},"ce3611EcONFxZryb8REr9Lt","playerItemsCtrlr",void 0);var m=s.ccclass,I=s.property;r("playerItemsCtrlr",(l=m("playerItemsCtrlr"),p=I({type:[c]}),l((f=t((y=function(r){function t(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return t=r.call.apply(r,[this].concat(o))||this,n(t,"playerItems",f,i(t)),t}return e(t,r),t.prototype.start=function(){},t}(a)).prototype,"playerItems",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=y))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/playerPupitreListCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts","./playerItemsCtrlr.ts"],(function(e){"use strict";var t,r,a,n,i,o,l,s,p,c,y,m,u,g,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Prefab,s=e.instantiate,p=e.find,c=e.Component,y=e.Color,m=e.Sprite,u=e.Label},function(e){g=e.stateManager},function(e){f=e.playerItemsCtrlr}],execute:function(){var d,h,C,P,_;i._RF.push({},"499dfdPzu9MfZJCqL9j8fZp","playerPupitreListCtrlr",void 0);var v=o.ccclass,I=o.property;e("playerPupitreListCtrlr",(d=v("playerPupitreListCtrlr"),h=I({type:l}),d((_=t((P=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"m_playerItemsPrefab",_,n(t)),t.m_playerItemSCROBs=void 0,t}r(t,e);var i=t.prototype;return i.start=function(){this.initView()},i.initView=function(){var e=this,t=s(this.m_playerItemsPrefab);if(this.m_playerItemSCROBs=t.getComponent(f).playerItems,""!=p("stateManager").getComponent(g).m_playersListData.get())for(var r=JSON.parse(p("stateManager").getComponent(g).m_playerData.get()),a=JSON.parse(p("stateManager").getComponent(g).m_playersListData.get()),n=[].concat(a).sort((function(e,t){return t.score-e.score})),i=function(t){var i=a.find((function(e){return e.podiumIndex==t})),o=e.m_playerItemSCROBs[i.index],l=e.node.children[t],s=n.findIndex((function(e){return e.index==i.index}));s>2&&(s=3);var p=i.eliminated?y.BLACK:y.WHITE,c=n.filter((function(e){return 0==e.eliminated})).length;(r.eliminated||1==c)&&(l.getChildByPath("trophies").children[s].active=!0),l.getChildByPath("playerMask/player").getComponent(m).spriteFrame=o.m_avatar,l.getChildByPath("playerMask/player").getComponent(m).color=p,l.getChildByPath("playerMask/playerName").getComponent(u).string=o.m_name.toString(),l.getChildByPath("playerMask/playerScore").getComponent(u).string=i.score.toString(),l.getChildByPath("playerMask/playerScore").getComponent(u).color=i.eliminated?y.RED:y.WHITE},o=0;o<a.length;o++)i(o)},t}(c)).prototype,"m_playerItemsPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=P))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/playerRecapListCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts","./playerItemsCtrlr.ts"],(function(t){"use strict";var e,r,a,n,i,o,l,s,p,c,y,m,g,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,l=t.Prefab,s=t.instantiate,p=t.find,c=t.Component,y=t.Color,m=t.Label,g=t.Sprite},function(t){u=t.stateManager},function(t){d=t.playerItemsCtrlr}],execute:function(){var f,h,C,P,v;i._RF.push({},"15c38DG21pD+rPgfd2yyFMS","playerRecapListCtrlr",void 0);var _=o.ccclass,B=o.property;t("playerRecapListCtrlr",(f=_("playerRecapListCtrlr"),h=B({type:l}),f((v=e((P=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"m_playerItemsPrefab",v,n(e)),e.m_playerItemSCROBs=void 0,e}r(e,t);var i=e.prototype;return i.start=function(){this.initView()},i.initView=function(){var t=this,e=s(this.m_playerItemsPrefab);if(this.m_playerItemSCROBs=e.getComponent(d).playerItems,""!=p("stateManager").getComponent(u).m_playersListData.get())for(var r=JSON.parse(p("stateManager").getComponent(u).m_playerData.get()),a=JSON.parse(p("stateManager").getComponent(u).m_playersListData.get()),n=[].concat(a).sort((function(t,e){return e.score-t.score})),i=function(e){var a=n.find((function(t){return t.podiumIndex==e})),i=t.m_playerItemSCROBs[a.index],o=t.node.children[e],l=n.findIndex((function(t){return t.index==a.index}));l>2&&(l=3);var s=a.eliminated?y.BLACK:y.WHITE,p=n.filter((function(t){return 0==t.eliminated})).length;(r.eliminated||1==p)&&(o.getChildByPath("trophies").children[l].active=!0,o.getChildByPath("playerRank").active=!0,o.getChildByPath("playerRank").getComponent(m).string=(e+1).toString()),o.getChildByPath("playerMask/player").getComponent(g).spriteFrame=i.m_avatar,o.getChildByPath("playerMask/player").getComponent(g).color=s,o.getChildByPath("playerPoints").getComponent(m).string=a.score.toString()+" pts",o.getChildByPath("playerPoints").getComponent(m).color=a.eliminated?y.RED:y.BLACK},o=0;o<n.length;o++)i(o)},e}(c)).prototype,"m_playerItemsPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=P))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/quizCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playerItemsCtrlr.ts","./transitionBoxCtrlr.ts","./global.ts","./stateManager.ts","./transitions.ts"],(function(e){"use strict";var t,n,r,a,i,s,o,m,l,u,p,c,_,g,h,d,f,y,S,C,b,v,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,o=e.Prefab,m=e.Sprite,l=e.Label,u=e.Node,p=e.SpriteFrame,c=e.find,_=e.instantiate,g=e.director,h=e.Button,d=e.Color,f=e.Component},function(e){y=e.playerItemsCtrlr},function(e){S=e.transitionBoxCtrlr},function(e){C=e.OPPONENTS_ANSWERS_PROBS,b=e.getRandomWithWeight},function(e){v=e.stateManager},function(e){w=e.TRANSITIONS}],execute:function(){var M,x,I,z,B,N,O,q,A,R,E,T,P,D,J,L,k,H,U,W,F;i._RF.push({},"b7381Amf3pGYYibaJeBCvw2","quizCtrlr",void 0);var G=s.ccclass,V=s.property;e("quizCtrlr",(M=G("quizCtrlr"),x=V({type:o}),I=V({type:m}),z=V({type:l}),B=V({type:l}),N=V({type:l}),O=V({type:l}),q=V({type:[u]}),A=V({type:[p]}),R=V({type:u}),M((P=t((T=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).m_GAME_NAME="quiz",t.m_MISTAKES=3,t.m_BASE_SCORE=50,t.m_base_score=void 0,t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,t.m_correctBtnIndex=0,r(t,"m_playerItemsPrefab",P,a(t)),t.m_playerItemSCROBs=void 0,r(t,"m_playerAvatar",D,a(t)),r(t,"m_playerName",J,a(t)),r(t,"m_playerScore",L,a(t)),r(t,"m_questionHeader",k,a(t)),r(t,"m_questionText",H,a(t)),r(t,"m_answerBtns",U,a(t)),r(t,"m_btnTextures",W,a(t)),r(t,"m_transitionBox",F,a(t)),t}n(t,e);var i=t.prototype;return i.start=function(){this.m_lang=c("stateManager").getComponent(v).m_gameLang.get(),this.setPlayerView(),this.nextSet()},i.setPlayerView=function(){var e=_(this.m_playerItemsPrefab);this.m_playerItemSCROBs=e.getComponent(y).playerItems;var t=JSON.parse(c("stateManager").getComponent(v).m_playerData.get()),n=this.m_playerItemSCROBs[t.index];this.m_playerAvatar.spriteFrame=n.m_avatar,this.m_playerName.string=t.name,this.m_playerScore.string=t.score.toString()},i.nextSet=function(){if(this.m_didClearRound)g.loadScene("fortuneWcScene");else if(this.m_didClearLevel);else{var e=JSON.parse(c("stateManager").getComponent(v).m_playerData.get()),t=JSON.parse(c("stateManager").getComponent(v).m_quizData.get()),n=JSON.parse(c("stateManager").getComponent(v).m_quizDataInit.get());0==t.length&&(t=n,c("stateManager").getComponent(v).m_quizData.set(JSON.stringify(t)));var r=JSON.parse(c("stateManager").getComponent(v).m_gameStruct.get()),a=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var i=r.levels[a].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(this.updateUiScore(),i==this.m_GAME_NAME){var s=t.filter((function(e){return e.level==a+1}));0==s.length&&(s=t);var o=Math.floor(Math.random()*s.length);this.m_quiz=s[o],t.splice(t.indexOf(this.m_quiz),1),c("stateManager").getComponent(v).m_quizData.set(JSON.stringify(t)),this.initView(),this.m_base_score=this.m_BASE_SCORE,this.m_mistakes=this.m_MISTAKES}else{var m=i+"Scene";g.loadScene(m)}}},i.initView=function(){this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/5",this.m_questionText.string=JSON.parse(this.m_quiz.questions)[this.m_lang];var e=JSON.parse(this.m_quiz.answers)[this.m_lang].sort((function(){return Math.random()-.5}));this.m_quiz.answers=e;for(var t=0;t<this.m_answerBtns.length;t++){var n=this.m_answerBtns[t];n.getComponent(h).interactable=!0,n.getComponent(h).enabled=!0,n.getComponent(m).color=d.WHITE,n.getComponentInChildren(l).string=this.m_quiz.answers[t].answer,this.m_quiz.answers[t].isCorrect&&(this.m_correctBtnIndex=t)}},i.checkAnswer=function(e,t){var n=this,r=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,r),r){var a=(o=w[this.m_lang].answers.correct)[Math.floor(Math.random()*o.length)];this.m_transitionBox.getComponent(S).setItem("Small",a,"happy",!0);var i=c("stateManager").getComponent(v).updateProgress(this.m_base_score);this.m_didClearRound=i[0],this.m_didClearLevel=i[1],this.updateUiScore(),setTimeout((function(){n.nextSet()}),1e3);for(var s=0;s<this.m_answerBtns.length;s++)this.m_answerBtns[s].getComponent(h).enabled=!1}else{var o;a=(o=w[this.m_lang].answers.wrong)[Math.floor(Math.random()*o.length)];if(this.m_transitionBox.getComponent(S).setItem("Small",a,"sad",!0),this.m_mistakes>1)this.m_mistakes--,this.m_base_score-=10;else{setTimeout((function(){n.setAnswerBtnColor(n.m_correctBtnIndex,!0)}),50);var m=c("stateManager").getComponent(v).updateProgress(this.m_base_score,!1);this.m_didClearRound=m[0],this.m_didClearLevel=m[1],this.updateUiScore(),setTimeout((function(){n.nextSet()}),1e3)}}this.simulateOpponentsScores(this.m_base_score)},i.simulateOpponentsScores=function(e){var t=JSON.parse(c("stateManager").getComponent(v).m_playerData.get()),n=JSON.parse(c("stateManager").getComponent(v).m_playersListData.get()),r=[].concat(n),a=t.progression.levelIndex,i=C[a].baseProbaRightAnswer,s=C[a].marginProbaRightAnswer/5+1,o=r.findIndex((function(e){return e.index==t.index}));r[o].score+=e;for(var m=0;m<r.length;m++)if(m!=o&&!r[m].eliminated){var l=[1,-1][Math.floor(2*Math.random())],u=5*Math.floor(Math.random()*s),p=i+(u*=l),_=[{point:1,power:p},{point:0,power:100-p}];_=_.sort((function(e,t){return.5-Math.random()}));var g=b(_);r[m].score=r[m].score+10*g}c("stateManager").getComponent(v).m_playersListData.set(JSON.stringify(r))},i.updateUiScore=function(){var e=JSON.parse(c("stateManager").getComponent(v).m_playerData.get());this.m_playerScore.string=e.score.toString()},i.setAnswerBtnColor=function(e,t){var n=t?d.GREEN:d.RED,r=this.m_answerBtns[e];r.getComponent(h).enabled=!1,setTimeout((function(){r.getComponent(m).color=n}),30)},t}(f)).prototype,"m_playerItemsPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"m_playerAvatar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(T.prototype,"m_playerName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"m_playerScore",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"m_questionHeader",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"m_questionText",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"m_answerBtns",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(T.prototype,"m_btnTextures",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(T.prototype,"m_transitionBox",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=T))||E));i._RF.pop()}}}));

System.register("chunks:///_virtual/recapCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playerItemsCtrlr.ts","./global.ts","./stateManager.ts"],(function(e){"use strict";var t,n,a,r,i,s,o,l,u,p,c,m,g,f,y,d,_,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,o=e.Prefab,l=e.Node,u=e.Label,p=e.find,c=e.instantiate,m=e.director,g=e.Component},function(e){f=e.playerItemsCtrlr},function(e){y=e.qualifyPlayers,d=e.padWithX,_=e.definePlayers,C=e.TROPHIES_ACCESS},function(e){b=e.stateManager}],execute:function(){var h,S,v,w,L,I,M,P,O,x,z,J,D,N,R,q,A;i._RF.push({},"1b666GzmrJA5roFqjajIZqh","recapCtrlr",void 0);var B=s.ccclass,E=s.property;e("recapCtrlr",(h=B("recapCtrlr"),S=E({type:o}),v=E({type:l}),w=E({type:u}),L=E({type:u}),I=E({type:u}),M=E({type:u}),P=E({type:u}),h((z=t((x=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,a(t,"m_playerItemsPrefab",z,r(t)),t.m_playerItemSCROBs=void 0,a(t,"m_podiumPlayersContainer",J,r(t)),a(t,"m_continuBtnLabel",D,r(t)),t.m_isEliminated=!1,t.m_clearedLevel=!1,a(t,"m_pqCountLabel",N,r(t)),a(t,"m_rightAnswersCountLabel",R,r(t)),a(t,"m_wrongAnswersCountLabel",q,r(t)),a(t,"m_coinsCountLabel",A,r(t)),t}n(t,e);var i=t.prototype;return i.start=function(){var e=this;this.initPlayers(),setTimeout((function(){e.setupPlayers()}),1e3)},i.initPlayers=function(){var e=JSON.parse(p("stateManager").getComponent(b).m_playerData.get()),t=JSON.parse(p("stateManager").getComponent(b).m_playersListData.get()),n=[].concat(t),a=n.findIndex((function(t){return t.index==e.index}));n[a]=e;var r=c(this.m_playerItemsPrefab);this.m_playerItemSCROBs=r.getComponent(f).playerItems;var i=0;switch(e.progression.roundIndex-1){case 0:i=2;break;case-1:case 1:case 2:i=1}this.setPlayerStats(e);var s=y(n,i);p("stateManager").getComponent(b).m_playersListData.set(JSON.stringify(s)),-1!=s.findIndex((function(t){return t.index==e.index&&0==t.eliminated}))||(this.m_isEliminated=!0,this.m_continuBtnLabel.string="REJOUER"),"true"==p("stateManager").getComponent(b).m_didClearRound.get()&&(e.eliminated=!1,e.stats={pq:0,wrong_answers:0,right_answers:0,poop_coins:0},p("stateManager").getComponent(b).m_playerData.set(JSON.stringify(e)),p("stateManager").getComponent(b).m_didClearRound.set("false"))},i.setPlayerStats=function(e){this.m_pqCountLabel.string=d(e.stats.pq,3),this.m_rightAnswersCountLabel.string=d(e.stats.right_answers,3),this.m_wrongAnswersCountLabel.string=d(e.stats.wrong_answers,3),this.m_coinsCountLabel.string=d(e.stats.poop_coins,3)},i.setPlayersView=function(e){},i.gotoSanitize=function(){m.loadScene("sanitizeScene")},i.setupPlayers=function(){if("true"==p("stateManager").getComponent(b).m_didClearLevel.get()){var e=JSON.parse(p("stateManager").getComponent(b).m_playerData.get()),t=e.score;e.eliminated=!1,e.stats={pq:0,wrong_answers:0,right_answers:0,poop_coins:0},e.score=0,p("stateManager").getComponent(b).m_playerData.set(JSON.stringify(e));var n=e,a=this.m_playerItemSCROBs,r=this.m_playerItemSCROBs[e.index],i=_(n,a,r);p("stateManager").getComponent(b).setPlayersListData(i),p("stateManager").getComponent(b).m_didClearLevel.set("false");var s=C.find((function(e){return t>=e.scoreMin&&t<=e.scoreMax}));if(s){var o=JSON.parse(p("stateManager").getComponent(b).m_gameStruct.get()),l=e.progression.levelIndex-1,u=C.findIndex((function(e){return e.name==o.levels[l].trophy}));s.id>u&&(o.levels[l].trophy=s.name),p("stateManager").getComponent(b).m_gameStruct.set(JSON.stringify(o))}}},i.continue=function(){var e=JSON.parse(p("stateManager").getComponent(b).m_playerData.get()),t=JSON.parse(p("stateManager").getComponent(b).m_gameStruct.get()).levels[e.progression.levelIndex].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played}));if(this.m_isEliminated)localStorage.clear(),setTimeout((function(){m.loadScene("splashScene")}),200);else if(t){var n=t.name;this.m_clearedLevel?setTimeout((function(){m.loadScene("homeScene")}),200):setTimeout((function(){var e=n+"Scene";m.loadScene(e)}),200)}else setTimeout((function(){m.loadScene("finalScene")}),200)},t}(g)).prototype,"m_playerItemsPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(x.prototype,"m_podiumPlayersContainer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(x.prototype,"m_continuBtnLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(x.prototype,"m_pqCountLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(x.prototype,"m_rightAnswersCountLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(x.prototype,"m_wrongAnswersCountLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(x.prototype,"m_coinsCountLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=x))||O));i._RF.pop()}}}));

System.register("chunks:///_virtual/sanitizeCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameHeaderCtrlr.ts","./stateManager.ts"],(function(e){"use strict";var t,n,i,r,a,s,o,l,u,m,c,p,g,h,_,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.extends},function(e){s=e.cclegacy,o=e._decorator,l=e.Node,u=e.Sprite,m=e.Label,c=e.find,p=e.director,g=e.Button,h=e.Component},function(e){_=e.gameHeaderCtrlr},function(e){b=e.stateManager}],execute:function(){var f,y,v,d,S,C,z,D,I,w,B,R,M,N,J,x,P,O,T,H,k,F,V,L,Z,j,A;s._RF.push({},"c915fxZwENF5JyJZ+Fku4h8","sanitizeCtrlr",void 0);var E=o.ccclass,q=o.property;e("sanitizeCtrlr",(f=E("sanitizeCtrlr"),y=q({type:l}),v=q({type:l}),d=q({type:l}),S=q({type:[l]}),C=q({type:[l]}),z=q({type:[l]}),D=q({type:l}),I=q({type:l}),w=q({type:l}),B=q({type:u}),R=q({type:m}),M=q({type:Boolean}),f((x=t((J=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"m_gameHeader",x,r(t)),i(t,"m_menuBox",P,r(t)),i(t,"m_plusBtn",O,r(t)),i(t,"m_envSets",T,r(t)),i(t,"m_bioSets",H,r(t)),i(t,"m_buildingSets",k,r(t)),i(t,"m_envResourceItem",F,r(t)),i(t,"m_bioResourceItem",V,r(t)),i(t,"m_buildingResourceItem",L,r(t)),i(t,"m_progressSlider",Z,r(t)),i(t,"m_progressText",j,r(t)),t.m_playerData=null,i(t,"m_onTest",A,r(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){if(this.m_onTest){var e=JSON.parse(c("stateManager").getComponent(b).m_playerData.get());e.coins=3e3,c("stateManager").getComponent(b).m_playerData.set(JSON.stringify(e))}},s.start=function(){this.m_playerData=JSON.parse(c("stateManager").getComponent(b).m_playerData.get()),this.setupVisuals()},s.goBack=function(){p.loadScene("homeScene")},s.setupVisuals=function(){var e=JSON.parse(c("stateManager").getComponent(b).m_sanitizeData.get()),t=e.env;this.setScenery(this.m_envSets,this.m_envResourceItem,t);var n=e.bio;this.setScenery(this.m_bioSets,this.m_bioResourceItem,n);var i=e.building;this.setScenery(this.m_buildingSets,this.m_buildingResourceItem,i),this.setPercentage([this.m_envSets,this.m_bioSets,this.m_buildingSets],[t,n,i])},s.setPercentage=function(e,t){for(var n=0,i=0;i<e.length;i++)for(var r=e[i],a=0;a<r.length;a++)n++;for(var s=0,o=0;o<t.length;o++)s+=t[o].length;var l=s/n;this.m_progressSlider.fillRange=l,this.m_progressText.string=Math.round(100*l)+"%"},s.toggleMenu=function(e,t){var n="true"==t;this.m_menuBox.active=n,this.m_plusBtn.active=!n},s.refreshView=function(){this.setupVisuals(),this.m_gameHeader.getComponent(_).setCoinsPoints()},s.setScenery=function(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];e[r].getChildByName("dirty").active=!1,e[r].getChildByName("clean").active=!0}var a=t.getChildByPath("action/investBtn").getComponent(g),s=parseInt(t.getChildByPath("action/coins/cost").getComponent(m).string),o=n.length/e.length;t.getChildByPath("spotsSlider/spotsFill").getComponent(u).fillRange=o,(this.m_playerData.coins<s||n.length==e.length)&&(a.interactable=!1)},s.investIn=function(e,t){var n=JSON.parse(c("stateManager").getComponent(b).m_sanitizeData.get()),i=a({},n),r=(this.m_envSets,this.m_envResourceItem);switch(t){case"env":this.m_envSets,r=this.m_envResourceItem;break;case"bio":this.m_bioSets,r=this.m_bioResourceItem;break;case"building":this.m_buildingSets,r=this.m_buildingResourceItem}var s=parseInt(r.getChildByPath("action/coins/cost").getComponent(m).string);this.investInDomain(t,i,s)},s.investInDomain=function(e,t,n){var i=this;this.m_playerData=JSON.parse(c("stateManager").getComponent(b).m_playerData.get()),this.m_playerData.coins-=n;var r=t[e].length;t[e].push(r),c("stateManager").getComponent(b).m_playerData.set(JSON.stringify(this.m_playerData)),c("stateManager").getComponent(b).m_sanitizeData.set(JSON.stringify(t)),setTimeout((function(){i.refreshView()}),1e3)},t}(h)).prototype,"m_gameHeader",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(J.prototype,"m_menuBox",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(J.prototype,"m_plusBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(J.prototype,"m_envSets",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(J.prototype,"m_bioSets",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(J.prototype,"m_buildingSets",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(J.prototype,"m_envResourceItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(J.prototype,"m_bioResourceItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(J.prototype,"m_buildingResourceItem",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(J.prototype,"m_progressSlider",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(J.prototype,"m_progressText",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(J.prototype,"m_onTest",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=J))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/saveWcCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./transitionBoxCtrlr.ts","./global.ts","./stateManager.ts","./transitions.ts"],(function(e){"use strict";var t,n,i,r,s,o,a,l,m,h,_,u,c,d,g,p,f,C,v,S,b,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,a=e.Label,l=e.Node,m=e.Prefab,h=e.Sprite,_=e.SpriteFrame,u=e.find,c=e.instantiate,d=e.director,g=e.Button,p=e.Color,f=e.Component},function(e){C=e.transitionBoxCtrlr},function(e){v=e.OPPONENTS_ANSWERS_PROBS,S=e.getRandomWithWeight},function(e){b=e.stateManager},function(e){y=e.TRANSITIONS}],execute:function(){var M,w,T,x,A,E,I,O,B,N,R,L,z,F,W,k,P,D,q,H,J,K,G;s._RF.push({},"9c06eIaSWFM8ZFeNrliu+JW","saveWcCtrlr",void 0);var U=o.ccclass,V=o.property;e("saveWcCtrlr",(M=U("saveWcCtrlr"),w=V({type:a}),T=V({type:a}),x=V({type:l}),A=V({type:l}),E=V({type:m}),I=V({type:m}),O=V({type:[l]}),B=V({type:h}),N=V({type:[_]}),R=V({type:l}),M((F=t((z=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).m_GAME_NAME="saveWc",t.m_MISTAKES=3,t.m_BASE_SCORE=50,t.m_base_score=void 0,t.m_ALPHABET=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.m_quiz=void 0,t.m_mistakes=void 0,t.m_lang="fr",t.m_gameIndex=void 0,t.m_didClearRound=!1,t.m_didClearLevel=!1,t.m_word=void 0,t.m_letters=void 0,t.m_lettersToFind=void 0,i(t,"m_questionHeader",F,r(t)),i(t,"m_questionText",W,r(t)),i(t,"m_keyboard",k,r(t)),i(t,"m_slotsContainer",P,r(t)),i(t,"m_letterBtn",D,r(t)),i(t,"m_letterSlot",q,r(t)),i(t,"m_answerBtns",H,r(t)),i(t,"m_wcSprite",J,r(t)),i(t,"m_wcTextures",K,r(t)),i(t,"m_transitionBox",G,r(t)),t}n(t,e);var s=t.prototype;return s.start=function(){this.m_lang=u("stateManager").getComponent(b).m_gameLang.get(),this.nextSet()},s.initKeyboard=function(){this.m_keyboard.destroyAllChildren();for(var e=0;e<this.m_ALPHABET.length;e++){var t=this.m_ALPHABET[e],n=c(this.m_letterBtn);n.getComponentInChildren(a).string=t,this.m_keyboard.addChild(n)}},s.initAnswer=function(e,t){void 0===t&&(t=1),this.m_word=e,this.m_letters=this.m_word.split(""),this.m_lettersToFind=[];var n=this.getHiddenLength(e.length,t);this.m_MISTAKES=n,this.m_mistakes=n;var i=this.getRandomIndexes(e.length,n);this.m_slotsContainer.destroyAllChildren();for(var r=0;r<this.m_letters.length;r++){var s=this.m_letters[r],o=c(this.m_letterSlot);o.getComponentInChildren(a).string=s,-1!=i.indexOf(r)&&(o.getComponentInChildren(a).enabled=!1,this.m_lettersToFind.push(s));var l=[].concat(new Set(this.m_lettersToFind));this.m_lettersToFind=l,this.m_slotsContainer.addChild(o)}},s.getHiddenLength=function(e,t){return e/(4-t)+1},s.getRandomIndexes=function(e,t){for(var n=[],i=0;i<t;i++){var r=Math.floor(Math.random()*e);-1==n.indexOf(r)&&n.push(r)}return n},s.nextSet=function(){if(this.m_didClearRound)d.loadScene("fortuneWcScene");else if(this.m_didClearLevel);else{var e=JSON.parse(u("stateManager").getComponent(b).m_playerData.get()),t=JSON.parse(u("stateManager").getComponent(b).m_saveWcData.get()),n=JSON.parse(u("stateManager").getComponent(b).m_saveWcDataInit.get());0==t.length&&(t=n,u("stateManager").getComponent(b).m_saveWcData.set(JSON.stringify(t)));var i=JSON.parse(u("stateManager").getComponent(b).m_gameStruct.get()),r=e.progression.levelIndex;this.m_gameIndex=e.progression.gameIndex;var s=i.levels[r].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;if(s==this.m_GAME_NAME){var o=t.filter((function(e){return e.level==r+1}));0==o.length&&(o=t);var a=Math.floor(Math.random()*o.length);this.m_quiz=o[a],t.splice(t.indexOf(this.m_quiz),1),u("stateManager").getComponent(b).m_saveWcData.set(JSON.stringify(t)),this.initView(),this.m_base_score=this.m_BASE_SCORE,this.m_mistakes=this.m_MISTAKES}else{console.log("WE ARE LOADING THE NEXT TYPE OF GAME(any)");var l=s+"Scene";d.loadScene(l)}}},s.initView=function(){this.m_questionHeader.string="QUESTION "+(this.m_gameIndex+1)+"/5",this.initKeyboard(),this.m_questionText.string=this.m_quiz.questions[this.m_lang];var e=this.m_quiz.answers[this.m_lang];console.log(e),this.initAnswer(e,this.m_quiz.level)},s.onClickLetter=function(e){for(var t=this,n=-1!=this.m_lettersToFind.indexOf(e),i=-1!=this.m_letters.indexOf(e),r=0;r<this.m_slotsContainer.children.length;r++){var s=this.m_slotsContainer.children[r];s.getComponentInChildren(a).string==e&&(s.getComponentInChildren(a).enabled=!0)}if(n){if(this.m_lettersToFind.splice(this.m_lettersToFind.indexOf(e),1),console.log(this.m_lettersToFind),0==this.m_lettersToFind.length){var o=(h=y[this.m_lang].answers.correct)[Math.floor(Math.random()*h.length)];this.m_transitionBox.getComponent(C).setItem("Small",o,"happy",!0),console.log("COMPLETED");var l=u("stateManager").getComponent(b).updateProgress(this.m_base_score);this.m_didClearRound=l[0],this.m_didClearLevel=l[1],this.simulateOpponentsScores(this.m_base_score),setTimeout((function(){t.nextSet()}),2e3)}}else if(console.log("UNC"),!i)if(this.m_mistakes>1){this.m_mistakes--;var m=Math.floor(this.m_BASE_SCORE/this.m_MISTAKES);this.m_base_score-=m*this.m_mistakes,this.setupWc()}else{this.m_wcSprite.spriteFrame=this.m_wcTextures[2];var h;o=(h=y[this.m_lang].answers.wrong)[Math.floor(Math.random()*h.length)];this.m_transitionBox.getComponent(C).setItem("Small",o,"sad",!0);var _=u("stateManager").getComponent(b).updateProgress(this.m_base_score,!1);this.m_didClearRound=_[0],this.m_didClearLevel=_[1],this.simulateOpponentsScores(this.m_base_score),setTimeout((function(){t.nextSet()}),2e3)}return[n,i]},s.setupWc=function(){var e=0;this.m_mistakes<=this.m_MISTAKES/2?e=1:0==this.m_mistakes&&(e=2),this.m_wcSprite.spriteFrame=this.m_wcTextures[e]},s.simulateOpponentsScores=function(e){var t=JSON.parse(u("stateManager").getComponent(b).m_playerData.get()),n=JSON.parse(u("stateManager").getComponent(b).m_playersListData.get()),i=[].concat(n),r=t.progression.levelIndex,s=v[r].baseProbaRightAnswer,o=v[r].marginProbaRightAnswer/5+1,a=i.findIndex((function(e){return e.index==t.index}));i[a].score+=e;for(var l=0;l<i.length;l++)if(l!=a&&!i[l].eliminated){var m=[1,-1][Math.floor(2*Math.random())],h=5*Math.floor(Math.random()*o),_=s+(h*=m),c=[{point:1,power:_},{point:0,power:100-_}];c=c.sort((function(e,t){return.5-Math.random()}));var d=S(c);i[l].score=i[l].score+10*d}u("stateManager").getComponent(b).m_playersListData.set(JSON.stringify(i))},s.checkAnswer=function(e,t){var n=this,i=this.m_quiz.answers[t].isCorrect;if(this.setAnswerBtnColor(t,i),i){var r=u("stateManager").getComponent(b).updateProgress(this.m_base_score);this.m_didClearRound=r[0],this.m_didClearLevel=r[1],setTimeout((function(){n.nextSet()}),1e3);for(var s=0;s<this.m_answerBtns.length;s++)this.m_answerBtns[s].getComponent(g).enabled=!1}else if(this.m_mistakes>1){this.m_mistakes--;Math.floor(this.m_BASE_SCORE/this.m_MISTAKES);this.m_base_score-=5*this.m_mistakes}else setTimeout((function(){n.nextSet()}),1e3)},s.setAnswerBtnColor=function(e,t){var n=t?p.GREEN:p.RED,i=this.m_answerBtns[e];i.getComponent(g).enabled=!1,setTimeout((function(){i.getComponent(h).color=n}),30)},t}(f)).prototype,"m_questionHeader",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(z.prototype,"m_questionText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(z.prototype,"m_keyboard",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(z.prototype,"m_slotsContainer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(z.prototype,"m_letterBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(z.prototype,"m_letterSlot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(z.prototype,"m_answerBtns",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(z.prototype,"m_wcSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(z.prototype,"m_wcTextures",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(z.prototype,"m_transitionBox",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=z))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/scrobs.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,n,a;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e._decorator,a=e.SpriteFrame}],execute:function(){var o,u,c,l,s,p,b,m,f,g,_;i._RF.push({},"f9dcaE3/shDiJEVDV6R85g5","scrobs",void 0);var h=n.ccclass,y=n.property;e("playerItemSCROB",(o=h("playerItemSCROB"),u=y(a),c=y(String),l=y(Number),s=y(String),o((m=r((b=function(){t(this,"m_avatar",m,this),t(this,"m_name",f,this),t(this,"m_age",g,this),t(this,"m_job",_,this)}).prototype,"m_avatar",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=r(b.prototype,"m_name",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=r(b.prototype,"m_age",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=r(b.prototype,"m_job",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"No Job"}}),p=b))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/selectDifficultyCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./stateManager.ts"],(function(e){"use strict";var t,r,n,i,a,o,s,l,c,u,p,m,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.SpriteFrame,c=e.find,u=e.Sprite,p=e.Button,m=e.director,f=e.Component},function(e){g=e.stateManager}],execute:function(){var y,d,h,_,v,D,x,C,S;a._RF.push({},"b2e73D9aSlKz4HmBUM1Pmut","selectDifficultyCtrlr",void 0);var b=o.ccclass,I=o.property;e("selectDifficultyCtrlr",(y=b("selectDifficultyCtrlr"),d=I({type:[s]}),h=I({type:[l]}),_=I({type:[l]}),y((x=t((D=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"m_difficultyItems",x,i(t)),n(t,"m_boxTextures",C,i(t)),n(t,"m_trophiesTextures",S,i(t)),t}r(t,e);var a=t.prototype;return a.start=function(){this.initDifficulties()},a.initDifficulties=function(){for(var e=JSON.parse(c("stateManager").getComponent(g).m_gameStruct.get()).levels,t=0;t<e.length;t++){var r=e[t],n=this.m_difficultyItems[t];this.setupDifficultyItem(r,n)}},a.setupDifficultyItem=function(e,t){var r=e.unlocked;t.getComponent(u).spriteFrame=this.m_boxTextures[r?1:0],t.getComponent(p).enabled=r,t.getChildByName("lock").active=!r;var n={NONE:this.m_trophiesTextures[0],BRONZE:this.m_trophiesTextures[1],SILVER:this.m_trophiesTextures[2],GOLD:this.m_trophiesTextures[3]}[e.trophy];t.getChildByName("trophy").getComponent(u).spriteFrame=n},a.selectDifficulty=function(e,t){if(c("stateManager").getComponent(g).m_selectedDifficulty.set(t),""!=c("stateManager").getComponent(g).m_playerData.get()){var r=JSON.parse(c("stateManager").getComponent(g).m_playerData.get());r.progression.levelIndex=t,r.progression.roundIndex=0,r.progression.gameIndex=0,c("stateManager").getComponent(g).m_playerData.set(JSON.stringify(r))}setTimeout((function(){if(""!=c("stateManager").getComponent(g).m_playerData.get()){var e=JSON.parse(c("stateManager").getComponent(g).m_playerData.get()),t=JSON.parse(c("stateManager").getComponent(g).m_gameStruct.get()),r=e.progression.levelIndex;console.log(r);var n=t.levels[r].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;setTimeout((function(){var e=n+"Scene";m.loadScene(e)}),100)}else m.loadScene("selectPlayerScene")}),50)},a.goBack=function(){m.loadScene("homeScene")},t}(f)).prototype,"m_difficultyItems",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(D.prototype,"m_boxTextures",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(D.prototype,"m_trophiesTextures",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=D))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/selectPlayerCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./playerAvatarCtrlr.ts","./playerItemsCtrlr.ts","./global.ts","./stateManager.ts"],(function(e){"use strict";var t,r,a,n,l,i,s,o,m,c,y,p,u,d,_,g,f,P,h,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,i=e._decorator,s=e.Sprite,o=e.Label,m=e.Prefab,c=e.Node,y=e.instantiate,p=e.director,u=e.Button,d=e.Color,_=e.find,g=e.Component},function(e){f=e.playerAvatarCtrlr},function(e){P=e.playerItemsCtrlr},function(e){h=e.definePlayers},function(e){v=e.stateManager}],execute:function(){var b,C,S,A,I,w,x,O,B,D,R,z,F,M,N,k,J;l._RF.push({},"79be0w1sUdEiZ+oWgUxxEH9","selectPlayerCtrlr",void 0);var L=i.ccclass,T=i.property;e("selectPlayerCtrlr",(b=L("selectPlayerCtrlr"),C=T({type:s}),S=T({type:o}),A=T({type:o}),I=T({type:o}),w=T({type:m}),x=T({type:m}),O=T({type:c}),b((R=t((D=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return t=e.call.apply(e,[this].concat(l))||this,a(t,"m_selectedPlayerAvatar",R,n(t)),a(t,"m_selectedPlayerName",z,n(t)),a(t,"m_selectedPlayerAge",F,n(t)),a(t,"m_selectedPlayerJob",M,n(t)),a(t,"m_playerItemsPrefab",N,n(t)),a(t,"m_playerAvatarPrefab",k,n(t)),a(t,"m_playerAvatarsContainer",J,n(t)),t.m_selectedPlayer=void 0,t.m_selectedPlayerData=void 0,t.m_playerItemSCROBs=void 0,t}r(t,e);var l=t.prototype;return l.start=function(){this.initPlayers()},l.initPlayers=function(){var e=this,t=y(this.m_playerItemsPrefab);this.m_playerItemSCROBs=t.getComponent(P).playerItems,this.m_playerAvatarsContainer.destroyAllChildren();for(var r=0;r<this.m_playerItemSCROBs.length;r++){var a=this.m_playerItemSCROBs[r],n=y(this.m_playerAvatarPrefab);n.getComponent(f).setItem(a),this.m_playerAvatarsContainer.addChild(n)}setTimeout((function(){e.m_selectedPlayer=e.m_playerItemSCROBs[0],e.m_playerAvatarsContainer.children[0].getComponent(f).onClickPlayerAvatar(e.m_selectedPlayer)}),50)},l.goBack=function(){p.loadScene("homeScene")},l.onClickPlayerAvatar=function(e){this.m_selectedPlayer=e;for(var t=this.m_playerItemSCROBs.indexOf(e),r=0;r<this.m_playerAvatarsContainer.children.length;r++){var a=this.m_playerAvatarsContainer.children[r];a.getComponent(u).enabled=r!=t,r!=t&&(a.getComponent(s).color=new d("#FFFFFF")),a.getComponent(f).m_clicked=r==t}this.setPlayerView()},l.setPlayerView=function(){this.m_selectedPlayerAvatar.spriteFrame=this.m_selectedPlayer.m_avatar,this.m_selectedPlayerName.string=this.m_selectedPlayer.m_name.toString(),this.m_selectedPlayerAge.string=this.m_selectedPlayer.m_age.toString()+" ans",this.m_selectedPlayerJob.string=this.m_selectedPlayer.m_job.toString()},l.play=function(){var e=this.m_playerItemSCROBs.indexOf(this.m_selectedPlayer);this.m_selectedPlayerData={index:e,podiumIndex:0,name:this.m_selectedPlayer.m_name.toString(),avatar:"",score:0,globalScore:0,coins:0,pq:0,progression:{levelIndex:0,roundIndex:0,gameIndex:0,bestScore:0},stats:{pq:0,wrong_answers:0,right_answers:0,poop_coins:0},eliminated:!1},_("stateManager").getComponent(v).setPlayerData(this.m_selectedPlayerData);var t=h(this.m_selectedPlayerData,this.m_playerItemSCROBs,this.m_selectedPlayer);_("stateManager").getComponent(v).setPlayersListData(t),setTimeout((function(){var e=JSON.parse(_("stateManager").getComponent(v).m_playerData.get()),t=JSON.parse(_("stateManager").getComponent(v).m_gameStruct.get()),r=e.progression.levelIndex,a=t.levels[r].rounds[e.progression.roundIndex].games.find((function(e){return 0==e.played})).name;setTimeout((function(){var e=a+"Scene";p.loadScene(e)}),100)}),10)},t}(g)).prototype,"m_selectedPlayerAvatar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(D.prototype,"m_selectedPlayerName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"m_selectedPlayerAge",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"m_selectedPlayerJob",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(D.prototype,"m_playerItemsPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(D.prototype,"m_playerAvatarPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(D.prototype,"m_playerAvatarsContainer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=D))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n.Component}],execute:function(){e._RF.push({},"2c4e01NHj9CJ4KoEwz/dbBO","singleton",void 0);var o=n("Singleton",function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),e}(i));o.instance=null,o.instance=new o,e._RF.pop()}}}));

System.register("chunks:///_virtual/stateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./persistentMember.ts","./dataLoader.ts"],(function(t){"use strict";var e,s,a,n,i,r,o,g;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,a=t._decorator,n=t.game,i=t.find,r=t.Component},function(t){o=t.Kayfo},function(t){g=t.dataLoader}],execute:function(){var m;s._RF.push({},"1b8fc8SNfpKbbo3t4aNfSWp","stateManager",void 0);var l=a.ccclass;a.property,t("stateManager",l("stateManager")(m=function(t){function s(){for(var e,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).m_gameLang=new o.PersistentString("m_persistentGameLang",null),e.m_gameStruct=new o.PersistentString("m_persistentGameStruct",""),e.m_quizData=new o.PersistentString("m_persistentQuizData",""),e.m_fiowData=new o.PersistentString("m_persistentFiowData",""),e.m_saveWcData=new o.PersistentString("m_persistentSaveWcData",""),e.m_quizDataInit=new o.PersistentString("m_persistentQuizDataInit",""),e.m_fiowDataInit=new o.PersistentString("m_persistentFiowDataInit",""),e.m_saveWcDataInit=new o.PersistentString("m_persistentSaveWcDataInit",""),e.m_sanitizeData=new o.PersistentString("m_persistentSanitizeData",""),e.m_playerData=new o.PersistentString("m_persistentPlayerData",""),e.m_playersListData=new o.PersistentString("m_persistentPlayersListData",""),e.m_selectedDifficulty=new o.PersistentNum("m_persistentSelectedDifficulty",0),e.m_didClearRound=new o.PersistentString("m_persistentDidClearRound","false"),e.m_didClearLevel=new o.PersistentString("m_persistentDidClearLevel","false"),e.m_didSeeTutorial=new o.PersistentString("m_persistentDidSeeTutorial","false"),e}e(s,t);var a=s.prototype;return a.onLoad=function(){this.m_gameLang.set(navigator.language.substring(0,2)),this.node._persistNode||n.addPersistRootNode(this.node)},a.start=function(){if(null!=i("dataLoader")){var t=i("dataLoader").getComponent(g);""==this.m_gameStruct.get()&&this.m_gameStruct.set(JSON.stringify(t.m_gameStruct)),""==this.m_quizData.get()&&(this.m_quizData.set(JSON.stringify(t.m_quizData)),this.m_quizDataInit.set(JSON.stringify(t.m_quizData))),""==this.m_fiowData.get()&&(this.m_fiowData.set(JSON.stringify(t.m_fiowData)),this.m_fiowDataInit.set(JSON.stringify(t.m_fiowData))),""==this.m_saveWcData.get()&&(this.m_saveWcData.set(JSON.stringify(t.m_saveWcData)),this.m_saveWcDataInit.set(JSON.stringify(t.m_saveWcData))),""==this.m_sanitizeData.get()&&this.m_sanitizeData.set(JSON.stringify(t.m_sanitizeData))}else console.log("No dataLoader !")},a.setPlayerData=function(t){this.m_playerData.set(JSON.stringify(t))},a.setPlayersListData=function(t){this.m_playersListData.set(JSON.stringify(t))},a.updateProgress=function(t,e){void 0===e&&(e=!0);var s=!1,a=!1,n=JSON.parse(this.m_playerData.get()),i=JSON.parse(this.m_gameStruct.get()),r=n.progression.levelIndex;return i.levels[r].rounds[n.progression.roundIndex].games.find((function(t){return 0==t.played})).played=!0,n.progression.gameIndex+=1,n.score+=t,n.stats.right_answers=e?n.stats.right_answers+1:n.stats.right_answers,n.stats.wrong_answers=e?n.stats.wrong_answers:n.stats.wrong_answers+1,n.progression.gameIndex==i.levels[r].rounds[n.progression.roundIndex].games.length&&(n.progression.gameIndex=0,n.progression.roundIndex+=1,a=!0,n.progression.roundIndex==i.levels[r].rounds.length&&(n.progression.roundIndex=0,n.progression.levelIndex+=1,n.progression.levelIndex==i.levels.length?(n.progression.levelIndex-=1,n.progression.roundIndex=2):(i.levels[n.progression.levelIndex].unlocked=!0,s=!0))),s&&console.log(i),this.m_playerData.set(JSON.stringify(n)),this.m_gameStruct.set(JSON.stringify(i)),this.m_didClearRound.set(a),this.m_didClearLevel.set(s),[a,s]},s}(r))||m);s._RF.pop()}}}));

System.register("chunks:///_virtual/transitionBoxCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,o,i,n,a,s,p,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.SpriteFrame,p=t.Label,c=t.Sprite,l=t.Component}],execute:function(){var u,h,d,v,m;n._RF.push({},"b132bP0ZVpP4pPRmhNa+VFR","transitionBoxCtrlr",void 0);var y=a.ccclass,f=a.property;t("transitionBoxCtrlr",(u=y("transitionBoxCtrlr"),h=f({type:[s]}),u((m=e((v=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"m_poopTextures",m,i(e)),e}r(e,t);var n=e.prototype;return n.start=function(){},n.setItem=function(t,e,r,o,i){var n=this;void 0===r&&(r="happy"),void 0===o&&(o=!0),void 0===i&&(i=1300);var a="overlay/bubble"+t;this.node.getChildByPath(a).getComponentInChildren(p).string=e;var s=this.m_poopTextures[0];switch(r){case"happy":var l=Math.floor(Math.random());s=this.m_poopTextures[l];break;case"sad":l=Math.floor(Math.random())+2;s=this.m_poopTextures[l]}this.node.getChildByPath("overlay/poopCharacter").getComponent(c).spriteFrame=s,this.node.active=!0,o&&setTimeout((function(){n.node&&(n.node.active=!1)}),i)},e}(l)).prototype,"m_poopTextures",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=v))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/transitions.ts",["cc"],(function(e){"use strict";var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"f3163m5MJZA87WffNqXozwx","transitions",void 0);e("TRANSITIONS",{fr:{answers:{correct:["Bravo ! C'était la bonne réponse.","Excellent. Tu es le meilleur !","Pas mal ! Boss."],wrong:["Oh non !","Tu l'as manqué de peu !","Oh ! mauvaise réponse."]},rounds:["Tu es un bon joueur… On y va pour la suite, remportes cette partie et sois le champion","Félicitations, prêt pour la partie suivante ?","Champion, prêt pour le quizz?","J’aimerais bien tester tes connaissances en assainissement avec la manche 1 image 4 mots. On y va !!!","Penses-tu pouvoir gagner la prochaine manche contre ton adversaire ?"],levels:["Bravooooo, tu viens de débloquer le second niveau. Es-tu prêt pour le niveau intermédiaire?","Super, tu as d’excellentes notions en assainissement. Next step","Les questions liées à l’assainissement semblent ne pas avoir de secrets pour toi. Voyons si le niveau moyen nous le confirme","Niveau difficile !!! tu es à quelques pas d’être l’ultra champion de l’assainissement. C’est parti"],wc:["Tu es vraiment chanceux!!! Des bonus te sont accordés. Récupère les en jouant au WC de la fortune"],sanitize:["Le savais-tu? Les poop coins que tu as collecté tout au long du jeu peuvent te permettre d’investir dans l’assainissement et le développement durable de ta ville.\n            Tu es curieux de savoir à quoi peut ressembler ta ville s’il y avait moins de pollution?C’est très simple, investis tes gains soit dans le biocarburant, ou dans l’agriculture bio ou encore dans le bio énergie. Tu peux investir dans tous les 3 secteurs si bien sûr tu as assez de pièces.\n            Alors n’attends plus car le sort de ta ville ne dépend que de toi."],sanitize_no_coins:["Tu n'as pas pu améliorer l’assainissement de ta ville par manque de pièces? Pas d’inquiétude! Tu as la possibilité de repartir jouer et de collecter plus de pièces pour achever le nettoyage de ta ville. A toi de jouer champion."],failed:["Tout n’est pas perdu. Tu peux encore gagner en rejouant la partie"]}});s._RF.pop()}}}));

System.register("chunks:///_virtual/tutorialCtrlr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,s,r,c,l,a,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Button,l=t.Label,a=t.director,h=t.Component}],execute:function(){var u,m,d,p,_;s._RF.push({},"c2fb2RH5A9BfbIkiKlR8Xu8","tutorialCtrlr",void 0);var f=r.ccclass,g=r.property;t("tutorialCtrlr",(u=f("tutorialCtrlr"),m=g({type:c}),u((_=e((p=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).m_sectionIndex=0,e.m_sections=void 0,i(e,"m_nextBtn",_,o(e)),e}n(e,t);var s=e.prototype;return s.start=function(){this.m_sections=this.node.getChildByPath("panelBg/sectionsContainer").children},s.gotoNext=function(){this.m_sectionIndex++,this.m_sectionIndex<this.m_sections.length?(this.m_sections[this.m_sectionIndex-1].active=!1,this.m_sections[this.m_sectionIndex].active=!0,this.m_sectionIndex==this.m_sections.length-1&&(this.m_nextBtn.getComponentInChildren(l).string="TERMINER")):this.m_sectionIndex==this.m_sections.length-1?this.m_nextBtn.getComponentInChildren(l).string="TERMINER":a.loadScene("difficultyScene")},s.goBack=function(){a.loadScene("homeScene")},e}(h)).prototype,"m_nextBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/types.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9d049FpaVhPO7StEBeTLr4t","types",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/uiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./persistentMember.ts","./stateManager.ts"],(function(e){"use strict";var t,r,n,a,i,o,s,u,l,c,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Node,u=e.Label,l=e.find,c=e.Component},function(e){p=e.Kayfo},function(e){f=e.stateManager}],execute:function(){var y,g,m,b,M,d,h;i._RF.push({},"864b2OH88FDd4crwf1faTu7","uiManager",void 0);var v=o.ccclass,_=o.property;e("uiManager",(y=v("uiManager"),g=_({type:s}),m=_({type:u}),y((d=t((M=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"questionBox",d,a(t)),n(t,"playerName",h,a(t)),t.m_persistentPlayer=new p.PersistentString("m_persistentPlayer",""),t}r(t,e);var i=t.prototype;return i.start=function(){if(l("stateManager")){var e=l("stateManager").getComponent(f).m_playerData.get();this.playerName.string=JSON.parse(e).name}},i.update=function(e){},t}(c)).prototype,"questionBox",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(M.prototype,"playerName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=M))||b));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});